/*
BUILT_AT: 2021年4月8日 09:58
*/
/* eslint-disable */
!function (t) {
    function e(e) {
        for (var n, a, s = e[0], c = e[1], l = e[2], d = 0, h = []; d < s.length; d++) a = s[d], Object.prototype.hasOwnProperty.call(o, a) && o[a] && h.push(o[a][0]), o[a] = 0;
        for (n in c) Object.prototype.hasOwnProperty.call(c, n) && (t[n] = c[n]);
        for (u && u(e); h.length;) h.shift()();
        return r.push.apply(r, l || []), i()
    }

    function i() {
        for (var t, e = 0; e < r.length; e++) {
            for (var i = r[e], n = !0, s = 1; s < i.length; s++) {
                var c = i[s];
                0 !== o[c] && (n = !1)
            }
            n && (r.splice(e--, 1), t = a(a.s = i[0]))
        }
        return t
    }

    var n = {}, o = {4: 0, 6: 0}, r = [];

    function a(e) {
        if (n[e]) return n[e].exports;
        var i = n[e] = {i: e, l: !1, exports: {}};
        return t[e].call(i.exports, i, i.exports, a), i.l = !0, i.exports
    }

    a.e = function (t) {
        var e = [], i = o[t];
        if (0 !== i) if (i) e.push(i[2]); else {
            var n = new Promise((function (e, n) {
                i = o[t] = [e, n]
            }));
            e.push(i[2] = n);
            var r, s = document.createElement("script");
            s.charset = "utf-8", s.timeout = 120, a.nc && s.setAttribute("nonce", a.nc), s.src = function (t) {
                return a.p + "static/js/" + ({}[t] || t) + ".d9d3f225.js"
            }(t);
            var c = new Error;
            r = function (e) {
                s.onerror = s.onload = null, clearTimeout(l);
                var i = o[t];
                if (0 !== i) {
                    if (i) {
                        var n = e && ("load" === e.type ? "missing" : e.type), r = e && e.target && e.target.src;
                        c.message = "Loading chunk " + t + " failed.\n(" + n + ": " + r + ")", c.name = "ChunkLoadError", c.type = n, c.request = r, i[1](c)
                    }
                    o[t] = void 0
                }
            };
            var l = setTimeout((function () {
                r({type: "timeout", target: s})
            }), 12e4);
            s.onerror = s.onload = r, document.head.appendChild(s)
        }
        return Promise.all(e)
    }, a.m = t, a.c = n, a.d = function (t, e, i) {
        a.o(t, e) || Object.defineProperty(t, e, {enumerable: !0, get: i})
    }, a.r = function (t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {value: "Module"}), Object.defineProperty(t, "__esModule", {value: !0})
    }, a.t = function (t, e) {
        if (1 & e && (t = a(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var i = Object.create(null);
        if (a.r(i), Object.defineProperty(i, "default", {
            enumerable: !0,
            value: t
        }), 2 & e && "string" != typeof t) for (var n in t) a.d(i, n, function (e) {
            return t[e]
        }.bind(null, n));
        return i
    }, a.n = function (t) {
        var e = t && t.__esModule ? function () {
            return t.default
        } : function () {
            return t
        };
        return a.d(e, "a", e), e
    }, a.o = function (t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, a.p = "//s2.hdslb.com/bfs/static/blive/blfe-dynamic-web/", a.oe = function (t) {
        throw console.error(t), t
    };
    var s = ("undefined" != typeof self ? self : this).webpackJsonp = ("undefined" != typeof self ? self : this).webpackJsonp || [],
        c = s.push.bind(s);
    s.push = e, s = s.slice();
    for (var l = 0; l < s.length; l++) e(s[l]);
    var u = c;
    r.push([603, 0, 1]), i()
}([function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return n
    })), i.d(e, "b", (function () {
        return o
    })), i.d(e, "c", (function () {
        return r
    })), i.d(e, "d", (function () {
        return a
    })), i.d(e, "e", (function () {
        return s
    }));
    var n = {
            ALL: 268435455,
            REPOST: 1,
            PIC: 2,
            WORD: 4,
            VIDEO: 8,
            CLIP: 16,
            DRAMA: 32,
            ARTICLE: 64,
            MUSIC: 256,
            BANGUMI: 512,
            NONE: 1024,
            H5_SHARE: 2048,
            COMIC_SHARE: 2049,
            PGC_BANGUMI: 4097,
            FILM: 4098,
            TV: 4099,
            GUOCHUANG: 4100,
            DOCUMENTARY: 4101,
            LIVE_ROOM: 4200,
            LIVE: 4201,
            MEDIA_LIST: 4300,
            CHEESE_SERIES: 4302,
            CHEESE_UPDATE: 4303,
            LIVE_PUSH: 4308,
            COLLECTION: 4310,
            SUBSCRIPTION: 4311,
            HOT: 1e3,
            QUICK: 1001
        }, o = {
            LOAD_NOTICE: "LOAD_NOTICE",
            SCROLL: "SCROLL",
            REMOVE_SCROLL: "REMOVE_SCROLL",
            UNFOCUS: "UNFOCUS",
            STORAGE_UPDATE: "STORAGE_UPDATE",
            ADD: "ADD",
            LOCATE_CARD_EL: "LOCATE_CARD_EL",
            SET_TOP: "SET_TOP",
            IFRAME_WRAPPER_CLICK: "IFRAME_WRAPPER_CLICK",
            MORE_PANEL_CLOSE: "MORE_PANEL_CLOSE",
            FORWARDING_SCROLL: "FORWARDING_SCROLL",
            FORWARD_DYNAMIC: "FORWARD_DYNAMIC",
            INSERT_FORWARDING: "INSERT_FORWARDING",
            COMM_FOCUS: "COMM_FOCUS",
            COMM_SCROLL: "COMM_SCROLL",
            INSERT_COMM: "INSERT_COMM",
            DELETE_ITEM_COMM: "DELETE_ITEM_COMM",
            DELETE_CHILDITEM_COMM: "DELETE_CHILD_COMM",
            ADD_FORWARD_COUNT: "ADD_FORWARD_COUNT",
            ATTENTION_LIST_UPDATE: "ATTENTION_LIST_UPDATE"
        }, r = {MAIN: "MAIN", GUEST: "GUEST", DETAIL: "DETAIL", SPACE: "SPACE", LIVE: "LIVE", TAG: "TAG", GAME: "GAME"},
        a = {
            NAV_INDEX: "nav_index",
            NAV_HEAD: "nav_head",
            NAV_IM: "nav_im",
            NAV_PUBLISH: "nav_publish",
            INFO_HEAD: "info_head",
            INFO_NICKNAME: "info_nickname",
            INFO_FOLLOW: "info_follow",
            INFO_FANS: "info_fans",
            INFO_DYNAMIC: "info_dynamic",
            TOPIC: "topic",
            MYTOPIC_SHOW: "mytopic_show",
            MYTOPIC_ITEMCLICK: "mytopic_itemclick",
            MYTOPIC_MORE: "mytopic_more",
            HOTTOPIC_SHOW: "hottopic_show",
            HOTTOPIC_ITEMCLICK: "hottopic_itemclick",
            HOTTOPIC_MORE: "hottopic_more",
            MYTOPIC_LISTCLICK: "mytopic_listclick",
            HOTTOPIC_LISTCLICK: "hottopic_listclick",
            LIVE_SHOW: "live_show",
            LIVE_HEAD: "live_head",
            LIVE_NICKNAME: "live_nickname",
            LIVE_MORE: "live_more",
            LIVE_TITLE: "live_title",
            LIVE_GROUP_TEST_VIEW: "live_group_test_view",
            LIVE_GROUP_TEST_CLICK: "live_group_test_click",
            NEWS_BANNER: "news_banner",
            NEWS_CONTENT: "news_content",
            PUBLICH_EMOJI_1: "publish_emoji1",
            PUBLICH_EMOJI_2: "publish_emoji2",
            PUBLICH_PIC_1: "publish_pic1",
            PUBLICH_PIC_2: "publish_pic2",
            PUBLICH_CLICK_1: "publish_click1",
            PUBLICH_CLICK_2: "publish_click2",
            PUBLISH_AT_LIST_SHOW_1: "publish_at_list_show1",
            PUBLISH_AT_LIST_SHOW_2: "publish_at_list_show2",
            PUBLISH_RESERVE_CLICK: "reserve_icon",
            PUBLISH_RESERVE_COMPLETE: "reserve_commit_click",
            TAB_CLICK: "tab_click",
            CARD_HEAD: "card_head",
            CARD_NICKNAME: "card_nickname",
            CARD_SHARE_NICKNAME: "card_share_nickname",
            CARD_SHARE_1: "card_share_1",
            CARD_COMMENT_1: "card_comment_1",
            CARD_LIKE_1: "card_like_1",
            CARD_SHARE_0: "card_share_0",
            CARD_COMMENT_0: "card_comment_0",
            CARD_LIKE_0: "card_like_0",
            CARD_COMMENT_2: "card_comment_2",
            CARD_COMMENT_3: "card_comment_3",
            CARD_SHARE_2: "card_share_2",
            CARD_SHARE_3: "card_share_3",
            CARD_BPM: "card_bpm",
            CARD_ORIGINAL_PIC: "card_original_pic",
            CARD_CLICK: "card_click",
            CARD_VC_PLAY: "card_vc_play",
            CARD_WATCH_LATER: "card_watch_later",
            CARD_SHOW: "card_show",
            CARD_WATCH_LATER_CANCEL: "card_watch_later_cancel",
            PUBLISH_AT_LIST_SHOW: "publish_at_list_show",
            CARD_ATCLICK: "card_atclick",
            CARD_RT_ATCLICK: "card_rt_atclick",
            PAGE_HOTSHOW: "page_hotshow",
            HOTFOLLOW: "hotfollow",
            LIVEVIEW: "liveview",
            TAGVIEW: "tagview",
            POLLCLICK: "pollclick",
            LOTTERY_RETWEET: "lottery_retweet",
            DETAIL_VISIT: "detail_visit",
            DETAIL_USERPIC_CLICK: "detail_userpic_click",
            DETAIL_NICKNAME_CLICK: "detail_nickname_click",
            DETAIL_FOLLOW_CLICK: "detail_follow_click",
            DETAIL_TAB_COMMENT_CLICK: "detail_tab_comment_click",
            DETAIL_TAB_COMMENT_USERPIC_CLICK: "detail_tab_comment_userpic_click",
            DETAIL_TAB_RETWEET_CLICK: "detail_tab_retweet_click",
            DETAIL_TAB_RETWEET_USERPIC_CLICK: "detail_tab_retweet_userpic_click",
            DETAIL_CONTENT_CLICK: "detail_content_click",
            DETAIL_AT_CLICK: "detail_at_click",
            DETAIL_LINK_CLICK: "detail_link_click",
            DETAIL_RETWEETUSER_CLICK: "detail_retweetuser_click",
            DETAIL_GOTOAPP_CLICK: "detail_gotoapp_click",
            DETAIL_UP_WORKS_SHOW: "Other_Video_Model_show",
            DETAIL_UP_WORK_CARD_SHOW: "Other_Video_Card_show",
            DETAIL_UP_WORK_CARD_CLICK: "Other_Video_Card_click",
            DETAIL_UP_WORKS_MORE_SHOW: "Other_Video_More_show",
            DETAIL_UP_WORKS_MORE_CLICK: "Other_Video_More_click",
            DETAIL_SHARE_CLICK: "Share_click",
            DT_DETAIL_PIC_CLICK: "dt_detail_pic_click",
            DT_DETAIL_PIC_CLICKOFF: "dt_detail_pic_clickoff",
            CARD_MORE_TOP: "card_more_top",
            CARD_MORE_UNTOP: "card_more_untop",
            TIMER_VISIT: "timer_visit",
            TIMER_ICON: "timer_icon",
            TIMER_SET: "timer_set",
            TIMER_EDIT: "timer_edit",
            TIMER_PUBLISH: "timer_publish",
            TIMER_DELETE: "timer_delete",
            FOLD_SHOW: "fold_show",
            FOLD_CLICK: "fold_click",
            MORETOPIC: "moretopic",
            NOLOGIN_TOPIC: "nologin_topic",
            NOLOGIN_LOGIN: "nologin_login",
            NOLOGIN_REGISTER: "nologin_register",
            LOGIN_SUCCESS: "login_success",
            ITEM_CLICK: "item_click",
            SHOP_CARD_SHOW: "itemcard_show",
            SHOP_CARD_CLICK: "itemcard_click",
            SUB_BTN_CLICK: "card_subcard-button_click",
            SUB_CARD_SHOW: "card_subcard_show",
            SUB_CARD_CLICK: "card_subcard_click",
            TOP_PROFILE_PICTURE: "top_profile_picture",
            TOP_PROFILE_PICTURE_CLICK: "top_profile_picture_click",
            TOP_PROFILE_PICTURE_PAGE_CLICK: "top_profile_picture_page_click"
        }, s = (i(56), [{title: "全部", type: n.ALL, spmType: "sum"}, {
            title: "投稿视频",
            type: n.VIDEO,
            spmType: "video"
        }, {
            title: "追番追剧",
            type: [n.BANGUMI, n.PGC_BANGUMI, n.FILM, n.TV, n.GUOCHUANG, n.DOCUMENTARY].join(","),
            spmType: "bangumi"
        }, {title: "专栏", type: n.ARTICLE, spmType: "article"}])
}, , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return n
    }));
    var n = {
        API_LIVE: "//api.live.bilibili.com",
        API_VC: "//api.vc.bilibili.com",
        API_MAIN: "//api.bilibili.com",
        API_VC_CO: "//api.vc.bilibili.co",
        API_MAIN_CO: "//api.bilibili.co",
        MAIN: "//www.bilibili.com",
        SPACE: "//space.bilibili.com",
        PASSPORT: "//passport.bilibili.com",
        BANGUMI: "//bangumi.bilibili.com",
        DATA: "//data.bilibili.com",
        T: "//t.bilibili.com",
        H: "//h.bilibili.com",
        VC: "//vc.bilibili.com",
        APP: "//app.bilibili.com",
        MESSAGE: "//message.bilibili.com",
        LINK: "//link.bilibili.com",
        M: "//m.bilibili.com",
        LIVE: "//live.bilibili.com"
    }
}, , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return o
    })), i.d(e, "b", (function () {
        return a
    })), i.d(e, "d", (function () {
        return s
    })), i.d(e, "h", (function () {
        return c
    })), i.d(e, "i", (function () {
        return l.b
    })), i.d(e, "m", (function () {
        return l.d
    })), i.d(e, "o", (function () {
        return d.d
    })), i.d(e, "n", (function () {
        return d.e
    })), i.d(e, "k", (function () {
        return d.b
    })), i.d(e, "l", (function () {
        return d.c
    })), i.d(e, "c", (function () {
        return u
    })), i.d(e, "q", (function () {
        return h
    })), i.d(e, "r", (function () {
        return w
    })), i.d(e, "j", (function () {
        return x
    })), i.d(e, "f", (function () {
        return C
    })), i.d(e, "e", (function () {
        return k
    })), i.d(e, "p", (function () {
        return I
    })), i.d(e, "g", (function () {
        return S.a
    }));
    i(12), i(28), i(20), i(18), i(56), i(228), i(35), i(11), i(24), i(16), i(21);
    var n = i(6), o = {
        generateAtUsers: function (t, e, i) {
            var o = [];
            if (i && o.push(i), !e || "" === e) return o;
            var r = Object(n.e)(e);
            return Array.isArray(r) || (r = []), r.forEach((function (e) {
                var i = {uid: ~~e.data, uname: t.substr(e.location + 1, e.length - 1)};
                0 === o.filter((function (t) {
                    return t.uid === i.uid
                })).length && o.push(i)
            })), o
        }, generateAtParams: function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], n = {};
            i.forEach((function (e) {
                t.indexOf("@".concat(e.uname)) >= 0 && (n[e.uid] = e.uid)
            }));
            var o = [], r = i.concat(e), a = {};
            r.forEach((function (t) {
                a[t.uid] = t
            })), r = Object.values(a);
            var s = t;
            r.sort((function (t, e) {
                return e.uname.length - t.uname.length
            })).forEach((function (t) {
                var e = new RegExp("@".concat(t.uname.replace(/[.*?+$^[\](){}|\\]/g, "\\$&")), "g");
                s = s.replace(e, (function (e, i) {
                    var n = {data: "".concat(t.uid), location: i, length: e.length, type: 1};
                    o.push(n);
                    for (var r = "", a = 0; a < e.length; a++) r += "*";
                    return r
                }))
            })), o.sort((function (t, e) {
                return t.location - e.location
            }));
            var c = Object.values(n).join(","), l = JSON.stringify(o);
            return {atUids: c, ctrl: l}
        }
    }, r = i(9), a = new (i.n(r).a)({}), s = function (t, e) {
        var i = {
            "M+": t.getMonth() + 1,
            "d+": t.getDate(),
            "h+": t.getHours(),
            "m+": t.getMinutes(),
            "s+": t.getSeconds(),
            "q+": Math.floor((t.getMonth() + 3) / 3),
            S: t.getMilliseconds()
        };
        for (var n in /(y+)/.test(e) && (e = e.replace(RegExp.$1, (t.getFullYear() + "").substr(4 - RegExp.$1.length))), i) new RegExp("(" + n + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? i[n] : ("00" + i[n]).substr(("" + i[n]).length)));
        return e
    }, c = function t(e) {
        var i = e.offsetTop;
        return null !== e.offsetParent && (i += t(e.offsetParent)), i
    }, l = (i(52), i(53), i(74), i(44), i(36), i(26), i(59), i(14), i(45), i(42), i(48), i(2), i(8), i(22));
    var u = function (t) {
        return t.replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }, d = i(40), h = {
        set: function (t, e) {
            localStorage.setItem(t, JSON.stringify(e) || "")
        }, get: function (t) {
            return localStorage.getItem(t) || ""
        }, add: function (t, e) {
            var i = localStorage.getItem(t), o = [];
            i && (o = Object(n.e)(i), Array.isArray(o) || (o = [])), o.unshift(e), localStorage.setItem(t, JSON.stringify(o))
        }, addList: function (t, e) {
            var i = localStorage.getItem(t), o = [];
            i && (o = Object(n.e)(i), Array.isArray(o) || (o = [])), o = e.concat(o), localStorage.setItem(t, JSON.stringify(o))
        }, delete: function (t, e) {
            var i = localStorage.getItem(t);
            if (i) {
                var o = Object(n.e)(i);
                Array.isArray(o) && (o = o.filter((function (t) {
                    return t.desc.dynamic_id !== e.desc.dynamic_id
                })), localStorage.setItem(t, JSON.stringify(o)))
            }
        }, replace: function (t, e) {
            var i = localStorage.getItem(t);
            if (i) {
                var o = Object(n.e)(i);
                if (Array.isArray(o)) {
                    for (var r = 0; r < o.length; r++) {
                        o[r].desc.dynamic_id === e.desc.dynamic_id && (o[r] = e)
                    }
                    localStorage.setItem(t, JSON.stringify(o))
                }
            }
        }
    }, f = (i(65), {mid: 0, uname: "", isLogin: !1}), p = {
        card: {
            attention: 0,
            face: "//static.hdslb.com/images/member/noface.gif",
            fans: 0,
            mid: "0",
            name: "",
            sex: "",
            vip: {vipType: 0, vipStatus: 0}
        }, space: {s_img: "//i2.hdslb.com/bfs/space/768cc4fd97618cf589d23c2711a1d1a729f42235.png"}
    }, m = [], v = f, g = p, y = !1, b = !1, _ = !1, w = {
        setMyLoginInfo: function (t) {
            v = t, y = !0
        }, getMyLoginInfo: function () {
            return v
        }, resetMyLoginInfo: function () {
            v = f, y = !1
        }, setMyUserInfo: function (t) {
            g = t, b = !0
        }, getMyUserInfo: function () {
            return g
        }, resetMyUserInfo: function () {
            g = p, b = !1
        }, setMyAttentionList: function (t) {
            m = t, _ = !0
        }, getMyAttentionList: function () {
            return m
        }, insertToMyAttentionList: function (t) {
            -1 === m.indexOf(t) && m.push(t)
        }, deleteFromMyAttentionList: function (t) {
            var e = m.indexOf(t);
            -1 !== e && m.splice(e, 1)
        }, resetMyAttentionList: function () {
            m = [], _ = !1
        }, getUid: function () {
            return v.mid
        }, isInitMyLoginInfo: y, isInitMyUserInfo: b, isInitMyAttentionList: _
    };

    function C(t) {
        if (!t) return "";
        var e = t.childNodes, i = e.length;
        e.length && "BR" === e[e.length - 1].nodeName && (i -= 1);
        for (var n = "", o = 0; o < i; o++) "#text" === e[o].nodeName ? n += e[o].nodeValue : "BR" === e[o].nodeName ? n += "\n" : "INPUT" === e[o].nodeName ? n += e[o].defaultValue : "DIV" === e[o].nodeName ? n += "\n" + C(e[o]) : "BUTTON" === e[o].nodeName ? n += C(e[o]) : "IMG" === e[o].nodeName ? n += e[o].alt : (e[o].nodeName, n += C(e[o]));
        return n
    }

    function x(t) {
        var e, i;
        if (window.getSelection) {
            if ((e = window.getSelection()).getRangeAt && e.rangeCount) {
                (i = e.getRangeAt(0)).deleteContents();
                var n = document.createElement("div");
                n.innerHTML = t;
                for (var o, r, a = document.createDocumentFragment(); o = n.firstChild;) r = a.appendChild(o);
                if (i.insertNode(a), r) {
                    i = i.cloneRange();
                    try {
                        i.setStartAfter(r)
                    } catch (t) {
                        console.warn(t)
                    }
                    i.collapse(!0), e.removeAllRanges(), e.addRange(i)
                }
            }
        } else document.selection && "Control" !== document.selection.type && document.selection.createRange().pasteHTML(t)
    }

    function k(t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], i = 0,
            n = t.ownerDocument || t.document, o = n.defaultView || n.parentWindow;
        if ("DIV" === t.tagName) {
            if (o.getSelection().rangeCount > 0) {
                var r = o.getSelection().getRangeAt(0), a = r.cloneRange();
                a.selectNodeContents(t), a.setEnd(r.endContainer, r.endOffset);
                var s = a.cloneContents(), c = C(s);
                i = c.length, e && (i = c.replace(/\n/g, "").length)
            }
        } else i = t.selectionEnd;
        return i
    }

    function I(t, e) {
        var i, o, r = -1 !== Object(n.d)().indexOf("Safari");
        "DIV" === t.tagName || r ? ((i = document.createRange()).selectNodeContents(t), t.innerHTML && t.innerHTML.length > 0 && i.collapse(t, e), i.collapse(!0), (o = window.getSelection()).removeAllRanges(), o.addRange(i)) : t.setSelectionRange(e, e)
    }

    var S = i(62);
    i(71), i(30)
}, , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return n
    })), i.d(e, "b", (function () {
        return o
    })), i.d(e, "c", (function () {
        return r
    })), i.d(e, "d", (function () {
        return c
    })), i.d(e, "e", (function () {
        return l
    })), i.d(e, "f", (function () {
        return u
    })), i.d(e, "g", (function () {
        return d
    })), i.d(e, "h", (function () {
        return h
    }));
    i(17), i(35), i(11), i(24), i(16), i(38);
    var n = {
        getItem: function (t) {
            return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(t).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null
        }, setItem: function (t, e, i, n, o, r) {
            if (!t || /^(?:expires|max\-age|path|domain|secure)$/i.test(t)) return !1;
            var a = "";
            if (i) switch (i.constructor) {
                case Number:
                    a = i === 1 / 0 ? "; expires=Fri, 31 Dec 9999 23:59:59 GMT" : "; max-age=" + i;
                    break;
                case String:
                    a = "; expires=" + i;
                    break;
                case Date:
                    a = "; expires=" + i.toUTCString()
            }
            return document.cookie = encodeURIComponent(t) + "=" + encodeURIComponent(e) + a + (o ? "; domain=" + o : "") + (n ? "; path=" + n : "") + (r ? "; secure" : ""), !0
        }, removeItem: function (t, e, i) {
            return !(!t || !this.hasItem(t)) && (document.cookie = encodeURIComponent(t) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT" + (i ? "; domain=" + i : "") + (e ? "; path=" + e : ""), !0)
        }, hasItem: function (t) {
            return new RegExp("(?:^|;\\s*)" + encodeURIComponent(t).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=").test(document.cookie)
        }, keys: function () {
            for (var t = document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g, "").split(/\s*(?:\=[^;]*)?;\s*/), e = 0; e < t.length; e++) t[e] = decodeURIComponent(t[e]);
            return t
        }
    }, o = function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 200, i = {}, n = "debounce-key";
        return function () {
            for (var o = arguments.length, r = new Array(o), a = 0; a < o; a++) r[a] = arguments[a];
            i[n] && clearTimeout(i[n]), i[n] = setTimeout((function () {
                i[n] = null, t.apply(void 0, r)
            }), e)
        }
    };
    i(18), i(30);
    var r = function () {
        try {
            if ("undefined" != typeof navigator && /Firefox\/(\d+)/i.test(navigator.userAgent)) return navigator.userAgent.match(/Firefox\/(\d+)/i)[1] >= 65;
            var t = document.createElement("canvas");
            return !(!t.getContext || !t.getContext("2d")) && 0 === t.toDataURL("image/webp").indexOf("data:image/webp")
        } catch (t) {
            return !1
        }
    }(), a = (i(49), "undefined" != typeof window ? window.navigator.userAgent : ""), s = {
        myBrowser: "unknown", behaviors: [function () {
            return !!a.match(/Maxthon\/[4]/) && "Maxthon 4"
        }, function () {
            return !!a.match(/TheWorld/) && "TheWorld"
        }, function () {
            return !!a.match(/Firefox\/\d.*/) && "Firefox"
        }, function () {
            return !(!a.match(/AppleWebKit\/\d.*.Chrome\/\d.*.Safari\/\d/) || "Google Inc." !== window.navigator.vendor || !window.chrome) && "Chrome"
        }, function () {
            return !!a.match(/Opera.\d.*.Presto\/\d/) && "Opera Presto"
        }, function () {
            return !!a.match(/OPR\/\d{2}/) && "Opera Modern"
        }, function () {
            return !!a.match(/MSIE [6-8].+/) && "IE Legacy"
        }, function () {
            return !(!a.match(/MSIE [9].+/) || "function" != typeof window.ScriptEngine || "JScript" !== window.ScriptEngine()) && "IE 9"
        }, function () {
            return !(!a.match(/MSIE [10].+/) || "function" != typeof window.ScriptEngine || "JScript" !== window.ScriptEngine()) && "IE 10"
        }, function () {
            return !(!a.match(/Trident\/[7].*.rv:11/) || "function" != typeof window.ScriptEngine || "JScript" !== window.ScriptEngine()) && "IE 11"
        }, function () {
            return !(!a.match(/Edge\/\d+\.\d+/) || "function" != typeof window.StyleMedia) && "Edge"
        }, function () {
            return !(!a.match(/AppleWebKit\/\d.*.Mobile.*Safari\/\d+/) || "Apple Computer, Inc." !== window.navigator.vendor) && "SafariMobile"
        }, function () {
            return !(!a.match(/AppleWebKit\/\d.*.Safari\/\d+/) || "Apple Computer, Inc." !== window.navigator.vendor) && "Safari"
        }]
    };
    var c = function () {
        return "undefined" == typeof window ? "" : (s.behaviors.some((function (t) {
            var e = t();
            return s.myBrowser = e || "unknown", e
        })), s.myBrowser)
    }, l = function (t) {
        if ("string" != typeof t) return "";
        var e;
        try {
            e = JSON.parse(t)
        } catch (t) {
            e = ""
        }
        return e
    }, u = function (t) {
        var e, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100, n = !0;
        return function () {
            if (!n) return e;
            n = !1, setTimeout((function () {
                n = !0
            }), i);
            for (var o = arguments.length, r = new Array(o), a = 0; a < o; a++) r[a] = arguments[a];
            return e = t.apply(void 0, r)
        }
    }, d = function (t) {
        return "string" == typeof t ? t.replace(/^https?:/g, "") : ""
    }, h = (i(28), i(20), i(98), i(21), function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (!t) return {};
        var i = {}, n = "";
        if (e) {
            var o = t.href || "", r = o.match(/\?[^#/]*/g);
            r && (n = r[r.length - 1])
        } else n = t.search;
        if (~n.indexOf("?")) {
            var a = n.split("?")[1] || "", s = a.split("&");
            s.forEach((function (t) {
                if (t) {
                    var e = t.indexOf("=");
                    if (e > 0) {
                        var n = t.substring(0, e), o = t.substring(e + 1);
                        i[n] = o
                    }
                }
            }))
        }
        var c = t.pathname.split(/\//g).filter((function (t) {
            return "" !== t
        }));
        return {params: i, path: c}
    })
}, function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return r
    })), i.d(e, "b", (function () {
        return a
    })), i.d(e, "c", (function () {
        return c
    })), i.d(e, "d", (function () {
        return l
    }));
    i(12);
    var n = i(6), o = i(0), r = function (t) {
        var e, i, r = Object(n.e)(t.card);
        if (!r) return {card_type: "", card_id: "", dynamic_id: ""};
        var a = t.desc.dynamic_id, s = {};
        switch (t.desc.type) {
            case o.a.ALL:
                i = "sum";
                break;
            case o.a.REPOST:
                e = a, i = "share";
                break;
            case o.a.PIC:
                e = r.item.id, i = "ywh";
                break;
            case o.a.WORD:
                e = a, i = "text";
                break;
            case o.a.VIDEO:
                e = r.aid, i = "video";
                break;
            case o.a.CLIP:
                e = r.item.id, i = "vc";
                break;
            case o.a.ARTICLE:
                e = r.id, i = "article";
                break;
            case o.a.MUSIC:
                e = r.id, i = "music";
                break;
            case o.a.BANGUMI:
                e = "".concat(r.apiSeasonInfo.season_id, ",").concat(r.episode_id), i = "bangumi";
                break;
            case o.a.H5_SHARE:
                e = a, i = "h5share";
                break;
            case o.a.FILM:
                e = "".concat(r.apiSeasonInfo.season_id, ",").concat(r.episode_id), i = "movie";
                break;
            case o.a.TV:
                e = "".concat(r.apiSeasonInfo.season_id, ",").concat(r.episode_id), i = "tv";
                break;
            case o.a.DOCUMENTARY:
                s = r.apiSeasonInfo || r.season || {}, e = "".concat(s.season_id, ",").concat(r.episode_id), i = "documentary";
                break;
            case o.a.LIVE:
            case o.a.LIVE_ROOM:
                e = r.roomid, i = "live";
                break;
            case o.a.LIVE_PUSH:
                e = r.live_play_info && r.live_play_info.uid || "", i = "livepush";
                break;
            case o.a.COLLECTION:
                e = r.collection && r.collection.id || "", i = "collection";
                break;
            case o.a.SUBSCRIPTION:
                e = r.card_id || "", i = "notification_type";
                break;
            case o.a.MEDIA_LIST:
                e = r.id, i = "playlist";
                break;
            case o.a.CHEESE_SERIES:
                e = r.id, i = "cheese";
                break;
            case o.a.CHEESE_UPDATE:
                e = r.id, i = "cheese_update";
                break;
            default:
                e = "", i = ""
        }
        return {card_type: i, card_id: e, dynamic_id: a}
    }, a = function (t) {
        var e, i, r = Object(n.e)(t.card), a = t.desc.type === o.a.REPOST, s = a ? t.desc.orig_type : t.desc.type,
            c = a ? Object(n.e)(r.origin) : r, l = a ? t.desc.orig_dy_id : t.desc.dynamic_id;
        if (!c) return {card_type: "", card_id: "", dynamic_id: ""};
        var u = {};
        switch (s) {
            case o.a.ALL:
                i = "sum";
                break;
            case o.a.PIC:
                e = c.item.id, i = "ywh";
                break;
            case o.a.WORD:
                e = l, i = "text";
                break;
            case o.a.VIDEO:
                e = c.aid, i = "video";
                break;
            case o.a.CLIP:
                e = c.item.id, i = "vc";
                break;
            case o.a.ARTICLE:
                e = c.id, i = "article";
                break;
            case o.a.MUSIC:
                e = c.id, i = "music";
                break;
            case o.a.BANGUMI:
                e = "".concat(c.apiSeasonInfo.season_id, ",").concat(c.episode_id), i = "bangumi";
                break;
            case o.a.H5_SHARE:
                e = l, i = "h5share";
                break;
            case o.a.FILM:
                e = "".concat(c.apiSeasonInfo.season_id, ",").concat(c.episode_id), i = "movie";
                break;
            case o.a.TV:
                e = "".concat(c.apiSeasonInfo.season_id, ",").concat(c.episode_id), i = "tv";
                break;
            case o.a.DOCUMENTARY:
                u = c.apiSeasonInfo || c.season || {}, e = "".concat(u.season_id, ",").concat(c.episode_id), i = "documentary";
                break;
            case o.a.LIVE:
            case o.a.LIVE_ROOM:
                e = c.roomid, i = "live";
                break;
            case o.a.LIVE_PUSH:
                e = c.uid, i = "livepush";
                break;
            case o.a.COLLECTION:
                e = c.collection && c.collection.id || "", i = "collection";
                break;
            case o.a.SUBSCRIPTION:
                e = c.card_id || "", i = "notification_type";
                break;
            case o.a.MEDIA_LIST:
                e = c.id, i = "playlist";
                break;
            case o.a.CHEESE_SERIES:
            case o.a.CHEESE_UPDATE:
                e = c.id, i = "cheese";
                break;
            default:
                e = "", i = ""
        }
        return {card_type: i, card_id: e, dynamic_id: l}
    }, s = (i(26), "//s1.hdslb.com/bfs/seed/bplus-common/statistics-js/log-reporter.js"), c = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "",
            n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
        if (window.__bp_statisObserverConfig = Object.assign({
            spmId: t,
            baseURL: "//data.bilibili.com/log/web",
            selfDefMsgs: "",
            clickConfig: {isDoubleWrite: !0, logId: i, msgAttrName: "data-report"},
            pvConfig: {isDoubleWrite: !0, logId: e, selfDefMsg: n},
            selfConfig: {isDoubleWrite: !0, logId: i}
        }, window.__bp_statisObserverConfig), void 0 === window.__bp_statisObserver) {
            var o = document.createElement("script");
            o.onload = function () {
                setTimeout((function () {
                    if (window.__bp_preDefaultMsgObj && window.__bp_defaultMsgObj && window.__bp_statisObserver) for (var t = window.__bp_preDefaultMsgObj.length; t > 0;) {
                        var e = window.__bp_preDefaultMsgObj[t - 1];
                        window.__bp_defaultMsgObj[e.key] = e.value, window.__bp_statisObserver.forceCommit(), t--
                    }
                }), 1e3)
            }, o.src = s, document.getElementsByTagName("body")[0].appendChild(o)
        }
    }, l = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
        if (window.__bp_defaultMsgObj && window.__bp_statisObserver) {
            window.__bp_defaultMsgObj[t] = e;
            try {
                window.__bp_statisObserver.forceCommit()
            } catch (t) {
                console.log(t)
            }
        } else window.__bp_preDefaultMsgObj ? window.__bp_preDefaultMsgObj.push({
            key: t,
            value: e
        }) : window.__bp_preDefaultMsgObj = [{key: t, value: e}]
    }
}, function (t, e, i) {
    "use strict";
    i.r(e), i.d(e, "showVerifyPopup", (function () {
        return n
    })), i.d(e, "bfsImgLink", (function () {
        return a
    })), i.d(e, "bfsUrl", (function () {
        return d
    })), i.d(e, "bus", (function () {
        return f
    })), i.d(e, "checkLoginStatus", (function () {
        return w
    })), i.d(e, "fetchLoginInfo", (function () {
        return b
    })), i.d(e, "fetchLoginUid", (function () {
        return x
    })), i.d(e, "isBiliApp", (function () {
        return k
    })), i.d(e, "isOldBrowser", (function () {
        return S
    })), i.d(e, "longNumberToString", (function () {
        return O
    })), i.d(e, "numberFormat", (function () {
        return E
    })), i.d(e, "quickLogin", (function () {
        return D
    })), i.d(e, "randomEmoji", (function () {
        return H
    })), i.d(e, "getShowBvConfig", (function () {
        return W
    })), i.d(e, "getVideoLink", (function () {
        return q
    })), i.d(e, "protectDialog", (function () {
        return Y
    })), i.d(e, "setDisturb", (function () {
        return K
    })), i.d(e, "clearHistory", (function () {
        return Z
    })), i.d(e, "attachSearch", (function () {
        return X
    })), i.d(e, "attachRight", (function () {
        return Q
    })), i.d(e, "attachPreview", (function () {
        return tt
    }));
    i(12);
    var n = function (t) {
        var e = "请先绑定手机", n = "你还没有绑定手机哦~", o = "去绑定", r = "//passport.bilibili.com/site/site.html";
        t.bpPopup({
            title: e,
            html: '\n      <div style="margin: 20px 0; text-align: center; color: #999">\n        <img src="'.concat(i(253), '" style="margin-bottom: 10px">\n        <p>').concat(n, "</p>\n      </div>\n    "),
            button: {confirm: o, cancel: "以后再说"}
        }).onConfirm((function (t) {
            window.open(r, "_blank"), t.close()
        }))
    }, o = (i(28), i(56), i(11), i(30), i(16), i(6)), r = /\/bfs\//, a = function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
            n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, a = t;
        if (!o.c && /\.webp$/.test(t) && (/@/.test(t) ? a = t.replace(/\.webp$/, ".jpg") : a += "@.jpg"), "undefined" != typeof window && window && window._bp_audit_mode || !t || "string" != typeof t || !/\.(jpg|png|gif)(@\w*)?$/.test(t) || !r.test(t)) return encodeURI(a);
        var c = (t = t.replace(/(\.\w+)@\w*$/, (function (t, e) {
                return e
            }))).match(/\.(jpg|png|gif)$/)[0],
            l = !1 === n.autoDpr || "undefined" == typeof window ? 1 : parseInt(window.devicePixelRatio) || 1,
            u = Math.ceil(e), d = Math.ceil(i), h = u ? "".concat(u * l, "w") : "", f = d ? "".concat(d * l, "h") : "",
            p = s(n.p, "p"), m = s(n.e, "e"), v = s(n.c, "c"), g = n.others ? n.others : "", y = [h, f, p, m, v, g],
            b = y.filter((function (t) {
                return "" !== t
            })).join("_"), _ = o.c && !1 !== n.useWebp, w = _ ? ".webp" : c, C = h || f || v || g || _;
        return encodeURI(C ? "".concat(t, "@").concat(b).concat(w) : "".concat(a))
    };

    function s(t, e) {
        return "string" == typeof t ? t : "number" == typeof t ? "".concat(t).concat(e) : ""
    }

    var c, l = function (t, e, i, n) {
        var o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "center", r = {};
        return n ? r = {} : "center" === o ? (r.c = 1, r.e = 1) : r.others = "!header", a(t, e, n ? 0 : i, r)
    }, u = function (t) {
        return /\.gif$/.test(t)
    }, d = function (t, e, i) {
        var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
            o = {url: "", width: 0, height: 0, gifTop: !1};
        if (!t) return o;
        var r = e / i, a = r < 1 / 3 ? "top" : "center", s = 104, c = 104, d = 180, h = 180, f = 240, p = 240, m = 320,
            v = 320;
        switch (n) {
            case 0:
                switch (!0) {
                    case e <= 360:
                        switch (!0) {
                            case r >= 1:
                                o.width = d, o.height = Math.min(o.width / r, h);
                                break;
                            case r < 1 && r >= .75:
                                o.width = d, o.height = Math.min(o.width / r, p);
                                break;
                            case r < .75:
                                o.height = f, o.width = Math.min(o.height * r, d)
                        }
                        break;
                    case e > 360 && e <= 960:
                        switch (!0) {
                            case r >= 1:
                                o.width = f, o.height = Math.min(o.width / r, p);
                                break;
                            case r < 1 && r >= .75:
                                o.width = f, o.height = Math.min(o.width / r, v);
                                break;
                            case r < .75:
                                o.width = f, o.height = v, o.gifTop = u(t)
                        }
                        break;
                    case e > 960:
                        switch (!0) {
                            case r >= 1:
                                o.width = m, o.height = Math.min(o.width / r, v);
                                break;
                            case r < 1 && r >= .75:
                                o.width = f, o.height = Math.min(o.width / r, v);
                                break;
                            case r < .75:
                                o.width = f, o.height = v, o.gifTop = u(t)
                        }
                }
                break;
            case 1:
                o.width = s, o.height = c
        }
        return o.width = Math.ceil(o.width), o.height = Math.ceil(o.height), o.url = l(t, o.width, o.height, o.gifTop, a), o
    }, h = i(9), f = new (i.n(h).a)({}), p = (i(14), i(19), i(10)), m = i.n(p), v = (i(29), i(32)), g = i.n(v);

    function y(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var b = function () {
        var t, e = (t = m.a.mark((function t(e) {
            return m.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        if (e || !c) {
                            t.next = 2;
                            break
                        }
                        return t.abrupt("return", c);
                    case 2:
                        return t.next = 4, g.a.get().then((function (t) {
                            c = t.data
                        }), (function (t) {
                            c = t.data
                        }));
                    case 4:
                        return t.abrupt("return", c);
                    case 5:
                    case"end":
                        return t.stop()
                }
            }), t)
        })), function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    y(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    y(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        });
        return function (t) {
            return e.apply(this, arguments)
        }
    }();

    function _(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var w = function () {
        var t, e = (t = m.a.mark((function t() {
            var e;
            return m.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        return t.next = 2, b();
                    case 2:
                        return e = t.sent, t.abrupt("return", e.isLogin);
                    case 4:
                    case"end":
                        return t.stop()
                }
            }), t)
        })), function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    _(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    _(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        });
        return function () {
            return e.apply(this, arguments)
        }
    }();

    function C(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var x = function () {
        var t, e = (t = m.a.mark((function t(e) {
            var i;
            return m.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        return t.next = 2, b(e);
                    case 2:
                        return i = t.sent, t.abrupt("return", i.mid);
                    case 4:
                    case"end":
                        return t.stop()
                }
            }), t)
        })), function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    C(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    C(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        });
        return function (t) {
            return e.apply(this, arguments)
        }
    }(), k = function () {
        var t = !1;
        try {
            t = !(!window.biliInject && !window.webkit.messageHandlers.biliInject)
        } catch (t) {
        }
        return t
    }, I = Object(o.d)(), S = "IE 9" === I || "IE Legacy" === I, O = (i(42), function (t) {
        return t.replace(/("\w*":)\s*(\d{16}\d*)/g, '$1"$2"').replace(/(\\"\w*\\":)\s*(\d{16}\d*)/g, '$1\\"$2\\"').replace(/("\w*":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g, (function (t, e, i) {
            return "".concat(e).concat(i.trim().replace(/\[/, '["').replace(/]/, '"]').replace(/,/g, '","'))
        })).replace(/(\\"\w*\\":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g, (function (t, e, i) {
            return "".concat(e).concat(i.trim().replace(/\[/, '[\\"').replace(/]/, '\\"]').replace(/,/g, '\\",\\"'))
        }))
    }), T = (i(49), i(17), i(227), i(26), [{unit: "亿", val: 1e8}, {unit: "万", val: 1e4}]), E = {
        autoParse: function (t) {
            return function (t, e) {
                if (!Array.isArray(t)) return console.warn("[NumberFormat] 无法获取格式化列表.");
                var i;
                return t.some((function (t) {
                    if (e >= t.val) return i = L(t.val, {fixing: 1, unit: t.unit})(e), !0
                })), i || "".concat(e)
            }(T, t)
        }, create: L
    }, P = {fixing: 1, unit: "", base: null};

    function L() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1e4,
            e = arguments.length > 1 ? arguments[1] : void 0;
        return function (i) {
            var n = parseInt(i, 10);
            if (t = parseInt(t, 10), isNaN(n) || isNaN(t)) return "undefined" != typeof console && console.warn("[NumberFormat] 创建格式化函数时 threshold 与 传入数字必须为数字类型."), i;
            var o = Object.assign({}, P, e);
            return n < t ? n : Number((n / (o.base || t)).toFixed(o.fixing)) + "".concat(o.unit)
        }
    }

    var j = i(60), A = i.n(j);

    function M(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var D = function () {
        var t, e = (t = m.a.mark((function t(e) {
            var i;
            return m.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        if ("undefined" != typeof window) {
                            t.next = 2;
                            break
                        }
                        return t.abrupt("return", !1);
                    case 2:
                        return t.next = 4, w();
                    case 4:
                        if (t.sent) {
                            t.next = 13;
                            break
                        }
                        return t.next = 7, A()("https://s1.hdslb.com/bfs/seed/jinkela/short/mini-login/miniLogin.umd.min.js");
                    case 7:
                        return (i = new window.MiniLogin).showComponent(), i.addEventListener("success", (function () {
                            e()
                        })), t.abrupt("return", !1);
                    case 13:
                        return t.abrupt("return", !0);
                    case 14:
                    case"end":
                        return t.stop()
                }
            }), t)
        })), function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    M(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    M(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        });
        return function (t) {
            return e.apply(this, arguments)
        }
    }(), B = {
        angry: [",,Ծ‸Ծ,,", "(╯‵□′)╯︵┻━┻"],
        happy: ["=‿=✧", "●ω●", "(/ ▽ \\)", "(=・ω・=)", "(●'◡'●)ﾉ♥", "<(▰˘◡˘▰)>", "(⁄ ⁄•⁄ω⁄•⁄ ⁄)", "(ง,,• ᴗ •,,)ง ✧", ">ㅂ<ﾉ ☆"],
        shock: ["Σ( ° △ °|||)︴", "┌( ಠ_ಠ)┘", "(ﾟДﾟ≡ﾟдﾟ)!?", "∑(っ °Д °;)っ"],
        sad: ["＞︿＜", "＞△＜", "●︿●", "(´；ω；`)"],
        helpless: ["◐▽◑", "ʅ（´◔౪◔）ʃ", "_(:3 」∠)_", "_(┐「ε:)_", "(°▽°)ﾉ", "←◡←", "_(•̀ᴗ•́ 」∠ ❀)_", "_φ(･ω･` )"]
    }, N = {};
    for (var R in B) !function (t) {
        N[t] = function () {
            return $(t)
        }
    }(R);
    var $ = function (t) {
        return B[t][Math.floor(Math.random() * B[t].length)]
    }, H = N, z = (i(52), i(53), i(74), i(44), i(45), i(48), i(15));

    function U(t) {
        return (U = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    var F = function () {
        return Object(z.a)({
            method: "get",
            url: "//api.vc.bilibili.com/dynamic_mix/v1/dynamic_mix/bvid_onoff",
            cache_key: "bpShowBvConfig",
            ttl: 4e3,
            localCache: !0,
            throttleInterval: 4e3,
            timeout: 5e3
        }).then((function (t) {
            var e = !0 === t.data.show_bv || "true" === t.data.show_bv;
            W() !== e && ("object" === ("undefined" == typeof window ? "undefined" : U(window)) && (window.__BILI_CONFIG__ || (window.__BILI_CONFIG__ = {show_bv: e}), window.__BILI_CONFIG__.show_bv = e, localStorage.setItem("bili_config_show_bv", e)), f.$emit("ShowBvConfigUpdated"))
        }))
    }, V = function () {
        var t = !1;
        return "object" !== ("undefined" == typeof window ? "undefined" : U(window)) || (window.__BILI_CONFIG__ && void 0 !== window.__BILI_CONFIG__.show_bv ? (t = window.__BILI_CONFIG__.show_bv, localStorage.setItem("bili_config_show_bv", t)) : t = "true" === localStorage.getItem("bili_config_show_bv")), t
    }, G = !0, W = function () {
        return "undefined" != typeof window && (G ? (G = !1, t = V(), F()) : t = V(), t);
        var t
    }, q = function (t, e) {
        return W() && e ? "//www.bilibili.com/video/".concat(e) : "//www.bilibili.com/video/av".concat(t)
    }, J = i(2), Y = function (t) {
        return Object(z.a)({
            method: "get",
            url: "".concat(J.a.API_VC, "/x/im/anti_disturb/get_disturb"),
            data: {scene: t}
        })
    }, K = function (t) {
        var e = t.id, i = t.isOpen;
        return Object(z.a)({
            method: "post",
            url: "".concat(J.a.API_VC, "/x/im/anti_disturb/set_disturb"),
            data: {selected_id: e, is_open: i}
        })
    }, Z = function () {
        return Object(z.a)({method: "get", url: "".concat(J.a.API_VC, "/x/im/anti_disturb/clean_disturb_session")})
    }, X = function (t) {
        var e = t.page, i = t.biz_name, n = t.biz_type, o = t.uid;
        return new Promise((function (t, r) {
            Object(z.a)({
                method: "post",
                url: "".concat(J.a.API_MAIN, "/x/dynamic/feed/attach/search"),
                data: {biz_type: n, pn: e, uid: o, biz_name: i}
            }).then((function (e) {
                e.code ? r(e) : t({result: e.data.attach_card_briefs})
            })).catch(r)
        }))
    }, Q = function (t) {
        return Object(z.a)({method: "get", url: "".concat(J.a.API_MAIN, "/x/dynamic/feed/attach/auth?uid=").concat(t)})
    }, tt = function (t, e) {
        return Object(z.a)({
            method: "get",
            url: "".concat(J.a.API_MAIN, "/x/dynamic/feed/attach/preview?biz_id=").concat(t, "&biz_type=").concat(e)
        })
    }
}, , , , , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return o
    })), i.d(e, "i", (function () {
        return r
    })), i.d(e, "b", (function () {
        return l
    })), i.d(e, "d", (function () {
        return d
    })), i.d(e, "f", (function () {
        return m
    })), i.d(e, "g", (function () {
        return v
    })), i.d(e, "c", (function () {
        return p
    })), i.d(e, "e", (function () {
        return g.a
    })), i.d(e, "h", (function () {
        return g.b
    }));
    i(18);
    var n = {};

    function o(t, e, i, o) {
        n[e] && n[e].indexOf(t) > -1 || (t.addEventListener(e, i, o), n[e] || (n[e] = []), n[e].push(t))
    }

    function r(t, e, i) {
        t.removeEventListener(e, i), n[e] && n[e].indexOf(t) > -1 && (n[e][n[e].indexOf(t)] = null)
    }

    var a = i(6), s = i(0), c = function (t, e) {
        var i = Object(a.e)(t.card);
        if (i) {
            switch (t.desc.type) {
                case s.a.REPOST:
                case s.a.PIC:
                case s.a.WORD:
                case s.a.CLIP:
                    i.item.reply += e;
                    break;
                case s.a.VIDEO:
                    i.stat.reply += e;
                    break;
                case s.a.ARTICLE:
                    i.stats.reply += e;
                    break;
                case s.a.MUSIC:
                    i.replyCnt += e;
                    break;
                case s.a.H5_SHARE:
                    t.desc.comment += e;
                    break;
                case s.a.BANGUMI:
                case s.a.PGC_BANGUMI:
                case s.a.GUOCHUANG:
                    i.reply_count += e
            }
            t.card = JSON.stringify(i)
        }
    }, l = {
        replyAdd: function (t) {
            c(t, 1)
        }, replySub: function (t) {
            c(t, -1)
        }, repostAdd: function (t) {
            t.desc.repost = t.desc.repost + 1
        }
    };
    i(12);

    function u(t) {
        return t < 10 ? t = "0" + t : t
    }

    function d(t) {
        if (!+t) return t;
        var e = Math.floor((new Date).getTime() / 1e3), i = new Date;
        if (i.setHours(0) && i.setMinutes(0) && i.setSeconds(0) && (i = Math.floor(i.getTime() / 1e3)) && t > i && e - t >= 0) {
            if (e - t <= 50) {
                var n = 10 * Math.floor((e - t) % 60 / 10);
                return (t > 10 ? n : 10) + "秒前"
            }
            return e - t < 3600 ? Math.ceil((e - t) / 60) + "分钟前" : Math.ceil((e - t) / 3600) + "小时前"
        }
        return function (t) {
            var e = new Date;
            e.setTime(1e3 * t);
            var i = [u(e.getMonth() + 1), u(e.getDate()), u(e.getHours()), u(e.getMinutes())], n = i[0], o = i[1],
                r = i[2], a = i[3];
            return "".concat(e.getFullYear(), "-").concat(n, "-").concat(o, " ").concat(r, ":").concat(a)
        }(t)
    }

    i(20), i(56), i(26), i(21);
    var h = i(7), f = {currentType: 0, isNeedCardPopup: !0, pageType: ""}, p = {
        setCurrentType: function (t) {
            t === s.a.HOT ? f.currentType = "hot" : t === s.a.QUICK ? f.currentType = "quick" : f.currentType = t || 0
        }, getCurrentType: function () {
            return f.currentType
        }, setIsNeedCardPopup: function (t) {
            f.isNeedCardPopup = !!t
        }, getIsNeedCardPopup: function () {
            return f.isNeedCardPopup
        }, setPageType: function (t) {
            f.pageType = t
        }, getPageType: function () {
            return f.pageType
        }
    };

    function m(t, e) {
        var i = {}, n = p.getPageType(), o = [];
        t.display && t.display.highlight && t.display.highlight.items && t.display.highlight.items.forEach((function (t) {
            o.push(t.item_id)
        }));
        var r = o.join(",");
        if (n === s.c.MAIN) i = {tab_type: p.getCurrentType()}; else if (n === s.c.TAG) {
            i = {type: "S" === t.desc.topic_board ? 3 : "A" === t.desc.topic_board ? 2 : 1}
        }
        return i = Object.assign(i, {item_id: r}, e), Object.assign(Object(h.a)(t), i)
    }

    function v(t, e) {
        var i = {}, n = p.getPageType(), o = [];
        t.display && t.display.origin && t.display.origin.highlight && t.display.origin.highlight.items && t.display.origin.highlight.items.forEach((function (t) {
            o.push(t.item_id)
        }));
        var r = o.join(",");
        if (n === s.c.MAIN) i = {tab_type: p.getCurrentType()}; else if (n === s.c.TAG) {
            i = {type: "S" === t.desc.topic_board ? 3 : "A" === t.desc.topic_board ? 2 : 1}
        }
        return i = Object.assign({}, {item_id: r}, e), Object.assign(Object(h.b)(t), i)
    }

    var g = i(75)
}, , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return G
    })), i.d(e, "b", (function () {
        return W
    }));
    i(14), i(19);
    var n = i(61), o = i(238), r = i.n(o).a.create({timeout: "undefined" == typeof window ? 1e3 : 0});
    i(12);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    var c = function t() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
            o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "对不起，服务器开小差了~ (ಥ﹏ಥ)",
            r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "error",
            c = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : -8888,
            l = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : {};
        if (s(this, t), "object" === a(o)) {
            var u = "对不起，服务器开小差了~ (ಥ﹏ಥ)";
            o.response ? u = "".concat(o.response.statusText, " ").concat(o.response.status) : "ECONNABORTED" === o.code && (u = "接口超时，稍后再试试吧~ (ಥ﹏ಥ)"), this.msg = u
        } else this.msg = o;
        this.type = r, this.code = c, this.data = l, this.url = i, this.payload = n, this.cost = e
    }, l = i(6), u = Object(l.d)(), d = "IE 9" === u || "IE Legacy" === u, h = d || "IE 10" === u || "IE 11" === u;
    i(11), i(30), i(16);
    var f = {};
    var p = {}, m = function () {
        var t = Math.random();
        return p[t] = Date.now(), t
    }, v = function (t) {
        if (!t) return 0;
        if (p[t]) {
            var e = Date.now() - p[t];
            return delete p[t], e
        }
        return 0
    };
    i(35), i(24);
    var g = function (t, e) {
        var i = new RegExp("[?&]".concat(e, "=([^&#]+)"));
        return (t.match(i) || [])[1] || ""
    }, y = (i(26), i(2)), b = i(76), _ = i.n(b);

    function w(t) {
        if (!t) return t;
        var e = t;
        if (!("undefined" != typeof FormData && e instanceof FormData)) {
            var i = {};
            if ("undefined" != typeof window) {
                var n = g(window.location.href, "lang");
                if (n) {
                    var o = "iphone";
                    (/Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.userAgent)) && (o = "android"), i.lang = n, i.mobi_app = "".concat(o, "_i")
                }
            }
            t = e = Object.assign(i, e), h && (t._ = (new Date).getTime())
        }
        return t
    }

    i(42);

    function C(t, e) {
        if ("string" == typeof t) {
            var i = t.replace(/("\w*":)\s*(\d{16}\d*)/g, '$1"$2"').replace(/(\\"\w*\\":)\s*(\d{16}\d*)/g, '$1\\"$2\\"').replace(/("\w*":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g, (function (t, e, i) {
                return "".concat(e).concat(i.trim().replace(/\[\s*/, '["').replace(/\s*]\s*/, '"]').replace(/\s*,\s*/g, '","'))
            })).replace(/(\\"\w*\\":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g, (function (t, e, i) {
                return "".concat(e).concat(i.trim().replace(/\[\s*/, '[\\"').replace(/\s*]/, '\\"]').replace(/\s*,\s*/g, '\\",\\"'))
            }));
            if (e) try {
                t = JSON.parse(i)
            } catch (t) {
            } else t = i
        }
        return t
    }

    function x(t) {
        return C(t, !1)
    }

    var k = function (t) {
        return C(t, !0)
    }, I = (i(18), i(239)), S = i.n(I);

    function O(t, e, i, n, o, r) {
        var a = r ? t : t.data;
        return new Promise((function (t, r) {
            var s, l, u = function () {
                return 0 === a[s]
            };
            e.indexOf(y.a.SPACE) >= 0 ? (s = "status", l = "result", u = function () {
                return !0 === a[s]
            }) : e.indexOf(y.a.BANGUMI) >= 0 ? (s = "code", l = "result") : e.indexOf(y.a.PASSPORT) >= 0 ? (s = "code", l = "access_info") : (s = "code", l = "data"), void 0 === a || void 0 === a[s] ? r(new c(o, e, i)) : u() ? t(new c(o, e, i, "请求成功", "success", 0, n ? a : a[l])) : r(new c(o, e, i, a.message || a.msg || "电波无法到达~ ".concat(a.message || a.msg || a.code), "caution", a[s], a[l]))
        }))
    }

    i(23);

    function T(t, e, i) {
        return (T = E() ? Reflect.construct : function (t, e, i) {
            var n = [null];
            n.push.apply(n, e);
            var o = new (Function.bind.apply(t, n));
            return i && P(o, i.prototype), o
        }).apply(null, arguments)
    }

    function E() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
            }))), !0
        } catch (t) {
            return !1
        }
    }

    function P(t, e) {
        return (P = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function L(t, e, i) {
        for (var n = arguments.length, o = new Array(n > 3 ? n - 3 : 0), r = 3; r < n; r++) o[r - 3] = arguments[r];
        return Promise.reject(T(c, [t, e, i].concat(o)))
    }

    i(20), i(59), i(21);

    function j(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    var A = function () {
        function t() {
            !function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.store = {};
            var e = {}, i = {};
            if ("undefined" != typeof window && window.localStorage) try {
                e = JSON.parse(window.localStorage.getItem("bpapi_cache")) || e
            } catch (t) {
            }
            var n = (new Date).getTime();
            Object.keys(e).forEach((function (t) {
                var o = e[t];
                o && n - o.ts < o.ttl && n - o.ts < 36e4 && (i[t] = o)
            })), i.uniqueKey = e.uniqueKey, this.store = i, this.setLocalCache()
        }

        var e, i, n;
        return e = t, (i = [{
            key: "set", value: function (t, e, i, n, o) {
                var r = this;
                return (!o || this.store.uniqueKey !== o || "0" === o) && i > 0 && (this.clearCache(), this.store = {}), o && (this.uniqueKey = o, this.store.uniqueKey = o), new Promise((function (a, s) {
                    try {
                        var c = {};
                        c.response = e, c.ttl = i > 0 ? i : 0, c.ts = (new Date).getTime(), r.store[t] = c, n && i > 0 && o && "0" !== o && r.setLocalCache(), a({status: "success"})
                    } catch (t) {
                        s({status: "failed", data: t})
                    }
                }))
            }
        }, {
            key: "get", value: function (t, e, i) {
                var n = this;
                return (!i || this.store.uniqueKey !== i || "0" === i) && e > 0 && (this.clearCache(), this.store = {}), i && (this.uniqueKey = i, this.store.uniqueKey = i), new Promise((function (i, o) {
                    try {
                        var r = n.store[t], a = (new Date).getTime();
                        r && a - r.ts < (e > 0 ? e : 0) && a - r.ts < 36e4 ? i({
                            status: "success",
                            data: r.response
                        }) : o({status: "failed", data: r})
                    } catch (t) {
                        o({status: "failed", data: t})
                    }
                }))
            }
        }, {
            key: "clearCache", value: function () {
                "undefined" != typeof window && window.localStorage && window.localStorage.removeItem("bpapi_cache")
            }
        }, {
            key: "setLocalCache", value: function () {
                this.uniqueKey && (this.store.uniqueKey = this.uniqueKey), "undefined" != typeof window && window.localStorage && this.uniqueKey && window.localStorage.setItem("bpapi_cache", JSON.stringify(this.store))
            }
        }]) && j(e.prototype, i), n && j(e, n), t
    }(), M = function () {
        return new A
    }(), D = (i(38), "undefined" == typeof window);
    var B = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if ("undefined" != typeof FormData && t instanceof FormData) {
            for (var i in e) e.hasOwnProperty(i) && (FormData.prototype.set ? t.set(i, e[i]) : t.append(i, e[i]));
            return t
        }
        return Object.assign(t, e)
    }, N = function (t) {
        return new Promise((function (e) {
            if (t.addPlatInfo) if (n.inBiliApp) {
                t.data = B(t.data, function () {
                    if ("undefined" == typeof navigator) return {};
                    var t = navigator.userAgent;
                    return {
                        build: t.match(/BiliApp\/([^ ]*)/) ? t.match(/BiliApp\/([^ ]*)/)[1] : 10,
                        mobi_app: t.match(/mobi_app\/([^ ]*)/)[1]
                    }
                }());
                try {
                    n.biliBridge.callNative({
                        method: "global.getContainerInfo", callback: function (i) {
                            t.data = B(t.data, {build: i.build, mobi_app: i.mobi_app}), e(t)
                        }
                    })
                } catch (i) {
                    e(t)
                }
            } else t.data = B(t.data, {build: 0, mobi_app: "web"}), e(t); else e(t)
        }))
    }, R = "undefined" != typeof window && window.BiliAjax ? window.BiliAjax.default : S.a, $ = new R({
        transformResponse: x, oldAppUseAxios: !0, newAppUseV2: !0, transformHeaders: function () {
            return {"Content-Type": "application/json"}
        }, qsConfig: {jsonStringify: !0}
    }), H = new R({transformResponse: x, oldAppUseAxios: !0}), z = function (t) {
        if ("undefined" != typeof FormData && t.data instanceof FormData) return r(w(t));
        var e = Object.assign({}, t);
        switch (delete e.data, delete e.url, t.method.toLowerCase()) {
            case"get":
                return (t.ajaxVersion2 ? $ : H).get(t.url, w(t.data), e);
            case"post":
                return (t.ajaxVersion2 ? $ : H).post(t.url, w(t.data), e);
            default:
                return r(w(t))
        }
    };

    function U(t) {
        var e = t.useBridgeProxy, i = m(), n = 0, o = t.url + JSON.stringify(t.data || "");
        return M.get(o, t.ttl, String(t.cache_key || "")).then((function (o) {
            return n = v(i), O(o.data, t.url, t.data, t.needOriginal, n, e)
        })).catch((function () {
            return N(t).then((function (t) {
                var i = e ? z : r, n = function (t) {
                    var e = "";
                    if (D) return e;
                    var i = document.cookie;
                    if (!i) return e;
                    for (var n = i.split(";"), o = new RegExp("^".concat(t, "=")), r = 0; r < n.length; r++) {
                        var a = n[r].trim();
                        if (o.test(a)) {
                            e = a.split("=")[1];
                            break
                        }
                    }
                    return e
                }("bili_jct");
                return t.url = t.url.indexOf("?") > 0 && n ? "".concat(t.url, "&csrf=").concat(n) : "".concat(t.url, "?csrf=").concat(n), function (t, e) {
                    var i = this, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                    return function () {
                        if (f[t] && n > 0) return f[t];
                        setTimeout((function () {
                            f[t] = null
                        }), n);
                        for (var o = arguments.length, r = new Array(o), a = 0; a < o; a++) r[a] = arguments[a];
                        return f[t] = e.apply(i, r), f[t]
                    }
                }(o, i, t.throttleInterval)(t)
            })).then((function (r) {
                return M.set(o, r, t.ttl, t.localCache, String(t.cache_key || "")).then((function () {
                    return n = v(i), O(r, t.url, t.data, t.needOriginal, n, e)
                }))
            }), (function () {
                n = v(i);
                for (var e = arguments.length, o = new Array(e), r = 0; r < e; r++) o[r] = arguments[r];
                return L.apply(void 0, [n, t.url, t.data].concat(o))
            }))
        }))
    }

    var F = i(240), V = i.n(F);
    n.inBiliApp && (Object(n.initEnv)(), n.biliBridge.callNative({
        method: "global.import",
        data: {namespace: "net"}
    })), r.interceptors.request.use((function (t) {
        if (!t) return t;
        var e = t.method, i = t.url, n = t.data;
        t.withCredentials = !0;
        var o = n || {}, r = "string" == typeof e && "post" === e.toLowerCase();
        if (r) {
            var a = l.a.getItem("bili_jct") || "";
            o.csrf_token = a, o.csrf = a
        }
        if (!("undefined" != typeof FormData && o instanceof FormData)) {
            var s = {};
            if ("undefined" != typeof window) {
                var c = g(window.location.href, "lang");
                if (c) {
                    var u = "iphone";
                    (/Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.userAgent)) && (u = "android"), s.lang = c, s.mobi_app = "".concat(u, "_i")
                }
            }
            o = Object.assign(s, o), r ? t.data = Object(b.stringify)(o) : (t.params = o, h && (t.params._ = (new Date).getTime()), delete t.data), "undefined" == typeof window && /^\/\//.test(i) && (t.url = "http:".concat(i))
        }
        return t
    }));
    var G = function (t) {
        "undefined" == typeof window || window.Promise || console.warn("No window.Promise. @bplus-common/components.bpapi need a promise polyfill.");
        var e = (t.method || "get").toLowerCase(), i = d && !function (t) {
            if ("undefined" == typeof window) return !1;
            var e = t.replace(/^(https?:)?(\/\/)?/, "").match(window.location.hostname);
            return e && 0 === e.index
        }(t.url), n = "jsonp" === e;
        return !n && i ? L(t.url, t.data, "少年啊，你的浏览器太老了辣", "caution", -8889) : (t.method = e, t.transformResponse = t.transformResponse || [k], n ? function (t) {
            var e = m(), i = 0, n = t.url, o = /^(http:|https:)?\/\/api\.(live)|(vc)/.test(n),
                r = t.data && "[object Object]" === t.data.toString();
            t.jsonpCallback || !r || "type" in t.data || "jsonp" in t.data ? t.jsonpCallback || r || (t.data = {
                type: "jsonp",
                jsonp: "jsonp"
            }) : (t.data.type = "jsonp", t.data.jsonp = "jsonp");
            var a = t.data || {}, s = {}, c = "zh_CN";
            if ("undefined" != typeof window && (c = g(window.location.href, "lang"))) {
                s.lang = c;
                var l = "iphone";
                (/Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.userAgent)) && (l = "android"), "zh_CN" !== c && (s.mobi_app = "".concat(l, "_i"))
            }
            a = Object.assign(s, a);
            var u = t.data && t.jsonpCallback || (o ? "_cb" : "callback"), d = _.a.stringify(a),
                h = d.length > 0 ? "".concat(n, "?").concat(d) : "".concat(n), f = n + JSON.stringify(t.data || "");
            return M.get(f, t.ttl, String(t.cache_key || "")).then((function (o) {
                return i = v(e), O({data: o.data}, n, t.data, t.needOriginal, i)
            })).catch((function () {
                return V()(h, {jsonpCallback: u}).then((function (o) {
                    return o.ok ? o.json().then((function (o) {
                        return M.set(f, o, t.ttl, t.localCache, String(t.cache_key || "")).then((function () {
                            return i = v(e), O({data: o}, n, t.data, t.needOriginal, i)
                        }))
                    }), (function () {
                        i = v(e);
                        for (var n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                        return L.apply(void 0, [i, t.url, t.data].concat(o))
                    })) : L(i = v(e), t.url, t.data)
                }), (function () {
                    i = v(e);
                    for (var n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                    return L.apply(void 0, [i, t.url, t.data].concat(o))
                }))
            }))
        }(t) : U(t))
    }, W = {
        install: function (t) {
            t.prototype.bpapi || (t.prototype.bpapi = G)
        }
    }
}, , , , , , , function (t, e, i) {
    "use strict";
    i.d(e, "d", (function () {
        return n.a
    })), i.d(e, "e", (function () {
        return p
    })), i.d(e, "c", (function () {
        return c
    })), i.d(e, "b", (function () {
        return m.a
    })), i.d(e, "a", (function () {
        return r
    }));
    var n = i(221), o = (i(12), i(20), i(31), i(36), i(27), i(26), i(35), i(11), i(24), i(16), i(21), i(47));

    function r() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = {}, i = [];
        return (i = i.concat(t.free || []).concat(t.vip || [])).forEach((function (t) {
            t.emojis.forEach((function (i) {
                e[i.name] = {url: i.url.replace(/^http:\/\//, "//"), size: t.size}
            }))
        })), e
    }

    var a = {
        "哼": "嫌弃",
        "色": "喜欢",
        "泪": "大哭",
        "黑线": "无语",
        "怒": "生气",
        "哈哈": "大笑",
        "吃惊": "惊讶",
        "允悲": "捂脸",
        "骷髅": "灵魂出窍",
        "挖鼻": "抠鼻",
        good: "点赞"
    }, s = {"色": "喜欢", "流泪": "大哭", "发怒": "生气", "骷髅": "灵魂出窍", "傲慢": "傲娇", "惊恐": "吓", "强": "点赞", "便便": "屎"};
    var c = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = new RegExp(/\[([^([.*?\])]+)\]/g),
            i = window.bp_emoji_data_v3 && window.bp_emoji_data_v3.mapping ? window.bp_emoji_data_v3.mapping : {};
        return t.replace(e, (function (t) {
            var e = t.slice(1, t.length - 1);
            return e = i[e] || a[e] || s[e] || e, "[".concat(e, "]")
        }))
    };

    function l(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function u(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? l(Object(i), !0).forEach((function (e) {
                d(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : l(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function d(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var h = {};

    function f(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
            i = arguments.length > 2 ? arguments[2] : void 0;
        return '<img src="'.concat(e.replace(/^http:\/\//, "//"), '" alt="').concat(t, '" style="margin: 0 1px;width: ').concat(i.width, "px; height: ").concat(i.height, 'px;vertical-align:-4px; display: inline-block">')
    }

    o.a.allEmojiDataNew.map((function (t) {
        t.purl && "" !== t.purl && t.emojis && t.emojis.length && t.emojis && t.emojis.length > 0 && t.emojis.forEach((function (t) {
            h[t.name] = t.url
        }))
    }));
    var p = function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        h = u(u({}, h), r(window.bp_emoji_data_v3 || {}));
        var i = {width: 20, height: 20};
        e = Object.assign(i, e), t = c(t);
        var n = new RegExp(/\[([^([.*?\])]+)\]/g);
        return t.replace(n, (function (t) {
            var i = t.slice(1, t.length - 1);
            return h["[".concat(i, "]")] ? f("[".concat(i, "]"), h["[".concat(i, "]")].url, e) : "[".concat(i, "]")
        }))
    }, m = i(105)
}, , , , , , , , , , , function (t, e, i) {
    "use strict";
    i(12), i(257);
    var n = {}, o = null, r = null;

    function a(t, e, i, a, c) {
        t !== r && (o = null);
        var l = String((new Date).getTime());
        "boolean" == typeof i && (i = "info");
        var u = document.createDocumentFragment(), d = document.createElement("div");
        if ("success" !== (i = i || "info") && "caution" !== i && "error" !== i && "info" !== i) throw new Error("".concat("[Bplus Message]", " 在使用 Link Toast 时必须指定正确的类型: success || caution || error || info"));
        if (d.innerHTML = '<span class="toast-text">'.concat(e, "</span>"), d.className = "link-toast ".concat(i, " ").concat(a ? "fixed" : "", " ").concat(c ? "mobile" : ""), !c) {
            if (!t || !t.className && !t.attributes) throw new Error("".concat("[Bplus Message]", " 传入 element 不是有效节点."));
            var h = t.getBoundingClientRect(), f = h.left, p = h.top, m = h.width, v = h.height,
                g = document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft;
            d.style.left = f + m + g + "px";
            var y = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop;
            d.style.top = p + v + y + "px"
        }
        setTimeout((function () {
            s(l, d)
        }), c ? 2e3 : 4e3), d.addEventListener("click", (function () {
            s(l, d)
        })), function t(e, i) {
            if (!e || !n[e]) return;
            var o = n[e], r = o.top - 50;
            i && (r = 0, s(e, o.instance));
            o.instance.style.transform = "translateY(" + r + "px)", o.top = o.top - 50, t(o.lastHash, i)
        }(o, c), u.appendChild(d), document.body.appendChild(u);
        var b = document.body.offsetWidth, _ = d.getBoundingClientRect().left, w = d.offsetWidth;
        b - w - _ < 0 && (d.style.left = b - w - 10 + g + "px"), n[l] = {instance: d, lastHash: o, top: 0}, o = l, r = t
    }

    function s(t, e) {
        e.className += " out-fade", setTimeout((function () {
            e && e.parentNode && e.parentNode.removeChild(e), n[t] = null
        }), 350)
    }

    e.a = function () {
        return {
            install: function (t) {
                t.prototype.linkMsg || (t.prototype.linkMsg = a)
            }
        }
    }
}, , , , , , function (t, e, i) {
    "use strict";
    i(11), i(38), i(42);
    var n = i(62), o = i(71);
    e.a = function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 6;
        if ("string" != typeof t) return "";
        var i = "", r = t.split(/[\n↵]/g), a = 0, s = 0;
        if (1 === r.length) return Object(o.a)(t, 35 * e - 6) + "...";
        for (var c = 0; c < r.length; c++) {
            var l = Math.ceil(Object(n.a)(r[c].trim()) / 35), u = a + (l > 0 ? l : 1);
            if (!(u < e)) {
                s = c;
                break
            }
            a += l > 0 ? l : 1, i += r[c] + "\n"
        }
        var d = e - a, h = 35 * d - 6;
        return (i += Object(o.a)(r[s], h)) + "..."
    }
}, function (t, e, i) {
    "use strict";
    i.d(e, "d", (function () {
        return v
    })), i.d(e, "e", (function () {
        return b
    })), i.d(e, "b", (function () {
        return y
    })), i.d(e, "c", (function () {
        return _
    })), i.d(e, "a", (function () {
        return m
    }));
    i(52), i(53), i(74), i(12), i(28), i(20), i(18), i(44), i(36), i(59), i(14), i(19), i(35), i(11), i(24), i(45), i(30), i(16), i(38), i(42), i(258), i(21), i(48);
    var n = i(2), o = i(22), r = i(6), a = i(8);

    function s(t) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    var c = function (t) {
        return !(!t || "object" !== s(t) || "string" != typeof t.data || "number" != typeof t.length || "number" != typeof t.location || "number" != typeof t.type)
    }, l = "#178bcf", u = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return t.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace('"', "&quot;")
    }, d = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 ? arguments[1] : void 0, i = t;
        return i = (i = e < 0 ? i.replace(/^\s+(.+?)$/, "$1") : e > 0 ? i.replace(/(.+?)\s+$/, "$1 ") : t).replace(/\r/g, "").replace(/\s/g, "&nbsp")
    }, h = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return t.replace(/\n/g, "<br>")
    }, f = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 ? arguments[1] : void 0, i = "";
        return i = t.replace(/\n{2,}/g, "\n\n"), i = e < 0 ? i.replace(/^\n+(.+?)$/, "$1") : e > 0 ? i.replace(/(.+?)\n+$/, "$1") : t
    }, p = 0, m = {
        TYPE_STRING: ++p,
        TYPE_LOTTERY: ++p,
        TYPE_VOTE: ++p,
        TYPE_AT: ++p,
        TYPE_COMMIC_REMARK: ++p,
        TYPE_LINK_HTTP: ++p,
        TYPE_LINK_AV: ++p,
        TYPE_LINK_BV: ++p,
        TYPE_LINK_CV: ++p,
        TYPE_LINK_VC: ++p,
        TYPE_TOPIC: ++p,
        TYPE_LINK_SHOP: ++p
    }, v = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "", n = [];
        if ("string" != typeof t || "" === t) return n;
        var o = e.ctrlJson, s = void 0 === o ? "" : o, l = e.extendCtrlJson, u = void 0 === l ? "" : l, d = e.display,
            h = void 0 === d ? {} : d, f = e.dynamicId, p = void 0 === f ? "" : f, v = e.isRemark,
            g = void 0 !== v && v, y = e.isClip, b = void 0 !== y && y, _ = Object(a.getShowBvConfig)(), w = 0;
        if (g) {
            var C = t.replace(/\r\n/g, "\n").indexOf("\n"), x = t.slice(0, C),
                k = x.match(/(\[星])+(\[空星])*|(\[星])*(\[空星])+/g);
            k && k[0] && (n.push({type: m.TYPE_COMMIC_REMARK, text: k[0]}), w = C + 1)
        }
        var I = Object(r.e)(u), S = s ? Object(r.e)(s) : [], O = I.ctrl || [], T = {};
        [].concat(S, O).forEach((function (t) {
            c(t) && (T[t.location] || (T[t.location] = t))
        }));
        var E = {};
        h.rich_text && h.rich_text.rich_details && h.rich_text.rich_details.forEach((function (t) {
            E[t.orig_text] = t
        }));
        var P = function (t) {
                var e = !1, i = t.text.split("#");
                i.length > 1 ? i.forEach((function (t, o) {
                    if ("" === t) e && n.push({type: m.TYPE_STRING, text: "#"}), e = !0; else if (e) if (function (t) {
                        var e = t.replace(/(^ +)|( +$)/g, "");
                        return !/[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e) && /^[^\n\r#@↵]{1,32}$/.test(e)
                    }(t) && o + 1 !== i.length) {
                        var r = t.trim().replace(/\xa0/g, " ");
                        n.push({type: m.TYPE_TOPIC, text: "#".concat(t, "#"), id: r}), e = !1
                    } else n.push({type: m.TYPE_STRING, text: "#".concat(t)}); else n.push({
                        type: m.TYPE_STRING,
                        text: t
                    }), e = !0
                })) : n.push({type: m.TYPE_STRING, text: t.text})
            }, L = function (t, e, i) {
                return function (o) {
                    var r = !0, a = 0;
                    do {
                        var s = t.exec(o.text);
                        if (s) {
                            var c = {};
                            if (E[s[0]]) {
                                c = {
                                    text: E[s[0]].text,
                                    icon: {
                                        1: "//i0.hdslb.com/bfs/activity-plat/static/20210115/c4e76bc8e911f2aa43bdb44a218dbc34/wu3~93TYcA.png",
                                        2: "//i0.hdslb.com/bfs/activity-plat/static/20210115/c4e76bc8e911f2aa43bdb44a218dbc34/gQvBjpFoAmv.png"
                                    }[E[s[0]].icon_type]
                                }
                            }
                            s.index === a || i({
                                type: m.TYPE_STRING,
                                text: o.text.substring(a, s.index)
                            }), n.push(e(s, c)), a = t.lastIndex
                        } else i({type: m.TYPE_STRING, text: o.text.substring(a)}), r = !1
                    } while (r)
                }
            }, j = L(/vc(\d+)/gi, (function (t) {
                return {type: m.TYPE_LINK_VC, text: t[0], id: t[1]}
            }), P), A = L(/cv\d+/gi, (function (t, e) {
                return {type: m.TYPE_LINK_CV, text: e.text || t[0], id: "cv" + t[0].slice(2), icon: e.icon}
            }), j), M = L(/av\d+/gi, (function (t, e) {
                return {type: m.TYPE_LINK_AV, text: e.text || t[0], id: "av" + t[0].slice(2), icon: e.icon}
            }), A), D = L(/(bv1[\d\w]{9})/gi, (function (t, e) {
                return {type: m.TYPE_LINK_BV, text: e.text || t[0], id: t[0], icon: e.icon}
            }), M),
            B = /(((http:\/\/|https:\/\/)([a-zA-Z0-9_.-]+\.)*(bilibili|biligame)\.com(\.\.\.|(\/[/.$*?~=#!%@&\-\w]*)?))|((http:\/\/|https:\/\/)([a-zA-Z0-9_.-]+\.)*(acg|b23)\.tv(\.\.\.|(\/[/.$*?~=#!%@&\-\w]*)?))|((http:\/\/|https:\/\/)dl\.(hdslb)\.com(\.\.\.|(\/[/.$*?~=#!%@&\-\w]*)?))|((http:\/\/|https:\/\/)sugs\.(suning)\.com(\.\.\.|(\/[/.$*?~=#!%@&\-\w]*)?)))|(https:\/\/static\.cdsb\.com\/micropub\/Articles\/202006\/6906c79ac5f0d1650b60aadd31879e32\.html)|(https:\/\/mp\.weixin\.qq\.com\/s\/(LOCoQsggmtmGq16XhFtw8A|MbRh8YThHIwlzRDWQCe2CQ))|(http:\/\/www\.bjnews\.com\.cn\/news\/2020\/06\/03\/734592\.html)/g,
            N = L(i ? new RegExp(i, "g") : B, (function (t, e) {
                var i = t.filter((function (t) {
                    return !!t
                }));
                return b && i.length > 0 && /\.\.\.$/.test(i[0]) ? {
                    type: m.TYPE_STRING,
                    text: "..."
                } : {type: m.TYPE_LINK_HTTP, text: e.text || "网页链接", url: t[0], icon: e.icon}
            }), _ ? D : M);
        return Object.keys(T).sort((function (t, e) {
            return parseInt(t) > parseInt(e) ? 1 : -1
        })).forEach((function (e) {
            var i = T[e], o = i.data, r = i.length, a = i.location, s = i.type, c = i.type_id, l = i.prefix_icon,
                u = I.vote || I.vote_cfg, d = h.highlight, f = 0, v = function (e) {
                    a < w || (a + f > t.length ? (a < t.length ? (a > w && N({
                        type: m.TYPE_STRING,
                        text: t.substring(w, a)
                    }), n.push(e)) : N({
                        type: m.TYPE_STRING,
                        text: t.substring(w, t.length)
                    }), w = t.length) : a === w ? (n.push(e), w = a + f) : a > w && (N({
                        type: m.TYPE_STRING,
                        text: t.substring(w, a)
                    }), n.push(e), w = a + f))
                };
            switch (s) {
                case 1:
                    f = r, v({type: m.TYPE_AT, text: t.substring(a, a + f), id: o, dynamicId: p});
                    break;
                case 2:
                    f = parseInt(o), v({type: m.TYPE_LOTTERY, text: t.substring(a, a + f), id: p, dynamicId: p});
                    break;
                case 3:
                    f = parseInt(o), u && u.vote_id ? v({
                        type: m.TYPE_VOTE,
                        text: t.substring(a, a + f),
                        id: u.vote_id,
                        dynamicId: p
                    }) : v({type: m.TYPE_STRING, text: t.substring(a, a + f)});
                    break;
                case 4:
                    if (f = parseInt(o), d && Array.isArray(d.items)) {
                        for (var g = {
                            item_id: "",
                            jump_url: "",
                            source_type: void 0
                        }, y = 0; y < d.items.length; y++) if (d.items[y].type_id === c) {
                            g = d.items[y];
                            break
                        }
                        v({
                            type: m.TYPE_LINK_SHOP,
                            text: t.substring(a, a + f),
                            id: g.item_id,
                            dynamicId: p,
                            url: g ? g.jump_url : "",
                            shopIcon: l,
                            sourceType: g ? g.source_type : 0
                        })
                    } else v({type: m.TYPE_STRING, text: t.substring(a, a + f)})
            }
        })), w < t.length && N({type: m.TYPE_STRING, text: t.substring(w, t.length)}), n
    }, g = function (t, e, i, n, o, r) {
        var a = "";
        return t ? (a = "".concat(i, "&isWeb=1"), '<span click-href="'.concat(u(a), '" click-title="').concat(u(e), '" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(n, ';">').concat(r).concat(o, "</span>")) : '<a href="'.concat(u(a = i), '" class="dynamic-link-hover-bg" style="color:').concat(n, ';">').concat(r).concat(o, "</a>")
    }, y = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            i = arguments.length > 2 ? arguments[2] : void 0, a = "";
        if (i) return t.forEach((function (t) {
            a += t.text || t.url || t.id
        })), a;
        var s = e.isWeb, c = void 0 === s || s, p = e.verticalAlign, v = void 0 === p ? "text-bottom" : p, y = e.width,
            b = void 0 === y ? 20 : y, _ = e.height, w = void 0 === _ ? 20 : _, C = e.extendCtrlJson,
            x = void 0 === C ? "" : C, k = e.cardType, I = void 0 === k ? "" : k, S = e.cardId,
            O = void 0 === S ? "" : S, T = e.display, E = void 0 === T ? {} : T,
            P = E.emoji_info && E.emoji_info.emoji_details || [];
        E.origin && E.origin.emoji_info && E.origin.emoji_info.emoji_details && (P = P.concat(E.origin.emoji_info.emoji_details));
        var L = [];
        P.forEach((function (t) {
            L.push({id: t.id, name: t.text, url: t.url, type: t.type})
        }));
        var j = {free: [{emojis: L, pid: -1, pname: "当前卡片", type: 1}], mapping: [], vip: []}, A = 0,
            M = Object(r.e)(x).from;
        M && (A = M.emoji_type);
        var D = {};
        return E.topic_info && E.topic_info.topic_details && E.topic_info.topic_details && E.topic_info.topic_details.length > 0 && E.topic_info.topic_details.forEach((function (t) {
            D[t.topic_name.trim()] = t.topic_link
        })), t.forEach((function (e, i) {
            var r = "", s = "", p = "", y = "", _ = "", C = 0;
            0 === i ? C = -1 : i === t.length - 1 && (C = 1);
            var x = e.text ? d(h(f(u(e.text), C)), C) : "";
            switch (e.type) {
                case m.TYPE_STRING:
                    r = Object(o.d)(x, {width: b, height: w, verticalAlign: v, emojiType: A}, j);
                    break;
                case m.TYPE_LOTTERY:
                    y = "抽奖详情", s = "".concat(n.a.T, "/lottery/h5/index/#/result?business_id=").concat(e.dynamicId, "&business_type=1"), r = g(c, y, s, l, x, c ? '<i class="bp-svg-icon lottery-btn" click-href="'.concat(u(p), '" click-title="').concat(u(y), '" style="position:relative;top:-2px;margin-left:2px;margin-right:2px;"></i>') : '<i class="bp-svg-icon lottery-btn" style="position:relative;top:-2px;margin-left:2px;margin-right:2px;"></i>');
                    break;
                case m.TYPE_VOTE:
                    y = "投票", s = "".concat(n.a.T, "/vote/h5/index/#/result?vote_id=").concat(e.id, "&dynamic_id=").concat(e.dynamicId), r = g(c, y, s, l, x, c ? '<i class="bp-svg-icon vote-btn" click-href="'.concat(u(p), '" click-title="').concat(u(y), '" style="position:relative;top:-1px;margin-left:2px;margin-right:2px;"></i>') : '<i class="bp-svg-icon vote-btn" style="position:relative;top:-1px;margin-left:2px;margin-right:2px;"></i>');
                    break;
                case m.TYPE_AT:
                    c ? (p = "".concat(n.a.SPACE, "/").concat(e.id, "/dynamic"), r = '<a href="'.concat(u(p), '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(x, "</a>")) : (p = "".concat(n.a.M, "/space/").concat(e.id), r = '<span click-href="'.concat(u(p), '" spm-type="at" card-type="').concat(I, '" card-id="').concat(O, '" class="dynamic-link-hover-bg" style="color:').concat(l, ';">').concat(x, "</span>"));
                    break;
                case m.TYPE_COMMIC_REMARK:
                    r = (e.text || "").replace(/\[星]/g, '<i title="[星]" class="bp-svg-icon star" style="position:relative;top:-4px;margin-right:6px;"></i>').replace(/\[空星]/g, '<i title="[空星]" class="bp-svg-icon star-empty" style="position:relative;top:-4px;margin-right:6px;"></i>'), r = "".concat(r, "<br>");
                    break;
                case m.TYPE_LINK_HTTP:
                    var k = "//i0.hdslb.com/bfs/activity-plat/static/20210115/c4e76bc8e911f2aa43bdb44a218dbc34/gQvBjpFoAmv.png" === _ ? "position:relative;top:1px;" : "";
                    _ = e.icon ? '<img class="bp-img-icon" style="width:20px;height:20px;vertical-align:top;'.concat(k, '" src="').concat(e.icon, '">') : '<i class="bp-svg-icon link" style="position:relative;top:-1px;margin-left:2px;"></i>', r = c ? '<a href="'.concat(e.url, '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(_).concat(x, "</a>") : '<span click-href="'.concat(e.url, '" spm-type="link" card-type="').concat(I, '" card-id="').concat(O, '" click-target="_blank" class="dynamic-link-hover-bg" style="color:').concat(l, ';">').concat(_).concat(x, "</span>");
                    break;
                case m.TYPE_LINK_AV:
                case m.TYPE_LINK_BV:
                    _ = e.icon ? '<img class="bp-img-icon" style="width:20px;height:20px;vertical-align:top;position:relative;top:1px;" src="'.concat(e.icon, '" />') : "", r = '<a href="'.concat(n.a.MAIN, "/video/").concat(e.id, '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(_).concat(x, "</a>");
                    break;
                case m.TYPE_LINK_CV:
                    _ = e.icon ? '<img class="bp-img-icon" style="width:20px;height:20px;vertical-align:top;" src="'.concat(e.icon, '" />') : "", r = '<a href="'.concat(n.a.MAIN, "/read/").concat(e.id, '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(_).concat(x, "</a>");
                    break;
                case m.TYPE_LINK_VC:
                    r = '<a href="'.concat(n.a.VC, "/video/").concat(e.id, '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(x, "</a>");
                    break;
                case m.TYPE_TOPIC:
                    var S = D[e.id.trim()] || "".concat(n.a.T, "/topic/name/").concat(encodeURIComponent(e.id), "/feed");
                    r = '<a href="'.concat(S, '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(x, "</a>");
                    break;
                case m.TYPE_LINK_SHOP:
                    var T = '<i class="bp-svg-icon link" style="position:relative;top:-1px;margin-left:2px;margin-right:2px;"></i>';
                    1 === e.sourceType && (T = '<i class="bp-svg-icon taobao-link" style="position:relative;top:-2px;margin-left:3px;margin-right: 3px;font-size: 38px;"></i>'), r = c ? '<a href="'.concat(e.url, '" shop-item-id="').concat(e.id, '" target="_blank" class="dynamic-link-hover-bg" style="cursor:pointer;color:').concat(l, ';">').concat(T).concat(e.text, "</a>") : '<span click-href="'.concat(e.url, '" shop-item-id="').concat(e.id, '" spm-type="link" card-type="').concat(I, '" card-id="').concat(O, '" click-target="_blank" class="dynamic-link-hover-bg" style="color:').concat(l, ';">').concat(T).concat(e.text, "</span>")
            }
            a += r
        })), a
    }, b = function (t, e, i) {
        return new Promise((function (n) {
            try {
                n(v(t, e, i))
            } catch (e) {
                n([{type: m.TYPE_STRING, text: t}])
            }
        }))
    }, _ = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return new Promise((function (i) {
            i(y(t, e))
        }))
    }
}, function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return x
    }));
    i(23);
    var n = i(9), o = i.n(n), r = i(33), a = (i(12), i(17), i(6)), s = i(8), c = i(2), l = i(15),
        u = (i(14), i(11), i(24), i(16), {
            "&lt;": "<",
            "&gt;": ">",
            "&amp;": "&",
            "&nbsp;": " ",
            "&quot;": '"',
            "&copy;": "",
            "&ldquo;": "“",
            "&rdquo;": "”",
            "&lsquo;": "‘",
            "&rsquo;": "’",
            "&hellip;": "…",
            "&mdash;": "—"
        }), d = i(4), h = {
            props: {mid: {type: Number, required: !0}}, data: function () {
                return {
                    loadingFail: !1,
                    isLoading: !1,
                    isLoaded: !1,
                    isfollowed: !1,
                    followIn: !1,
                    cardRichInfo: {card: {mid: "", sex: "", face: "", sign: "", attention: 0, fans: 0}},
                    following: !1,
                    HOST: c.a
                }
            }, computed: {
                customIcon: function () {
                    return -1 === this.verifyType && this.isBig && this.cardRichInfo.card.vip.avatar_subscript_url ? "background-image: url(".concat(this.cardRichInfo.card.vip.avatar_subscript_url, "); background-size: 18px;") : ""
                }, followWord: function () {
                    return this.followIn ? "取消关注" : "已关注"
                }, encodeSign: function () {
                    return function (t) {
                        return "string" != typeof (t = void 0 !== t ? t : this.toString()) ? t : t.replace(/&\w+;|&#(\d+);/g, (function (t, e) {
                            var i = u[t];
                            return void 0 === i && (i = isNaN(e) ? t : String.fromCharCode(160 === e ? 32 : e)), i
                        }))
                    }(this.cardRichInfo.card.sign)
                }, verifyType: function () {
                    return this.cardRichInfo.card.official_verify.type
                }, isBig: function () {
                    return this.cardRichInfo.card.vip.vipType > 0 && 1 === this.cardRichInfo.card.vip.vipStatus
                }
            }, methods: {
                numberFormat: s.numberFormat.autoParse, followCut: function () {
                    this.followIn = !this.followIn
                }, getCardRichInfo: function () {
                    var t = this;
                    this.isLoading = !0;
                    var e = {url: c.a.API_MAIN + "/x/web-interface/card", method: "get", data: {mid: this.mid, photo: !0}};
                    Object(l.a)(e).then((function (e) {
                        t.cardRichInfo = e.data, t.isLoading = !1, t.isLoaded = !0, t.$emit("update-position")
                    }), (function () {
                        t.loadingFail = !0
                    }))
                }, toBfsImg: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                        e = arguments.length > 1 ? arguments[1] : void 0, i = arguments.length > 2 ? arguments[2] : void 0,
                        n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {c: 1};
                    return Object(a.g)(Object(s.bfsImgLink)(t, e, i, n))
                }, follow: function () {
                    var t = this, e = {
                        url: c.a.API_MAIN + "/x/relation/modify?cross_domain=true",
                        method: "post",
                        data: {fid: this.mid, act: 1, re_src: 15}
                    };
                    Object(l.a)(e).then((function () {
                        t.linkMsg(t.$refs.follow, "关注成功", "success"), t.cardRichInfo.following = !0, d.r.insertToMyAttentionList(t.mid)
                    }), (function (e) {
                        -665 === e.code ? t.linkMsg(t.$refs.follow, "已达到关注上限", "error") : t.linkMsg(t.$refs.follow, e.msg, e.type)
                    }))
                }, unFollow: function () {
                    var t = this, e = {
                        url: c.a.API_MAIN + "/x/relation/modify?cross_domain=true",
                        method: "post",
                        data: {fid: this.mid, act: 2, re_src: 15}
                    };
                    Object(l.a)(e).then((function () {
                        t.linkMsg(t.$refs.follow, "取消关注成功！", "success"), t.isfollowed = !0, t.cardRichInfo.following = !1, d.r.deleteFromMyAttentionList(t.mid)
                    }), (function (e) {
                        t.linkMsg(t.$refs.follow, e.msg, e.type)
                    }))
                }
            }, mounted: function () {
                this.getCardRichInfo()
            }
        }, f = (i(259), i(1)), p = Object(f.a)(h, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "userinfo-content"}, [t.loadingFail ? i("div", {staticClass: "loadfail"}, [t._v("加载失败")]) : [t.isLoading ? i("div", {staticClass: "loading"}, [t._v("正在加载中...请稍后。")]) : t._e(), t.isLoaded ? [i("div", {
                staticClass: "bg",
                style: {backgroundImage: "url(" + t.toBfsImg(t.cardRichInfo.space.s_img, null, 120, {autoDpr: !1}) + ")"}
            }), i("a", {
                staticClass: "face",
                attrs: {href: t.HOST.SPACE + "/" + t.cardRichInfo.card.mid + "/dynamic", target: "_blank"}
            }, [i("img", {attrs: {src: t.toBfsImg(t.cardRichInfo.card.face, 50, 50)}}), t.verifyType > -1 || t.isBig ? i("div", {
                staticClass: "verify-box",
                class: "type-" + t.verifyType + " type-" + (t.isBig ? "big" : ""),
                style: t.customIcon
            }) : t._e()]), i("div", {staticClass: "info"}, [i("p", {staticClass: "user"}, [i("a", {
                staticClass: "name",
                class: {vip: t.cardRichInfo.card.vip.vipStatus},
                style: t.cardRichInfo.card.vip.vipStatus && t.cardRichInfo.card.vip.nickname_color ? "color: " + t.cardRichInfo.card.vip.nickname_color + ";" : "",
                attrs: {target: "_blank", href: t.HOST.SPACE + "/" + t.cardRichInfo.card.mid + "/dynamic"}
            }, [t._v(t._s(t.cardRichInfo.card.name))]), "男" === t.cardRichInfo.card.sex || "女" === t.cardRichInfo.card.sex ? i("i", {
                staticClass: "sex",
                class: {men: "男" === t.cardRichInfo.card.sex, women: "女" === t.cardRichInfo.card.sex}
            }) : t._e(), i("a", {
                attrs: {
                    target: "_blank",
                    href: t.HOST.MAIN + "/html/help.html#k_5"
                }
            }, [i("i", {
                staticClass: "level",
                class: "lv" + t.cardRichInfo.card.level_info.current_level
            })])]), i("p", {staticClass: "social"}, [i("a", {
                attrs: {
                    href: t.HOST.SPACE + "/" + t.cardRichInfo.card.mid + "/fans/follow",
                    target: "_blank"
                }
            }, [t._v("关注："), i("span", {staticClass: "like"}, [t._v(t._s(t.cardRichInfo.card.attention))])]), i("a", {
                attrs: {
                    href: t.HOST.SPACE + "/" + t.cardRichInfo.card.mid + "/fans/fans",
                    target: "_blank"
                }
            }, [t._v("粉丝："), i("span", {staticClass: "fans"}, [t._v(t._s(t.numberFormat(t.cardRichInfo.card.fans)))])])]), t.cardRichInfo.card.sign ? i("p", {staticClass: "sign"}, [t._v(t._s(t.encodeSign))]) : t._e()]), i("div", {staticClass: "btn-box"}, [i("a", {
                ref: "follow",
                staticClass: "like",
                class: {liked: t.cardRichInfo.following}
            }, [t.cardRichInfo.following ? [i("span", {
                on: {
                    click: t.unFollow,
                    mouseenter: t.followCut,
                    mouseleave: t.followCut
                }
            }, [t._v(t._s(t.followWord))])] : [i("span", {on: {click: t.follow}}, [t._v("+关注")])]], 2), i("a", {
                staticClass: "message",
                attrs: {href: t.HOST.MESSAGE + "/#whisper/mid" + t.cardRichInfo.card.mid, target: "_blank"}
            }, [t._v("发消息")])])] : t._e()]], 2)
        }), [], !1, null, "5d2b75e8", null).exports, m = {
            props: {mid: [Number, String], attachDomInstance: null, eventDom: null, top: Number, left: Number},
            data: function () {
                return {styleTop: 0, styleLeft: 0, parentStyle: {}, targetStyle: {}, cardStyle: {}}
            },
            computed: {
                positionStyle: function () {
                    return "top: ".concat(this.styleTop, "px; left: ").concat(this.styleLeft, "px;")
                }
            },
            components: {UserinfoContent: p},
            mounted: function () {
                this.updatePosition(!0)
            },
            methods: {
                onmouseenter: function (t) {
                    this.$emit("mouseenter", t)
                }, onmouseleave: function (t) {
                    this.$emit("mouseleave", t)
                }, updatePosition: function (t) {
                    var e = this;
                    this.$nextTick((function () {
                        e.targetStyle = e.eventDom.getBoundingClientRect(), e.cardStyle = e.$refs.card.getBoundingClientRect(), t && (e.parentStyle = e.attachDomInstance.$el.getBoundingClientRect()), e.styleLeft = e.targetStyle.left - e.parentStyle.left + e.targetStyle.width / 2, e.targetStyle.top - 40 < 300 ? e.styleTop = e.targetStyle.top - e.parentStyle.top + e.targetStyle.height : e.styleTop = e.targetStyle.top - e.parentStyle.top - e.cardStyle.height, void 0 !== e.top && (e.styleTop = e.top), void 0 !== e.left && (e.styleLeft = e.left)
                    }))
                }
            }
        }, v = (i(260), Object(f.a)(m, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {
                ref: "card",
                staticClass: "userinfo-wrapper",
                style: this.positionStyle,
                on: {mouseenter: this.onmouseenter, mouseleave: this.onmouseleave}
            }, [e("userinfo-content", {attrs: {mid: Number(this.mid)}, on: {"update-position": this.updatePosition}})], 1)
        }), [], !1, null, "5e6ddf5c", null).exports);

    function g(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function y(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    var b = function () {
        function t(e, i, n) {
            var o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
            if (g(this, t), !(i instanceof HTMLElement)) return console.error("attachDom is not a HTMLElement");
            this.eventDom = n;
            var r = o || {};
            if (n instanceof HTMLElement || (r = n || r, this.eventDom = i), "true" !== this.eventDom.getAttribute("data-userinfo-popup-inited")) {
                this.delay = "delay" in r ? r.delay : 400, this.options = r, this.mid = e, this.timer = null, this.vueInstance = null, this.mountedDom = document.createElement("div"), this.mountedDom.addEventListener("click", (function (t) {
                    t.stopPropagation(), t.preventDefault()
                }), !0), this.attachDom = i;
                var a = window.getComputedStyle(this.attachDom);
                "relative" !== a.position && this.attachDom.setAttribute("style", "position: relative;"), this.init()
            }
        }

        var e, i, n;
        return e = t, (i = [{
            key: "init", value: function () {
                this.vueInstance = new o.a({
                    template: '<userinfo-wrapper v-if="show" @mouseenter="onmouseenter" @mouseleave="onmouseleave" :mid="mid" :attach-dom-instance="attachDomInstance" :event-dom="eventDom" :top="top" :left="left"></userinfo-wrapper>',
                    components: {UserinfoWrapper: v},
                    data: function () {
                        return {show: !1, mid: 0, attachDomInstance: null, eventDom: null, top: void 0, left: void 0}
                    },
                    methods: {
                        onmouseenter: function (t) {
                            this.$emit("mouseenter", t)
                        }, onmouseleave: function (t) {
                            this.$emit("mouseleave", t)
                        }
                    }
                }), this.vueInstance.$mount(this.mountedDom), this.mountedDom = this.vueInstance.$el, this.vueInstance.mid = this.mid, this.vueInstance.attachDomInstance = this.vueInstance, this.vueInstance.eventDom = this.eventDom, this.vueInstance.top = this.options.top, this.vueInstance.left = this.options.left, this.vueInstance.$on("mouseenter", this.mouseenter.bind(this)), this.vueInstance.$on("mouseleave", this.mouseleave.bind(this)), this.eventDom.addEventListener("mouseenter", this.mouseenter.bind(this), !1), this.eventDom.addEventListener("mouseleave", this.mouseleave.bind(this), !1);
                var t = this;
                this.destroy = function () {
                    t.vueInstance.$destroy(), t.eventDom.removeEventListener("mouseenter", t.mouseenter), t.eventDom.removeEventListener("mouseleave", t.mouseleave)
                }, this.eventDom.setAttribute("data-userinfo-popup-inited", "true")
            }
        }, {
            key: "mouseenter", value: function () {
                var t = this;
                this.timer && (clearTimeout(this.timer), this.timer = null), this.timer = setTimeout((function () {
                    t.show()
                }), this.delay)
            }
        }, {
            key: "mouseleave", value: function () {
                var t = this;
                this.timer && (clearTimeout(this.timer), this.timer = null), this.timer = setTimeout((function () {
                    t.hide()
                }), 200)
            }
        }, {
            key: "show", value: function () {
                this.append(), this.vueInstance.show = !0
            }
        }, {
            key: "hide", value: function () {
                this.vueInstance.show = !1
            }
        }, {
            key: "append", value: function () {
                this.appended || (this.attachDom.appendChild(this.mountedDom), this.appended = !0)
            }
        }]) && y(e.prototype, i), n && y(e, n), t
    }();

    function _(t, e, i) {
        return (_ = w() ? Reflect.construct : function (t, e, i) {
            var n = [null];
            n.push.apply(n, e);
            var o = new (Function.bind.apply(t, n));
            return i && C(o, i.prototype), o
        }).apply(null, arguments)
    }

    function w() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
            }))), !0
        } catch (t) {
            return !1
        }
    }

    function C(t, e) {
        return (C = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function x() {
        for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
        return _(b, e)
    }

    o.a.use(Object(r.a)())
}, , function (t, e, i) {
    "use strict";
    i(50), i(28), i(18), i(20), i(65), i(59), i(14), i(19), i(11), i(30), i(21);
    var n = i(9), o = i.n(n), r = [];
    i(24);

    function a(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    var s = [], c = function () {
        function t(e) {
            var i = this;
            !function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), Object.keys(e).forEach((function (t) {
                i[t] = e[t]
            })), this.$id = e.$id ? e.$id : "popup-".concat(Math.floor(1e4 * Math.random() * Date.now()).toString(16)), this.$disabled = !1, this.$out = !1, this.type = e.type || "normal", this.lockWhenConfirm = e.lockWhenConfirm || !1, this.$keep = e.keep || !1
        }

        var e, i, n;
        return e = t, (i = [{
            key: "unlock", value: function () {
                this.$disabled = !1
            }
        }, {
            key: "lock", value: function () {
                this.$disabled = !0
            }
        }, {
            key: "close", value: function () {
                return this.removePopup()
            }
        }, {
            key: "keep", value: function () {
                this.$keep = !0
            }
        }, {
            key: "cancelKeep", value: function () {
                this.$keep = !1
            }
        }, {
            key: "restore", value: function () {
                this.$out = !1
            }
        }, {
            key: "removePopup", value: function () {
                var t = this;
                return new Promise((function (e) {
                    t.$out = !0, setTimeout((function () {
                        if (r.splice(t.$index, 1), t.$keep) {
                            var i = s.filter((function (e) {
                                return e.$id === t.$id
                            }));
                            i.length ? s[s.indexOf(i[0])] = t : s.push(t)
                        } else delete s[s.indexOf(t)];
                        var n;
                        (n = r).forEach((function (t, e) {
                            n[e].$index = e
                        })), o.a.nextTick((function () {
                            e(), window.navigator.userAgent.match(/Maxthon\/4.[0-4]/) && (window.document.body.style.backgroundColor = "#fefefe", setTimeout((function () {
                                window.document.body.style.backgroundColor = "#fff"
                            }), 1))
                        }))
                    }), 200)
                }))
            }
        }]) && a(e.prototype, i), n && a(e, n), t
    }();

    function l(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    var u = function () {
        function t(e) {
            !function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.param = e;
            var i = this.init();
            this.popup = i
        }

        var e, i, n;
        return e = t, (i = [{
            key: "onInited", value: function (t) {
                return this.popup.onInitedCallback = t, this
            }
        }, {
            key: "onConfirm", value: function (t) {
                return this.popup.onConfirmCallback = t, this
            }
        }, {
            key: "onCancel", value: function (t) {
                return this.popup.onCancelCallback = t, this
            }
        }, {
            key: "init", value: function () {
                var t = new c(this.param), e = t.$id;
                if (!r.filter((function (t) {
                    return t.$id === e
                })).length) {
                    if (s.length) for (var i = 0, n = s.length; i < n; i++) {
                        var o = s[i];
                        if (o) {
                            o.restore(), r.push(o);
                            var a = r.indexOf(o);
                            r[a].$index = a
                        }
                    }
                    var l = r.push(t) - 1;
                    return r[l].$index = l, t.onInitedCallback = null, t.onInitedCallbackExeced = !1, t
                }
                console.caution('检测到 $id 相同 livePopup "'.concat(this.param.$id, '}", 请解决冲突.'))
            }
        }]) && l(e.prototype, i), n && l(e, n), t
    }(), d = (i(52), i(53), i(74), i(44), i(27), i(45), i(48), i(63)), h = i(95);

    function f(t) {
        return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    var p = [], m = {
        data: function () {
            return {popups: r}
        }, computed: {
            currentPopup: function () {
                var t = this.popups[this.popups.length - 1];
                if (!t) return {};
                var e = t.component;
                if ("object" === f(e)) {
                    if (void 0 === t.content && void 0 === t.html || ("server" !== Object({
                        NODE_ENV: "production",
                        BASE_URL: "/"
                    }).VUE_ENV && window.console && console.warn("[BpPopup] 当使用 Component 方式构建弹窗时，传入的 html 与 content 属性无效."), t.html = null, t.content = null), "object" === f(e._Ctor)) {
                        var i = e.name;
                        if ("string" != typeof i) throw new Error("[Error] 在使用 Component 创建弹窗时必须指定 name.");
                        o.a.component(i, e), p.push(i), t.component.name = i
                    } else {
                        if ("string" != typeof e.name) throw new Error("[Error] 在使用 Component 创建弹窗时必须指定 name.");
                        o.a.component(e.name, e), p.push(e.name)
                    }
                    t.$usingComponent = !0
                }
                return t
            }
        }, components: {LinkBtn: d.a, Shell: h.a}, methods: {
            init: function (t) {
                this.$nextTick((function () {
                    t.onInitedCallback && !t.onInitedCallbackExeced && setTimeout((function () {
                        t.onInitedCallback(t), t.onInitedCallbackExeced = !0
                    }), 10)
                }))
            }, confirm: function (t, e) {
                var i = this.currentPopup;
                i.$disabled || (i.lockWhenConfirm && i.lock(), i.confirmBtn || (i.confirmBtn = e.confirmBtn), i.cancelBtn || (i.cancelBtn = e.cancelBtn), i.closeBtn || (i.closeBtn = e.closeBtn), i.onConfirmCallback ? i.onConfirmCallback(i) : i.removePopup && i.removePopup())
            }, cancel: function (t, e) {
                var i = this.currentPopup;
                i.$disabled || (i.confirmBtn || (i.confirmBtn = e.confirmBtn), i.cancelBtn || (i.cancelBtn = e.cancelBtn), i.closeBtn || (i.closeBtn = e.closeBtn), i.onCancelCallback && i.onCancelCallback(i), i.removePopup && i.removePopup())
            }, close: function (t) {
                t.removePopup && t.removePopup()
            }
        }, provide: function () {
            var t = this, e = {};
            return Object.defineProperty(e, "popup", {
                get: function () {
                    return t.currentPopup
                }
            }), e
        }
    }, v = (i(256), i(1)), g = Object(v.a)(m, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("transition", {attrs: {name: "fade-out"}}, [t.popups.length ? i("div", {
            staticClass: "bp-popup-ctnr dp-table w-100 h-100 p-fixed p-zero f-family",
            attrs: {role: "alertdialog"}
        }, [i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.currentPopup.hideMask,
                expression: "!currentPopup.hideMask"
            }], staticClass: "body-merge w-100 h-100 p-absolute p-zero"
        }), i("div", {staticClass: "dp-table-cell bp-v-middle"}, [i("shell", {
            attrs: {
                show: !t.currentPopup.$out,
                width: t.currentPopup.width,
                title: t.currentPopup.title,
                "title-center": t.currentPopup.titleCenter,
                button: t.currentPopup.button,
                disabled: t.currentPopup.$disabled,
                "on-confirm": t.confirm,
                "on-cancel": t.cancel,
                init: t.init(t.currentPopup)
            }
        }, [t.currentPopup.$usingComponent ? [i(t.currentPopup.component.name, {tag: "component"})] : ["string" == typeof t.currentPopup.html ? i("div", {
            staticClass: "popup-content-ctnr",
            attrs: {id: t.currentPopup.$id},
            domProps: {innerHTML: t._s(t.currentPopup.html)}
        }) : i("div", {
            staticClass: "popup-content-ctnr",
            staticStyle: {"font-size": "13px"},
            attrs: {id: t.currentPopup.$id},
            domProps: {textContent: t._s(t.currentPopup.content)}
        })]], 2)], 1)]) : t._e()])
    }), [], !1, null, "b38bf146", null).exports, y = !1, b = {
        install: function (t) {
            if (!y) {
                if (t.prototype.bpPopup = function (t) {
                    return new u(t, r)
                }, "undefined" != typeof window) {
                    var e = document.createElement("div");
                    document.body.appendChild(e), t.nextTick((function () {
                        new t({
                            template: '<div class="bp-popup-ctnr"><bp-popup></bp-popup></div>',
                            components: {BpPopup: g}
                        }).$mount(e)
                    }))
                }
                y = !0
            }
        }
    };
    e.a = b
}, , , , function (t, e, i) {
    "use strict";
    i.d(e, "b", (function () {
        return o
    })), i.d(e, "a", (function () {
        return r
    }));
    i(20), i(21);
    var n = {kaomojis: [], dynamicEmojis: [], mainEmojis: []};

    function o() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        n.mainEmojis = window.bp_emoji_data_v3 ? window.bp_emoji_data_v3.vip : [], n.dynamicEmojis = window.bp_emoji_data_v3 ? window.bp_emoji_data_v3.free : [];
        var e = [];
        return t.forEach((function (t) {
            n[t].forEach((function (t) {
                e.push(t)
            }))
        })), e
    }

    var r = {allEmojiDataNew: [], allEmojiDataOld: []}
}, , , , , , , function (t, e, i) {
    "use strict";
    i(262)
}, , , function (t, e, i) {
    "use strict";
    var n = i(95).a;
    e.a = n
}, function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return p
    })), i.d(e, "b", (function () {
        return m
    }));
    i(26), i(20), i(59), i(14), i(19), i(21), i(52), i(53), i(74), i(44), i(36), i(11), i(24), i(45), i(38), i(48);

    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    var o = {pv: {}, click: {}, default: {}};

    function r() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        Object.keys(o).forEach((function (e) {
            o[e] = Object.assign({}, t[e])
        }))
    }

    function a(t) {
        !function t(e, i, r) {
            var a = function (t) {
                return !!t && (t instanceof Promise ? "promise" : "function" == typeof t ? "function" : "string" == typeof t ? "string" : "[object Object]" === String(t) ? "object" : void 0)
            }(i);
            if (!a) return;
            if ("object" === a) {
                var s = Object.assign({}, o.default, o[e], {e: r}, i);
                return void function (t, e) {
                    var i = {logId: e.logId, sendStatus: e.sendStatus || "double", spmId: e.spmId, sendUrl: e.sendUrl};
                    if (void 0 !== e.data && null !== e.data && "{}" !== JSON.stringify(e.data) && (i.msg = {
                        value: e.data,
                        _rdm: Math.random().toString().split(".")[1].slice(0, 5)
                    }), e.event) {
                        var o = e.spmId + ".selfDef." + e.event;
                        i.spm_id = o, "object" === n(i.msg) ? i.msg.event = e.event : i.msg = {
                            event: e.event,
                            _rdm: Math.random().toString().split(".")[1].slice(0, 5)
                        }
                    }
                    "click" === t ? window.__bp_statisObserver.sendClickEvent(i, e.e) : "pv" === t && window.__bp_statisObserver.sendPV(i)
                }(e, s)
            }
            if ("string" === a) {
                var c = {};
                return c.event = i, void t(e, c, r)
            }
            if ("function" === a) {
                var l = i();
                return void t(e, l, r)
            }
            if ("promise" === a) return void i.then((function (i) {
                t(e, i, r)
            }))
        }(t.type, t.data, t.e)
    }

    var s = [];

    function c() {
        if (Object.assign) return !!(window.__bp_statisObserver && window.__bp_statisObserver.sendClickEvent && window.__bp_statisObserver.sendPV);
        console.error("No Object.assign. component.statistics needs Object.assign polyfill.")
    }

    function l() {
        c() && s.forEach((function () {
            a(s.shift())
        }))
    }

    function u(t) {
        s.push(t), setTimeout((function () {
            l()
        }), 1e3)
    }

    function d(t) {
        if (void 0 === window.__bp_statisObserver) {
            window.__bp_statisObserverConfig = Object.assign({
                loadPV: !0,
                loadEvent: !0,
                loadPerform: !1,
                loadSpecial: !1,
                loadBaidu: !1
            }, window.__bp_statisObserverConfig);
            var e = document.createElement("script");
            e.onload = function () {
                l(), t && t()
            }, e.src = "//s1.hdslb.com/bfs/seed/bplus-common/statistics-js/log-reporter.js", document.getElementsByTagName("body")[0].appendChild(e)
        } else t && t()
    }

    function h() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            e = arguments.length > 1 ? arguments[1] : void 0, i = Object.assign({}, {data: t}, {type: "click"}, {e: e});
        if (!c()) return u(i), void d();
        a(i)
    }

    function f() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            e = Object.assign({}, {data: t}, {type: "pv"});
        if (!c()) return u(e), void d();
        a(e)
    }

    var p = {click: h, event: h, pv: f, setDefault: r}, m = {
        install: function (t, e) {
            r(e), t.prototype.$bpreport = p, t.directive("bpreport", {
                bind: function (t, e) {
                    "click" === e.arg && t.addEventListener("click", (function (t) {
                        h(e.value, t)
                    }))
                }, inserted: function (t, e) {
                    "pv" === e.arg && f(e.value)
                }
            })
        }
    }
}, , , , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return n
    }));
    i(11), i(16);

    function n() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        if ("string" != typeof t) return 0;
        var e = t.length;
        if (/[\u0000-\u00ff]/.test(t)) {
            var i = t.replace(/[\u0000-\u00ff]/g, "").length;
            e = Math.ceil((e - i) / 2) + i
        }
        return e
    }
}, function (t, e, i) {
    "use strict";
    var n = {
        name: "bl-button",
        props: {disabled: Boolean, type: {type: String, default: "primary"}, size: {type: String, default: "size"}},
        methods: {
            handleClick: function (t) {
                this.$emit("click", t)
            }
        }
    }, o = (i(254), i(1)), r = Object(o.a)(n, (function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("button", {
            staticClass: "bl-button",
            class: [this.type ? "bl-button--" + this.type : "", this.size ? "bl-button--" + this.size : ""],
            attrs: {disabled: this.disabled},
            on: {click: this.handleClick}
        }, [e("span", {staticClass: "txt"}, [this._t("default")], 2)])
    }), [], !1, null, "65bda702", null).exports;
    e.a = r
}, , , function (t, e, i) {
    "use strict";
    var n = i(9), o = i.n(n), r = i(58),
        a = (i(50), i(237), i(12), i(28), i(20), i(27), i(17), i(14), i(19), i(24), i(21), i(10)), s = i.n(a),
        c = (i(29), {
            props: {
                arrow: {type: Boolean, default: !1}, arrowOptions: {
                    type: Object, default: function () {
                        return {}
                    }
                }
            }, data: function () {
                return {}
            }, computed: {
                arrowStyle: function () {
                    var t = this.arrowOptions || {}, e = t.top, i = t.left, n = t.right, o = t.bottom, r = t.rotate,
                        a = {};
                    return r && (a.transform = "rotateZ(".concat(r || 0, "deg)")), o ? a.bottom = "".concat(o, "px") : a.top = "".concat(e || -5, "px"), n ? a.right = "".concat(n, "px") : a.left = "".concat(i || 22, "px"), a
                }
            }, methods: {
                onClose: function (t) {
                    this.$emit("close"), t.stopPropagation()
                }
            }
        }), l = (i(267), i(1)), u = Object(l.a)(c, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("transition", {attrs: {name: "move-in"}}, [e("div", {
                staticClass: "static-popup",
                style: {width: this.$attrs.width + "px"}
            }, [this.arrow ? e("div", {
                staticClass: "bp-arrow",
                style: this.arrowStyle
            }) : this._e(), e("div", {
                staticClass: "bp-icon-font icon-group-dynamic close-btn",
                on: {click: this.onClose}
            }), e("div", {staticClass: "title"}, [this._t("title")], 2), e("div", {staticClass: "content-ctnr"}, [this._t("default")], 2)])])
        }), [], !1, null, "00b4b4ea", null).exports, d = i(8), h = i(241), f = {
            name: "emoji-item", props: {url: {type: String}, title: {}}, data: function () {
                return {imgStyle: "background-color: #e7e7e7;width:100%;height:100%;"}
            }, mounted: function () {
                this.img = new Image, this.img.src = this.url, this.img.addEventListener("load", this.success), this.img.addEventListener("error", this.error)
            }, destroyed: function () {
                this.img.removeEventListener("load", this.success), this.img.removeEventListener("error", this.error)
            }, watch: {
                url: function () {
                    this.img.src = this.url
                }
            }, methods: {
                success: function () {
                    this.img.complete && (this.imgStyle = "background-image: url(".concat(this.url, ");background-size: cover;width:100%;height:100%;"))
                }, error: function () {
                    this.imgStyle = "background-color: #e7e7e7;width:100%;height:100%;"
                }
            }
        }, p = Object(l.a)(f, (function () {
            var t = this.$createElement;
            return (this._self._c || t)("div", {style: this.imgStyle, attrs: {title: this.title}})
        }), [], !1, null, null, null).exports, m = {
            props: {
                emojiList: {
                    type: Array, default: function () {
                        return []
                    }
                }
            }, components: {emojiItem: p}, data: function () {
                return {perfectScrollbar: null, isOldBrowser: d.isOldBrowser}
            }, watch: {
                emojiList: function () {
                    this.isOldBrowser || this.updateScrollbar()
                }
            }, mounted: function () {
                this.initScrollbar()
            }, methods: {
                initScrollbar: function () {
                    if (!this.isOldBrowser) {
                        var t = this.$el;
                        this.perfectScrollbar = new h.a(t, {
                            wheelSpeed: 2,
                            wheelPropagation: !0,
                            minScrollbarLength: 20,
                            theme: "playlist-editor"
                        }), this.updateScrollbar()
                    }
                }, updateScrollbar: function () {
                    var t = this;
                    this.$nextTick((function () {
                        var e = t.$el;
                        e.scrollTop = 1, t.perfectScrollbar.update(e)
                    }))
                }
            }
        }, v = (i(268), Object(l.a)(m, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                staticClass: "emoji-page", class: {ie: t.isOldBrowser}, on: {
                    mousedown: function (t) {
                        t.stopPropagation(), t.preventDefault()
                    }
                }
            }, [i("ul", {staticClass: "emoji-list f-clear"}, t._l(t.emojiList, (function (e) {
                return i("li", {
                    key: e.url, staticClass: "emoji", class: {kaomoji: 4 === e.type}, on: {
                        click: function (i) {
                            return t.$emit("select", e.name)
                        }
                    }
                }, [4 !== e.type ? i("emoji-item", {
                    attrs: {
                        title: e.name,
                        url: e.url.replace(/^http:\/\//, "//")
                    }
                }) : t._e(), 4 === e.type ? i("span", {staticClass: "dp-i-block"}, [t._v(t._s(e.name))]) : t._e()], 1)
            })), 0)])
        }), [], !1, null, "60ae9c4d", null).exports), g = {
            props: {
                emojiLists: {
                    type: Array, default: function () {
                        return []
                    }
                }, curPid: {type: Number, default: 0}
            }, components: {emojiItem: p}, data: function () {
                return {lineHeight: 36, curPage: 1, totalPages: 1}
            }, computed: {
                marginTop: function () {
                    return -(this.curPage - 1) * this.lineHeight
                }
            }, watch: {
                emojiLists: function () {
                    this.update()
                }
            }, mounted: function () {
                this.init(), this.update()
            }, methods: {
                init: function () {
                    this.lineHeight = this.$el.offsetHeight
                }, update: function () {
                    var t = this;
                    this.$nextTick((function () {
                        var e = t.$refs.list.offsetHeight;
                        t.totalPages = Math.ceil(e / t.lineHeight)
                    }))
                }, select: function (t) {
                    this.$emit("select", t)
                }, showPrev: function () {
                    this.curPage > 1 && this.curPage--
                }, showNext: function () {
                    this.curPage < this.totalPages && this.curPage++
                }
            }
        }, y = (i(269), Object(l.a)(g, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "pagination", style: {height: t.lineHeight + "px"}}, [i("ul", {
                ref: "list",
                staticClass: "emoji-cover-list f-clear",
                style: {marginTop: t.marginTop + "px", width: t.$attrs.width - 30 + "px"}
            }, t._l(t.emojiLists, (function (e) {
                return i("li", {
                    staticClass: "emoji-cover f-left",
                    class: {selected: e.pid === t.curPid},
                    style: {height: t.lineHeight + "px"},
                    on: {
                        click: function (i) {
                            return t.select(e.pid)
                        }
                    }
                }, [i("emoji-item", {attrs: {url: e.purl.replace(/^http:\/\//, "//")}})], 1)
            })), 0), t.totalPages > 1 ? i("div", {
                staticClass: "page-controller",
                style: {height: t.lineHeight + "px", lineHeight: t.lineHeight + "px"}
            }, [i("span", {
                staticClass: "prev bp-icon-font icon-btn-triangle-left",
                class: {disabled: t.curPage <= 1},
                on: {click: t.showPrev}
            }), i("span", {
                staticClass: "next bp-icon-font icon-btn-triangle-right",
                class: {disabled: t.curPage >= t.totalPages},
                on: {click: t.showNext}
            })]) : t._e()])
        }), [], !1, null, "97c4281e", null).exports), b = i(47), _ = i(22);

    function w(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var C = {MAIN: "444.41", TAG: "333.169", SPACE: "333.49", DETAIL: "444.42", MESSAGE: "444.1"},
        x = {1: "emoji", 1e3: "emotion", 1001: "tv", 1002: "cat"}, k = {
            props: {
                fadeDirection: {type: Number, default: 1},
                arrowOptions: {
                    type: Object, default: function () {
                        return {}
                    }
                },
                field: {required: !0},
                frozenElements: {
                    type: Array, default: function () {
                        return []
                    }
                },
                emojiType: {
                    type: Array, default: function () {
                        return []
                    }
                },
                spmType: {type: String},
                pubType: {type: String, default: ""},
                selectHandler: {
                    type: Function, default: function () {
                    }
                },
                isFromMessage: {type: Boolean, default: !1},
                revert: null
            }, data: function () {
                return {curPid: 1, emojiLists: []}
            }, computed: {
                fadeStyle: function () {
                    return 0 === this.fadeDirection ? "" : this.fadeDirection < 0 ? "move-in-down" : "move-in"
                }, curEmojiList: function () {
                    var t = this, e = this.emojiLists.filter((function (e) {
                        return e.pid === t.curPid
                    }));
                    return e.length > 0 && e[0].emojis ? e[0].emojis : []
                }, width: function () {
                    return this.$attrs.width || 380
                }
            }, created: function () {
                var t, e = this;
                return (t = s.a.mark((function t() {
                    return s.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Object(_.b)(e.isFromMessage);
                            case 2:
                                e.emojiLists = Object(b.b)(e.emojiType);
                            case 3:
                            case"end":
                                return t.stop()
                        }
                    }), t)
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            w(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            w(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })()
            }, mounted: function () {
                this.init(), this.bindEvents(), this.dataReport()
            }, beforeDestroy: function () {
                this.removeEvents()
            }, methods: {
                emojiIconId: function (t) {
                    var e = this.curEmojiList[0].id;
                    return this.curEmojiList.forEach((function (i) {
                        i.name === t && (e = i.id)
                    })), e
                }, getCursortPosition: function (t) {
                    var e = 0, i = t.ownerDocument || t.document, n = i.defaultView || i.parentWindow;
                    if ("DIV" === t.tagName) {
                        if (n.getSelection().rangeCount > 0) {
                            var o = n.getSelection().getRangeAt(0), r = o.cloneRange();
                            r.selectNodeContents(t), r.setEnd(o.endContainer, o.endOffset), e = r.toString().length
                        }
                    } else e = t.selectionEnd;
                    return e
                }, setCaretPosition: function (t, e) {
                    var i, n;
                    "DIV" === t.tagName ? ((i = document.createRange()).selectNodeContents(t), t.innerHTML.length > 0 && i.collapse(t, e), i.collapse(!0), (n = window.getSelection()).removeAllRanges(), n.addRange(i)) : t.setSelectionRange(e, e)
                }, mousewheelFix: function (t) {
                    t.preventDefault()
                }, init: function () {
                    try {
                        this.curPid = this.emojiLists[0] ? this.emojiLists[0].pid : this.curPid, this.focusField()
                    } catch (t) {
                        return
                    }
                }, dataReport: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                        e = arguments.length > 1 ? arguments[1] : void 0;
                    if (C.hasOwnProperty(this.spmType)) {
                        var i = {};
                        "_tab" === t ? i = {package_id: this.curPid} : "_icon" === t && e && (i = {
                            package_id: this.curPid,
                            emoji_id: this.emojiIconId(e),
                            emoji_name: 1e3 === this.curPid ? "emotion" : e
                        }), this.$bpreport.click({
                            logId: "000502",
                            spmId: C[this.spmType],
                            event: "".concat(this.pubType ? "publish" : "card_rt", "_emoji").concat(t).concat("MAIN" === this.spmType ? this.pubType : ""),
                            data: i
                        })
                    }
                }, bindEvents: function () {
                    var t = this;
                    this.$el.addEventListener("mousewheel", this.mousewheelFix, !1), this.$el.addEventListener("DOMMouseScroll", this.mousewheelFix, !1), setTimeout((function () {
                        document.body.addEventListener("click", t.close, !1), t.$el.addEventListener("click", t.stopPropagation), t.frozenElements.forEach((function (e) {
                            e.addEventListener("click", t.stopPropagation)
                        }))
                    }), 100)
                }, removeEvents: function () {
                    var t = this;
                    this.$el.removeEventListener("mousewheel", this.mousewheelFix), this.$el.removeEventListener("DOMMouseScroll", this.mousewheelFix), document.body.removeEventListener("click", this.close), this.$el.removeEventListener("click", this.stopPropagation), this.frozenElements.forEach((function (e) {
                        e.removeEventListener("click", t.stopPropagation)
                    }))
                }, stopPropagation: function (t) {
                    t.stopPropagation()
                }, focusField: function () {
                    this.field && this.field.focus && this.field.focus()
                }, close: function () {
                    this.$emit("close")
                }, switchEmojiPage: function (t) {
                    this.curPid = t, this.dataReport("_tab", x[t])
                }, insertText: function (t) {
                    if (this.dataReport("_icon", t), this.field && "TEXTAREA" === this.field.tagName) {
                        if (this.$emit("update", t), !this.field) return;
                        if (document.selection) this.field.focus(), document.selection.createRange().text = t; else if (this.field.selectionStart || 0 === parseInt(this.field.selectionStart)) {
                            var e = parseInt(this.field.selectionStart), i = this.field.selectionEnd;
                            this.field.value = this.field.value.substring(0, e) + t + this.field.value.substring(i, this.field.value.length), this.field.setSelectionRange(e + t.length, e + t.length)
                        } else this.field.value += t;
                        this.triggerTextareaInput(), this.focusField()
                    } else this.selectHandler(t)
                }, triggerTextareaInput: function () {
                    var t = document.createEvent("HTMLEvents");
                    t.initEvent("input", !1, !0), this.field.dispatchEvent(t)
                }
            }, components: {StaticBox: u, EmojiPage: v, EmojiPagination: y}
        }, I = (i(270), Object(l.a)(k, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("transition", {attrs: {name: t.fadeStyle}}, [i("div", {
                class: {revert: t.revert},
                on: {
                    mousedown: function (t) {
                        t.stopPropagation(), t.preventDefault()
                    }
                }
            }, [i("static-box", {
                staticClass: "common-font",
                attrs: {arrow: !t.revert, width: t.width, "arrow-options": t.arrowOptions},
                on: {close: t.close}
            }, [i("span", {
                attrs: {slot: "title"},
                slot: "title"
            }, [t._v("表情")]), i("emoji-page", {
                attrs: {"emoji-list": t.curEmojiList},
                on: {select: t.insertText}
            }), i("emoji-pagination", {
                attrs: {"emoji-lists": t.emojiLists, "cur-pid": t.curPid, width: t.width},
                on: {select: t.switchEmojiPage}
            })], 1)], 1)])
        }), [], !1, null, "5275be0c", null).exports);
    o.a.use(r.b);
    var S = I;
    e.a = S
}, , , , , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return o
    }));
    i(11), i(38);
    var n = i(62);

    function o() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        if ("string" != typeof t) return "";
        if (e < 1) return t;
        var i = Object(n.a)(t);
        if (i <= e) return t + "";
        for (var o = "", r = 0, a = t.split(""), s = 0; s < a.length && (/[\u0000-\u00ff]/.test(a[s]) ? r += .5 : r += 1, !(r > e)); s++) o += a[s];
        return o
    }
}, , , , function (t, e, i) {
    "use strict";
    i.d(e, "a", (function () {
        return y
    })), i.d(e, "b", (function () {
        return b
    })), i.d(e, "c", (function () {
        return g
    }));
    i(52), i(53), i(12), i(20), i(112), i(18), i(31), i(27), i(11), i(30), i(16), i(70), i(21);
    var n = i(6), o = i(8), r = i(4), a = i(39), s = i(0), c = i(2);

    function l(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function u(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? l(Object(i), !0).forEach((function (e) {
                d(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : l(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function d(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var h = function (t, e) {
        var i = Object(n.e)(t), o = Object(n.e)(e), r = o.ctrl;
        Array.isArray(i) || (i = []), Array.isArray(r) || (r = []), i = r.concat(i);
        var a = !1, s = !1, c = o.dispute || "";
        return i.forEach((function (t) {
            2 === t.type ? a = !0 : 3 === t.type && (s = !0)
        })), {hasLottery: a, hasVote: s, riskTip: c}
    }, f = function () {
        if ("undefined" == typeof window) return !1;
        try {
            return 0 === document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")
        } catch (t) {
            return !1
        }
    }(), p = function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = e.width, n = e.height,
            o = e.scale;
        if (!t) return "";
        var r = /^\/\//.test(t) ? "https:".concat(t) : /^http:/.test(t) ? t.replace("http:", "https:") : t;
        if (!i && !n) return r;
        var a = o || window.devicePixelRatio;
        return "".concat(r, "@").concat(i * a | 0, "w_").concat(0 | (n ? n * a : i * a), "h_1e_1c").concat(f ? ".webp" : "")
    }, m = ["manga", "pugv", "ogv", "game", "decoration", "official_activity", "reserve", "ugc"], v = function (t) {
        return !m.includes(t)
    }, g = function () {
        var t, e, i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (i && !v(i.type)) {
            var n = u({uncheck: {}, check: {}, type: 0, status: 0}, i.button || i.reserve_button), o = function (t) {
                var e, i = t.type;
                return null !== (e = {
                    ugc: (null == t ? void 0 : t.head_text) || "",
                    reserve: ""
                }[i]) && void 0 !== e ? e : (null == t ? void 0 : t.head_text) || "相关漫画作品"
            };
            return [{
                adMark: o(i),
                adMarkPlain: 1,
                brief: (null == i ? void 0 : i.desc_first) && "string" == typeof (null == i ? void 0 : i.desc_first) ? i.desc_first : (null == i || null === (t = i.desc_first) || void 0 === t ? void 0 : t.text) || "",
                briefHeightlight: (!(null == i ? void 0 : i.desc_first) || "string" != typeof (null == i ? void 0 : i.desc_first)) && (1 === (null == i || null === (e = i.desc_first) || void 0 === e ? void 0 : e.style) || !1),
                desc2: i.desc_second,
                reserveTotal: "reserve" === i.type ? i.reserve_total : void 0,
                img: i.cover_url || i.image_url || "",
                imgType: i.cover_type,
                isUGC: "ugc" === i.type,
                duration: i.duration,
                isTitleMultiLine: i.multi_line,
                itemsId: i.oid_str,
                jumpLink: i.jump_url || i.play_url,
                jumpLinkAction: i.type,
                jumpLinkColor: "",
                jumpLinkBorder: {
                    uncheck: 2 === n.type ? !!n.uncheck.bdstyle : null,
                    check: 2 === n.type ? !!n.check.bdstyle : null
                },
                jumpLinkStatus: n.status,
                jumpLinkDisabled: "reserve" !== i.type ? null : {
                    value: 2 === n.type && !!n[1 === n.status ? "uncheck" : "check"].disable,
                    toast: 2 === n.type && n[1 === n.status ? "uncheck" : "check"].toast || ""
                },
                jumpLinkPopups: "reserve" !== i.type ? null : {
                    uncheck: 2 === n.type ? n.uncheck.popups : null,
                    check: 2 === n.type ? n.check.popups : null
                },
                jumpButtonType: n.type,
                jumpLinkDesc: (n.uncheck || n.jump_style || {}).text,
                jumpLinkChecked: (n.check || {}).text,
                jumpLinkIcon: p((n.uncheck || {}).icon),
                name: i.title
            }]
        }
    }, y = function (t) {
        var e = {
                name_url: "",
                name: "",
                detail_url: "",
                face: "//static.hdslb.com/images/member/noface.gif",
                comment_count: 0,
                detail_comment_url: "",
                more_comment_url: "",
                more_forw_url: "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=1"),
                comment_id: 0,
                comment_oid: 0,
                hasVote: !1,
                hasLottery: !1,
                isSetTop: !1
            }, i = Object(n.e)(t.card), r = {}, a = {},
            l = Object(o.getVideoLink)(t.desc.rid, t.desc.bvid || t.desc.origin && t.desc.origin.bvid);
        switch (t.extra && (e.isSetTop = 1 == t.extra.is_space_top), t.desc.type) {
            case s.a.REPOST:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.item.reply, e.more_comment_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.comment_id = 17, e.comment_oid = "".concat(t.desc.dynamic_id), a = h(i.item.ctrl, t.extend_json), e.hasVote = a.hasVote, e.hasLottery = a.hasLottery, e.riskTip = a.riskTip;
                break;
            case s.a.PIC:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.item.reply, e.detail_comment_url = "".concat(c.a.T, "/").concat(t.desc.orig_dy_id || t.desc.dynamic_id, "?tab=2"), e.more_comment_url = "".concat(c.a.T, "/").concat(t.desc.orig_dy_id || t.desc.dynamic_id, "?tab=2"), e.comment_id = 11, e.comment_oid = "".concat(i.item.id), a = h(i.item.at_control, t.extend_json), e.hasVote = a.hasVote, e.hasLottery = a.hasLottery, e.riskTip = a.riskTip;
                break;
            case s.a.WORD:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.item.reply, e.more_comment_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.comment_id = 17, e.comment_oid = "".concat(t.desc.dynamic_id), a = h(i.item.ctrl, t.extend_json), e.hasVote = a.hasVote, e.hasLottery = a.hasLottery, e.riskTip = a.riskTip;
                break;
            case s.a.VIDEO:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.stat.reply, e.detail_comment_url = l, e.more_comment_url = l, e.comment_id = 1, e.comment_oid = "".concat(i.aid), e.needPay = i.rights && !!i.rights.ugc_pay, e.isCooperation = i.rights && !!i.rights.is_cooperation, a = h(i.ctrl, t.extend_json), e.hasLottery = a.hasLottery, e.riskTip = a.riskTip;
                break;
            case s.a.CHEESE_SERIES:
            case s.a.CHEESE_UPDATE:
                e.name_url = "".concat(c.a.SPACE, "/").concat(i.up_id, "/dynamic"), e.uid = i.up_id, e.name = i.up_info.name, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = i.up_info.avatar, e.comment_count = i.new_ep ? i.new_ep.reply : 0, e.detail_comment_url = i.url, e.more_comment_url = i.url, e.comment_id = 33, e.comment_oid = i.new_ep ? "".concat(i.new_ep.id) : 0, a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.CLIP:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.item.reply, e.detail_comment_url = "".concat(c.a.VC, "/video/").concat(i.item.id), e.more_comment_url = "".concat(c.a.VC, "/video/").concat(i.item.id), e.comment_id = 5, e.comment_oid = "".concat(i.item.id), a = h(i.item.at_control, t.extend_json), e.hasVote = a.hasVote, e.hasLottery = a.hasLottery, e.riskTip = a.riskTip;
                break;
            case s.a.ARTICLE:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.stats.reply, e.detail_comment_url = "".concat(c.a.MAIN, "/read/cv").concat(i.id), e.more_comment_url = "".concat(c.a.MAIN, "/read/cv").concat(i.id), e.comment_id = 12, e.comment_oid = "".concat(i.id), a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.MUSIC:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = i.replyCnt, e.detail_comment_url = "".concat(c.a.MAIN, "/audio/au").concat(i.id, "?type=7"), e.more_comment_url = "".concat(c.a.MAIN, "/audio/au").concat(i.id, "?type=7"), e.comment_id = 14, e.comment_oid = "".concat(i.id), a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.BANGUMI:
            case s.a.PGC_BANGUMI:
            case s.a.GUOCHUANG:
                r = i.apiSeasonInfo || i.season || {}, e.name_url = "".concat(c.a.BANGUMI, "/anime/").concat(t.desc.uid), e.name = r.title, e.face = r.cover, e.comment_count = i.reply_count, e.detail_comment_url = i.url, e.more_comment_url = i.url, e.comment_id = 1, e.comment_oid = "".concat(i.aid), 4 === r.bgm_type ? (e.bangumi_desc = "国创", e.tags = [{name: "国创"}]) : (e.bangumi_desc = "番剧", e.bangumi_url = "".concat(c.a.BANGUMI, "/anime/timeline"), e.tags = [{name: "番剧"}]), a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.COMIC_SHARE:
            case s.a.H5_SHARE:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = t.desc.comment, e.more_comment_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.comment_id = 17, e.comment_oid = "".concat(t.desc.dynamic_id), a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.FILM:
                r = i.apiSeasonInfo || i.season || {}, e.name_url = "".concat(c.a.BANGUMI, "/anime/").concat(t.desc.uid), e.name = r.title, e.face = r.cover || i.cover, e.comment_count = i.reply_count, e.detail_comment_url = i.url, e.more_comment_url = i.url, e.comment_id = 1, e.comment_oid = "".concat(i.aid), e.bangumi_desc = "电影", e.tags = [{name: "电影"}], a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.TV:
                r = i.apiSeasonInfo || i.season || {}, e.name_url = "".concat(c.a.BANGUMI, "/anime/").concat(t.desc.uid), e.name = r.title, e.face = r.cover || i.cover, e.comment_count = i.reply_count, e.detail_comment_url = i.url, e.more_comment_url = i.url, e.comment_id = 1, e.comment_oid = "".concat(i.aid), e.bangumi_desc = r.type_name || "电视剧", e.tags = [{name: r.type_name || "电视剧"}], a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.DOCUMENTARY:
                r = i.apiSeasonInfo || i.season || {}, e.name_url = "".concat(c.a.BANGUMI, "/anime/").concat(t.desc.uid), e.name = r.title, e.face = r.cover || i.cover, e.comment_count = i.reply_count, e.detail_comment_url = i.url, e.more_comment_url = i.url, e.comment_id = 1, e.comment_oid = "".concat(i.aid), "26484" === String(r.season_id) || "26481" === String(r.season_id) ? e.bangumi_desc = "" : (e.bangumi_desc = "纪录片", e.tags = [{name: "纪录片"}]), a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.SUBSCRIPTION:
            case s.a.LIVE_PUSH:
            case s.a.LIVE:
            case s.a.LIVE_ROOM:
                e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face, e.comment_count = t.desc.comment, e.more_comment_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.comment_id = 17, e.comment_oid = "".concat(t.desc.dynamic_id), a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            case s.a.COLLECTION:
                e.name_url = l, e.name = i.collection && i.collection.title || "未知合集", e.face = i.collection && i.collection.cover || "", e.comment_count = i.stat.reply, e.more_comment_url = l, e.comment_id = 1, e.comment_oid = "".concat(i.aid), e.bangumi_desc = "合集", a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip;
                break;
            default:
                t.desc.user_profile ? (e.name_url = "".concat(c.a.SPACE, "/").concat(t.desc.uid, "/dynamic"), e.name = t.desc.user_profile.info.uname, e.detail_url = "".concat(c.a.T, "/").concat(t.desc.dynamic_id, "?tab=2"), e.face = t.desc.user_profile.info.face) : e.name = "未知", a = h(i.ctrl, t.extend_json), e.riskTip = a.riskTip
        }
        return e
    }, b = function (t, e, i) {
        var l = {
                uid: 0,
                name: "",
                face: "",
                url: "",
                type_desc: "",
                contentArray: [],
                clipContentArray: [],
                voteInfo: null,
                hasLottery: !1
            }, u = t.desc.type === s.a.REPOST, d = u ? t.desc.orig_type : t.desc.type,
            f = t.desc.origin ? t.desc.origin.stype : 0, p = Object(n.e)(t.card), m = u ? Object(n.e)(p.origin) : p,
            v = m.user || {}, y = u ? p.origin_extend_json : t.extend_json, b = Object(n.e)(y), _ = {};
        _.vote_cfg = b.vote, _.lott_cfg = b.lott;
        var w = u ? t.desc.orig_dy_id : t.desc.dynamic_id;
        _ && _.vote_cfg && (l.voteInfo = {
            title: _.vote_cfg.desc,
            desc: void 0 !== _.vote_cfg.join_num ? "".concat(_.vote_cfg.join_num, "人参与") : "",
            url: "".concat(c.a.T, "/vote/h5/index/#/result?vote_id=").concat(_.vote_cfg.vote_id, "&dynamic_id=").concat(t.desc.dynamic_id, "&isWeb=1")
        });
        var C = "", x = "", k = {}, I = {}, S = !1, O = "", T = "", E = t.display || {};
        if (u) {
            var P, L = E.origin || {}, j = E && E.add_on_card_info && E.add_on_card_info[0] || {},
                A = L && L.add_on_card_info && L.add_on_card_info[0] || {};
            if (1 === A.add_on_card_show_type) l.shopCards = (null === (P = Object(n.e)(A.goods_card)) || void 0 === P ? void 0 : P.list) || []; else 2 === A.add_on_card_show_type ? l.originAttachCard = g(A.attach_card) : 6 === A.add_on_card_show_type ? l.originAttachCard = g(A.reserve_attach_card) : 5 === A.add_on_card_show_type && (l.originAttachCard = g(A.ugc_attach_card));
            2 === j.add_on_card_show_type ? l.attachCard = g(j.attach_card) : 6 === j.add_on_card_show_type ? l.attachCard = g(j.reserve_attach_card) : 5 === j.add_on_card_show_type && (l.attachCard = g(j.ugc_attach_card))
        } else {
            var M, D = E && E.add_on_card_info && E.add_on_card_info[0] || {};
            if (1 === D.add_on_card_show_type) l.shopCards = (null === (M = Object(n.e)(D.goods_card)) || void 0 === M ? void 0 : M.list) || []; else 2 === D.add_on_card_show_type ? l.attachCard = g(D.attach_card) : 6 === D.add_on_card_show_type ? l.attachCard = g(D.reserve_attach_card) : 5 === D.add_on_card_show_type && (l.attachCard = g(D.ugc_attach_card))
        }
        switch (d) {
            case s.a.PIC:
                l.uid = ~~v.uid, l.name = v.name, l.face = v.head_url, l.url = e ? "" : "".concat(c.a.T, "/").concat(w, "?tab=2"), l.type_desc = "的图片", l.pureText = m.item.description || m.item.title, l.contentArray = Object(r.o)(m.item.description || m.item.title, {
                    ctrlJson: m.item.at_control,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, i), T = m.item.description || m.item.title, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.item.at_control,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.item.at_control,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, I = h(m.item.at_control, y), l.hasLottery = I.hasLottery, l.riskTip = I.riskTip, l.images = m.item.pictures.map((function (t) {
                    return t.img_src = Object(n.g)(t.img_src), t
                }));
                break;
            case s.a.WORD:
                l.uid = ~~v.uid, l.name = v.uname, l.face = v.face, l.url = e ? "" : "".concat(c.a.T, "/").concat(w, "?tab=2"), l.type_desc = "的动态", l.pureText = m.item.content, l.contentArray = Object(r.o)(m.item.content, {
                    ctrlJson: m.item.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, i), T = m.item.content, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.item.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.item.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, I = h(m.item.ctrl, y), l.hasLottery = I.hasLottery, l.riskTip = I.riskTip;
                break;
            case s.a.VIDEO:
                l.uid = ~~m.owner.mid, l.name = m.owner.name, l.face = m.owner.face, l.url = Object(o.getVideoLink)(m.aid, t.desc.bvid || t.desc.origin && t.desc.origin.bvid), l.type_desc = 2 === f ? "投稿的直播回放" : "的投稿视频", l.pureText = m.dynamic, l.contentArray = Object(r.o)(m.dynamic, {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, i), T = m.dynamic, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, I = h(m.ctrl, y), l.hasLottery = I.hasLottery, l.riskTip = I.riskTip, l.image = m.pic, l.title = m.title, l.desc = m.desc, l.aid = m.aid, l.duration = m.duration, l.view = m.stat.view, l.danmaku = m.stat.danmaku, l.needPay = m.rights && !!m.rights.ugc_pay, l.isCooperation = m.rights && !!m.rights.is_cooperation;
                break;
            case s.a.CHEESE_SERIES:
                l.uid = ~~m.up_id, l.name = m.up_info.name, l.face = m.up_info.avatar, l.url = m.url, l.type_desc = "的付费课程", l.pureText = m.dynamic, l.contentArray = Object(r.o)(m.dynamic, {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, i), T = m.dynamic, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, I = h(m.ctrl, y), l.hasLottery = I.hasLottery, l.riskTip = I.riskTip, l.image = m.cover, l.title = m.title, l.subtitle = m.subtitle, l.desc = m.update_info || "", l.id = m.id || 0;
                break;
            case s.a.CHEESE_UPDATE:
                l.uid = ~~m.up_id, l.name = m.up_info.name, l.face = m.up_info.avatar, l.url = m.url, l.type_desc = "的付费课程", l.pureText = m.dynamic, l.contentArray = Object(r.o)(m.dynamic, {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, i), T = m.dynamic, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.ctrl,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, I = h(m.ctrl, y), l.hasLottery = I.hasLottery, l.riskTip = I.riskTip, l.image = m.cover, l.title = m.new_ep.title, l.subtitle = m.title;
                var B = m.update_count, N = "等".concat(B, "个视频更新");
                l.desc = B > 1 ? N : "", l.id = m.id || 0;
                break;
            case s.a.CLIP:
                l.uid = ~~v.uid, l.name = v.name, l.face = v.head_url, l.url = "".concat(c.a.VC, "/video/").concat(m.item.id), l.type_desc = "的小视频", l.pureText = m.item.description, l.contentArray = Object(r.o)(m.item.description, {
                    ctrlJson: m.item.at_control,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, i), T = m.item.description, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.item.at_control,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.item.at_control,
                    extendCtrlJson: y,
                    dynamicId: w,
                    display: E
                }, I = h(m.item.at_control, y), l.hasLottery = I.hasLottery, l.riskTip = I.riskTip, l.cover = m.item.cover.default, l.duration = m.item.video_time;
                break;
            case s.a.ARTICLE:
                l.uid = ~~m.author.mid, l.name = m.author.name, l.face = m.author.face, l.url = "".concat(c.a.MAIN, "/read/cv").concat(m.id), l.type_desc = "的文章", l.pureText = m.dynamic, l.contentArray = Object(r.o)(m.dynamic, {
                    dynamicId: t.desc.orig_dy_id || t.desc.dynamic_id,
                    extendCtrlJson: y,
                    display: E
                }, i), T = m.dynamic, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    dynamicId: t.desc.orig_dy_id || t.desc.dynamic_id,
                    extendCtrlJson: y,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    dynamicId: t.desc.orig_dy_id || t.desc.dynamic_id,
                    extendCtrlJson: y,
                    display: E
                }, I = h(m.ctrl, y), l.riskTip = I.riskTip, l.images = m.image_urls, l.title = m.title, l.desc = m.summary;
                break;
            case s.a.MUSIC:
                l.uid = ~~m.upId, l.name = m.upper, l.face = m.upperAvatar, l.url = "".concat(c.a.MAIN, "/audio/au").concat(m.id, "?type=7"), l.type_desc = "的音频", l.pureText = m.intro, l.contentArray = Object(r.o)(m.intro), T = m.intro, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {isClip: !0}, i), I = h(m.ctrl, y), l.riskTip = I.riskTip, l.title = m.title, l.cover = m.cover, l.desc = m.typeInfo;
                break;
            case s.a.BANGUMI:
            case s.a.PGC_BANGUMI:
            case s.a.GUOCHUANG:
                k = m.apiSeasonInfo || m.season || {}, l.name = k.title, l.title_url = "".concat(c.a.BANGUMI, "/anime/").concat(k.season_id), I = h(m.ctrl, y), l.riskTip = I.riskTip, l.cover = m.cover, l.play_count = m.play_count, l.bullet_count = m.bullet_count, l.url = m.url, 4 === k.bgm_type ? l.tags = [{name: "国创"}] : l.tags = [{name: "番剧"}], m.new_desc ? l.title = m.new_desc : (C = m.index.match(/第\S集/) ? m.index : "第".concat(m.index, "集"), x = m.index_title, l.title = x && "" !== x ? C + " - " + x : C);
                break;
            case s.a.COMIC_SHARE:
            case s.a.H5_SHARE:
                l.uid = ~~v.uid, l.name = v.uname, l.face = v.face, l.url = "".concat(c.a.T, "/").concat(w, "?tab=2"), l.type_desc = "的分享", I = h(m.ctrl, y), l.riskTip = I.riskTip, S = 101 === m.sketch.biz_type, d === s.a.COMIC_SHARE && (l.tagsText = m.sketch.text), O = m.vest.content, l.pureText = O, l.contentArray = Object(r.o)(O, {
                    ctrlJson: m.vest.ctrl,
                    extendCtrlJson: y,
                    isRemark: S,
                    display: E
                }, i), T = O, T = Object(a.a)(T, 6), l.clipContentArray = Object(r.o)(T, {
                    ctrlJson: m.vest.ctrl,
                    extendCtrlJson: y,
                    isRemark: S,
                    display: E,
                    isClip: !0
                }, i), l.renderOpts = {
                    ctrlJson: m.vest.ctrl,
                    extendCtrlJson: y,
                    isRemark: S,
                    display: E
                }, l.cover = m.sketch.cover_url, l.title = m.sketch.title, l.desc = m.sketch.desc_text, l.target_url = m.sketch.target_url, l.tag = m.sketch.tags || [];
                break;
            case s.a.FILM:
                m.apiSeasonInfo ? (l.name = m.apiSeasonInfo.title, l.title_url = "".concat(c.a.BANGUMI, "/anime/").concat(m.apiSeasonInfo.season_id), l.play_count = m.play_count, l.bullet_count = m.bullet_count) : (l.name = m.show_title, l.title_url = "".concat(c.a.BANGUMI, "/anime/").concat(m.season.season_id), l.play_count = m.stat.play, l.bullet_count = m.stat.danmaku), l.cover = m.cover, l.url = m.url, I = h(m.ctrl, y), l.riskTip = I.riskTip, l.tags = [{name: "电影"}], m.new_desc ? l.title = m.new_desc : m.apiSeasonInfo ? l.title = m.apiSeasonInfo.title : l.title = m.show_title;
                break;
            case s.a.TV:
                k = m.apiSeasonInfo || m.season || {}, l.name = k.title, l.title_url = "".concat(c.a.BANGUMI, "/anime/").concat(k.season_id), l.cover = m.cover, l.play_count = m.play_count, l.bullet_count = m.bullet_count, l.url = m.url, l.tags = [{name: k.type_name || "电视剧"}], I = h(m.ctrl, y), l.riskTip = I.riskTip, m.new_desc ? l.title = m.new_desc : m.index_title ? l.title = m.index_title : m.index && m.index.match(/第\S集/) ? l.title = m.index : l.title = "第".concat(m.index || 1, "集");
                break;
            case s.a.DOCUMENTARY:
                k = m.apiSeasonInfo || m.season || {}, l.name = k.title, l.title_url = "".concat(c.a.BANGUMI, "/anime/").concat(k.season_id), l.cover = m.cover, l.play_count = m.play_count, l.bullet_count = m.bullet_count, l.url = m.url, l.tags = [{name: "纪录片"}], I = h(m.ctrl, y), l.riskTip = I.riskTip, m.new_desc ? l.title = m.new_desc : (C = m.index.match(/第\S集/) ? m.index : "第".concat(m.index, "集"), x = m.index_title, l.title = x ? C + " - " + x : C);
                break;
            case s.a.SUBSCRIPTION:
                if ("live_room" !== m.type) {
                    p.origin_user ? (l.uid = p.origin_user.info.uid, l.name = p.origin_user.info.uname, l.face = p.origin_user.info.face) : (l.uid = t.desc.user_profile.info.uid, l.name = t.desc.user_profile.info.uname, l.face = t.desc.user_profile.info.face), l.type_desc = "更新了";
                    break
                }
                m.live_play_info = JSON.parse(m.live_info).live_play_info;
            case s.a.LIVE_PUSH:
                p.origin_user ? (l.uid = p.origin_user.info.uid, l.name = p.origin_user.info.uname, l.face = p.origin_user.info.face) : (l.uid = t.desc.user_profile.info.uid, l.name = t.desc.user_profile.info.uname, l.face = t.desc.user_profile.info.face), l.url = m.live_play_info.link, l.cover = m.live_play_info.cover, l.view_num = "".concat(m.live_play_info.online, "人气"), l.title = m.live_play_info.title, l.area_name = m.live_play_info.area_name, l.status = 1 === m.live_play_info.live_status ? "直播中" : "直播结束", l.show_view_num = 1 === m.live_play_info.live_status;
                break;
            case s.a.LIVE_ROOM:
            case s.a.LIVE:
                p.origin_user ? (l.uid = p.origin_user.info.uid, l.name = p.origin_user.info.uname, l.face = p.origin_user.info.face) : (l.uid = ~~m.uid, l.name = m.uname, l.face = m.face), l.url = "//live.bilibili.com/".concat(m.roomid), l.type_desc = "的直播间", l.cover = m.user_cover || m.cover, l.title = m.title, l.view_num = "".concat(m.online, "人气"), l.area_name = m.area_v2_name, I = h(m.ctrl, y), l.riskTip = I.riskTip, l.status = 1 === m.live_status ? "直播中" : "直播结束", l.show_view_num = 1 === m.live_status;
                break;
            case s.a.MEDIA_LIST:
                l.uid = ~~m.upper.mid, l.name = m.upper.name, l.face = m.upper.face, l.url = "//www.bilibili.com/medialist/detail/ml".concat(m.id), l.type_desc = "的收藏夹", l.cover = m.cover, l.coverType = m.cover_type, l.title = m.title, l.description = m.intro, l.contentCount = m.media_count, I = h(m.ctrl, y), l.riskTip = I.riskTip;
                break;
            case s.a.COLLECTION:
                u && (l.name = m.collection && m.collection.title || "未知合集", l.title_url = Object(o.getVideoLink)(m.aid), l.type_desc = t.display && t.display.repost_source_action_txt || "更新了"), l.aid = m.aid, l.title = m.title, l.desc = m.desc, l.cover = m.pic, l.play_count = m.stat.view, l.bullet_count = m.stat.danmaku, l.duration = m.duration, l.url = Object(o.getVideoLink)(m.aid), l.tag = "合集", l.needPay = m.rights && !!m.rights.ugc_pay, I = h(m.ctrl, y), l.riskTip = I.riskTip
        }
        return l
    }
}, , , , function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    i(17);
    var n = i(63), o = "undefined" != typeof window ? document.createElement("div") : null;

    function r() {
    }

    var a = {
        props: {
            button: {
                default: function () {
                    return {confirm: "确定", cancel: "取消"}
                }
            },
            width: {type: Number, default: 500},
            title: {type: String, default: ""},
            titleCenter: {type: Boolean, default: !1},
            disabled: {type: Boolean, default: !1},
            show: {type: Boolean, default: !1},
            onConfirm: {type: Function, default: r},
            onCancel: {type: Function, default: r}
        }, components: {BpBtn: n.a}, computed: {
            buttons: function () {
                return {
                    confirmBtn: this.$refs.confirmBtn ? this.$refs.confirmBtn.$el : o,
                    cancelBtn: this.$refs.cancelBtn ? this.$refs.cancelBtn.$el : o,
                    closeBtn: this.$refs.closeBtn
                }
            }
        }, methods: {
            onConfirmFunc: function (t) {
                this.onConfirm(t, this.buttons)
            }, onCancelFunc: function (t) {
                this.onCancel(t, this.buttons)
            }
        }
    }, s = (i(255), i(1)), c = Object(s.a)(a, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("transition", {
            attrs: {
                name: "scale-out",
                "leave-active-class": "a-scale-out"
            }
        }, [i("div", {
            directives: [{name: "show", rawName: "v-show", value: t.show, expression: "show"}],
            staticClass: "bp-popup-panel p-relative a-move-in-top a-forwards",
            style: {width: t.width + "px" || !1}
        }, [i("div", {
            staticClass: "title-ctnr p-relative",
            class: {"t-center": t.titleCenter}
        }, [i("h2", {
            staticClass: "popup-title",
            domProps: {textContent: t._s(t.title)}
        })]), i("div", {staticClass: "popup-content-ctnr"}, [t._t("default"), !1 !== t.button ? i("div", {staticClass: "popup-btn-ctnr t-center"}, [!1 !== t.button.confirm ? i("bp-btn", {
            ref: "confirmBtn",
            staticClass: "panel-btn",
            attrs: {disabled: t.disabled},
            nativeOn: {
                click: function (e) {
                    return t.onConfirmFunc(e)
                }
            }
        }, [t._v(t._s(t.button.confirm || "确定"))]) : t._e(), !1 !== t.button.cancel ? i("bp-btn", {
            ref: "cancelBtn",
            staticClass: "panel-btn",
            attrs: {type: "ghost"},
            nativeOn: {
                click: function (e) {
                    return t.onCancelFunc(e)
                }
            }
        }, [t._v(t._s(t.button.cancel || "取消"))]) : t._e()], 1) : t._e()], 2), i("div", {
            ref: "closeBtn",
            staticClass: "close-btn p-absolute bg-center bg-no-repeat pointer t-center",
            attrs: {role: "button", title: "关闭面板"},
            on: {click: t.onCancelFunc}
        }, [i("i", {staticClass: "bp-icon-font icon-close"})])])])
    }), [], !1, null, "3c863400", null);
    e.a = c.exports
}, , , , , , , , , , function (t, e, i) {
    "use strict";
    (function (t) {
        i.d(e, "a", (function () {
            return c
        }));
        i(20), i(14), i(19), i(21);
        var n = i(15), o = i(2), r = "undefined" == typeof window ? t : window, a = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                i = {free: [], mapping: [], vip: []};
            return t.forEach((function (t, n) {
                var o = [];
                t.emote && t.emote.forEach((function (t) {
                    o.push({
                        id: t.id,
                        name: t.text,
                        url: e && t.gif_url || t.url,
                        gif_url: t.gif_url || "",
                        type: t.type
                    })
                })), i.free.push({emojis: o, pid: t.id, pname: t.text, purl: t.url, type: t.type, size: t.meta.size})
            })), i
        };

        function s(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return Object(n.a)({
                method: "get",
                url: "".concat(o.a.API_MAIN, "/x/emote/user/panel/web"),
                data: {business: "reply"},
                throttleInterval: 5e3,
                localCache: !0,
                ttl: 9e5,
                cache_key: "emoji_big"
            }).then((function (i) {
                var n = a(i.data.packages || [], e);
                r.localStorage && r.localStorage.setItem("bp_emoji_data_v3", JSON.stringify(n)), r.bp_emoji_data_v3 = n, t && t(n)
            })).catch((function (e) {
                r.bp_emoji_data_v3 || (r.bp_emoji_data_v3 = {}), t && t({})
            }))
        }

        function c() {
            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            return new Promise((function (e) {
                var i = r.localStorage ? r.localStorage.getItem("bp_emoji_data_v3") : "{}";
                i ? (r.bp_emoji_data_v3 = JSON.parse(i), s(void 0, t), e(r.bp_emoji_data_v3)) : s(e, t)
            }))
        }
    }).call(this, i(96))
}, , , , , , , , function (t, e, i) {
    "use strict";
    i(112), i(56), i(31), i(26);
    var n = i(0), o = i(7), r = i(13), a = (i(12), i(18), i(27), i(8)), s = i(6), c = {
        methods: {
            getSpmData: function () {
                var t = Object(o.a)(this.cardInfo);
                return {
                    dynamic_id: t.dynamic_id,
                    dynamic_type: t.card_type,
                    inner_dynamic_id: this.cardInfo.desc.orig_dy_id || "",
                    sub_source: this.itemInfo.jumpLinkAction,
                    oid: this.shopCardId
                }
            }, reportItemClick: function () {
                if (this.itemInfo.jumpLinkAction) return Object(o.d)(n.d.SUB_CARD_CLICK, this.getSpmData());
                var t = {item_id: this.shopCardId}, e = Object(r.g)(this.cardInfo);
                Object(o.d)(n.d.SHOP_CARD_CLICK, Object.assign(e, t))
            }
        }
    }, l = i(1), u = Object(l.a)(c, void 0, void 0, !1, null, null, null).exports, d = {
        mixins: [u], props: ["itemInfo", "cardInfo"], data: function () {
            return {}
        }, computed: {
            bgStyle: function () {
                var t = this.toBfsImg(this.itemInfo.img);
                return "background-image: url(".concat(t, ");")
            }, jumpLink: function () {
                return 0 === this.itemInfo.jumpLink.indexOf("bilibili://") ? void 0 : this.itemInfo.jumpLink
            }, hoverContent: function () {
                return "".concat(this.subTitle ? "".concat(this.title, "\n") : this.title).concat(this.priceDesc ? "".concat(this.subTitle, "\n") : this.subTitle).concat(this.priceDesc)
            }, title: function () {
                return this.itemInfo.name || ""
            }, subTitle: function () {
                return this.itemInfo.brief || ""
            }, priceDesc: function () {
                return this.itemInfo.priceStr || ""
            }, shopCardId: function () {
                return this.itemInfo.itemsId
            }, isUGC: function () {
                return this.itemInfo.isUGC
            }
        }, methods: {
            toBfsImg: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                    e = arguments.length > 1 ? arguments[1] : void 0, i = arguments.length > 2 ? arguments[2] : void 0;
                return Object(s.g)(Object(a.bfsImgLink)(t, e, i, {e: 1, c: 1}))
            }
        }
    }, h = (i(264), Object(l.a)(d, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return t.itemInfo.img ? i("div", {
            class: ["shop-item", {vertical: 2 === t.itemInfo.imgType, ugc: t.isUGC}],
            style: t.bgStyle
        }, [i("a", {
            staticClass: "shop-link",
            attrs: {href: t.jumpLink, target: "_blank", title: t.hoverContent},
            on: {click: t.reportItemClick}
        }), t.isUGC ? i("div", {staticClass: "ugc-duration"}, [t._v(t._s(t.itemInfo.duration))]) : t._e()]) : t._e()
    }), [], !1, null, "6be15733", null).exports), f = i(2), p = {
        mixins: [u], props: ["item-info", "cardInfo", "atPublishPanel", "isRepost"], data: function () {
            return {
                btnStatus: !!this.itemInfo && 2 === this.itemInfo.jumpLinkStatus,
                reserveTotal: !!this.itemInfo && this.itemInfo.reserveTotal || null,
                subDesc: !!this.itemInfo && this.itemInfo.desc2 || ""
            }
        }, computed: {
            title: function () {
                return this.itemInfo.name || ""
            }, subTitle: function () {
                return this.itemInfo.brief || ""
            }, subTitleHighlight: function () {
                return this.itemInfo.briefHeightlight || !1
            }, priceDesc: function () {
                return this.itemInfo.priceStr || ""
            }, btnText: function () {
                return this.itemInfo.isUGC ? "" : this.itemInfo.jumpLinkDesc || "去看看"
            }, btnTextChecked: function () {
                return this.itemInfo.jumpLinkChecked
            }, btnDisabled: function () {
                return this.itemInfo.jumpLinkDisabled || {value: !1, toast: ""}
            }, btnIcon: function () {
                return this.itemInfo.jumpLinkIcon
            }, jumpLink: function () {
                return this.itemInfo.jumpLink
            }, shopCardId: function () {
                return this.itemInfo.itemsId
            }, isJumpBtn: function () {
                try {
                    return 1 === this.itemInfo.jumpButtonType
                } catch (t) {
                    return !1
                }
            }, getPageSpmid: function () {
                try {
                    if ("official_activity" === this.cardInfo.display.attach_card.type) return document.querySelector("meta[name='spm_prefix']").content
                } catch (t) {
                    return ""
                }
                return ""
            }, borderBtnClass: function () {
                return "reserve" === this.itemInfo.jumpLinkAction && !!(this.btnStatus ? this.itemInfo.jumpLinkBorder.check : this.itemInfo.jumpLinkBorder.uncheck)
            }, isDisabled: function () {
                return !!this.btnDisabled.value
            }, attachCardParamId: function () {
                return this.isRepost ? this.cardInfo.desc.orig_dy_id : this.cardInfo.desc.dynamic_id
            }
        }, watch: {
            "itemInfo.jumpLinkStatus": function (t) {
                this.btnStatus = 2 === t
            }, "itemInfo.reserveTotal": function (t) {
                console.log("val", t), this.reserveTotal = t
            }, "itemInfo.subDesc": function (t) {
                this.subDesc = t
            }
        }, methods: {
            reportItemClick: function (t) {
                var e;
                (null === (e = this.btnDisabled) || void 0 === e ? void 0 : e.value) && t.preventDefault()
            }, actionHandler: function (t) {
                var e = this;
                if (this.itemInfo.jumpLinkAction) if (t.stopPropagation(), Object(o.d)(n.d.SUB_BTN_CLICK, this.getSpmData()), this.btnDisabled && this.btnDisabled.value) this.linkMsg(this.$el, this.btnDisabled.toast, "caution"); else {
                    var i = "reserve" === this.itemInfo.jumpLinkAction, r = function (t) {
                        e.bpapi({
                            method: "post",
                            url: "".concat(f.a.API_VC, "/dynamic_mix/v1/dynamic_mix/attach_card_button"),
                            data: {
                                cur_btn_status: e.btnStatus ? 2 : 1,
                                dynamic_id: e.attachCardParamId,
                                attach_card_type: e.itemInfo.jumpLinkAction,
                                spmid: e.getPageSpmid,
                                reserve_total: i ? e.reserveTotal : void 0
                            }
                        }).then((function (n) {
                            n.code || n.data && n.data.final_btn_status === (e.btnStatus ? 2 : 1) || (e.btnStatus = !e.btnStatus, i && (n.data.desc_update && (e.subDesc = n.data.desc_update), "number" == typeof n.data.reserve_update && (e.reserveTotal = n.data.reserve_update), e.linkMsg(e.$el, n.data.toast, "success")), t && t(!0))
                        }), (function (i) {
                            e.linkMsg(e.$el, i.msg, i.type), t && t(!1)
                        }))
                    }, a = i ? this.itemInfo.jumpLinkPopups[this.btnStatus ? "check" : "uncheck"] : null;
                    console.log("opop", i, a), a ? this.bpPopup({
                        title: "提示",
                        content: a.text,
                        button: {confirm: a.confirm, cancel: a.cancel}
                    }).onConfirm((function (t) {
                        r((function (e) {
                            e && t.close()
                        }))
                    })).onCancel((function (t) {
                        t.close()
                    })) : r()
                }
            }, handleClick: function (t) {
                t.stopPropagation(), Object(o.d)(n.d.SUB_BTN_CLICK, this.getSpmData())
            }
        }
    }, m = (i(265), {
        props: ["shopCardList", "isRepost", "cardInfo", "atPublishPanel"], computed: {
            showDesc: function () {
                return 1 === this.shopCardList.length
            }, hasIcon: function () {
                return !this.shopCardList[0].adMarkPlain
            }, panelDesc: function () {
                return this.shopCardList[0].adMark || ""
            }, shopCardIds: function () {
                return this.shopCardList.map((function (t) {
                    return t.itemsId
                }))
            }, isReserve: function () {
                return this.shopCardList && this.shopCardList[0] && "reserve" === this.shopCardList[0].jumpLinkAction
            }, margin: function () {
                var t, e, i, n;
                return !this.panelDesc && (this.isRepost ? [2, 8].includes(null === (t = this.cardInfo) || void 0 === t || null === (e = t.desc) || void 0 === e ? void 0 : e.orig_type) : [2, 8].includes(null === (i = this.cardInfo) || void 0 === i || null === (n = i.desc) || void 0 === n ? void 0 : n.type))
            }
        }, watch: {}, components: {
            ShopItem: h, ShopDesc: Object(l.a)(p, (function () {
                var t = this, e = t.$createElement, i = t._self._c || e;
                return i("div", {
                    staticClass: "shop-desc",
                    class: t.itemInfo.jumpLinkAction,
                    on: {click: t.reportItemClick}
                }, [i("a", {
                    staticClass: "desc-box",
                    attrs: {href: t.jumpLink, target: "_blank"}
                }, [i("div", {
                    staticClass: "title",
                    class: {"multi-line": t.itemInfo.isTitleMultiLine}
                }, [t._v(t._s(t.title))]), "reserve" === t.itemInfo.jumpLinkAction ? [t.subTitle ? i("div", {staticClass: "sub-title reserve"}, [i("span", {class: t.subTitleHighlight ? "highlight" : ""}, [t._v(t._s(t.subTitle))]), t.subDesc ? i("span", [t._v(t._s(t.subDesc))]) : t._e()]) : t._e()] : [t.subTitle ? i("div", {staticClass: "sub-title"}, [t._v(t._s(t.subTitle))]) : t._e(), t.priceDesc || t.subDesc ? i("div", {class: t.priceDesc ? "price" : "sub-title"}, [i("span", [t._v(t._s(t.priceDesc || t.subDesc))]), i("span", {staticClass: "price-desc"}, [t._v(t._s(t.priceDesc ? "起" : ""))])]) : t._e()]], 2), t.btnText && !t.atPublishPanel ? i("a", {
                    staticClass: "btn-box",
                    attrs: {href: !t.btnDisabled.value && !t.btnTextChecked && t.jumpLink, target: "_blank"}
                }, [t.isJumpBtn ? i("a", {
                    staticClass: "jump-btn",
                    attrs: {href: t.jumpLink, target: "_blank"},
                    on: {click: t.handleClick}
                }, [t._v("\n      " + t._s(t.btnText) + "\n    ")]) : i("button", {
                    staticClass: "jump-btn",
                    class: {checked: !t.isJumpBtn && t.btnStatus, border: t.borderBtnClass, disabled: t.isDisabled},
                    style: {backgroundColor: t.itemInfo.jumpLinkColor},
                    on: {click: t.actionHandler}
                }, [t.btnDisabled.value && t.btnIcon ? i("i", {staticClass: "btn-icon reserve-disabled"}) : t.btnIcon && !t.btnStatus ? i("i", {
                    staticClass: "btn-icon",
                    style: {backgroundImage: "url(" + t.btnIcon + ")"}
                }) : t._e(), t._v("\n      " + t._s(!t.isJumpBtn && t.btnStatus ? t.btnTextChecked : t.btnText) + "\n    ")])]) : t._e()])
            }), [], !1, null, "2277fe03", null).exports
        }, mounted: function () {
            this.cardInfo && this.reportItemShow()
        }, methods: {
            reportItemShow: function () {
                if (this.shopCardList[0].jumpLinkAction) {
                    var t = Object(o.a)(this.cardInfo), e = t.dynamic_id, i = t.card_type;
                    if (window["".concat(e)]) return;
                    return window["".concat(e)] = "flag", void Object(o.d)(n.d.SUB_CARD_SHOW, {
                        dynamic_id: e,
                        dynamic_type: i,
                        inner_dynamic_id: this.cardInfo.desc.orig_dy_id || "",
                        sub_source: this.shopCardList[0].jumpLinkAction,
                        oid: this.shopCardList[0].itemsId
                    })
                }
                var a = {item_id: this.shopCardIds.join(",")}, s = Object(r.g)(this.cardInfo);
                Object(o.d)(n.d.SHOP_CARD_SHOW, Object.assign(s, a))
            }, handleClose: function () {
                this.$emit("empty-attach-data")
            }
        }
    }), v = (i(266), Object(l.a)(m, (function () {
        var t = this, e = t.$createElement, n = t._self._c || e;
        return n("div", {
            staticClass: "shop-panel",
            class: {"big-size": t.atPublishPanel, "top-margin": t.margin}
        }, [!t.atPublishPanel && t.panelDesc ? n("div", {staticClass: "panel-desc"}, [t.hasIcon ? n("i", {staticClass: "shop-icon"}) : t._e(), n("span", [t._v(t._s(t.panelDesc))])]) : t._e(), n("div", {
            staticClass: "shop-list",
            class: {"is-repost": t.isRepost, reserve: t.isReserve}
        }, [t._l(t.shopCardList, (function (e) {
            return n("shop-item", {key: e.itemsId, attrs: {"card-info": t.cardInfo, "item-info": e}})
        })), t.showDesc ? n("shop-desc", {
            attrs: {
                "card-info": t.cardInfo,
                "item-info": t.shopCardList[0],
                "is-repost": t.isRepost,
                "at-publish-panel": t.atPublishPanel
            }
        }) : t._e(), t.atPublishPanel ? n("div", {
            staticClass: "delete-btn",
            on: {click: t.handleClose}
        }, [n("img", {staticClass: "delete-img", attrs: {src: i(263), alt: "删除"}})]) : t._e()], 2)])
    }), [], !1, null, "130673ff", null));
    e.a = v.exports
}, function (t, e, i) {
    "use strict";
    i(12), i(20), i(18), i(78), i(31), i(227), i(59), i(11), i(30), i(16), i(42), i(21);
    var n = function t(e) {
        if (!e) return "";
        var i = e.childNodes, n = i.length;
        i.length && "BR" === i[i.length - 1].nodeName && (n -= 1);
        for (var o = "", r = 0; r < n; r++) "#text" === i[r].nodeName ? o += i[r].nodeValue : "BR" === i[r].nodeName ? o += "\n" : "INPUT" === i[r].nodeName ? o += i[r].defaultValue : "DIV" === i[r].nodeName ? o += "\n" + t(i[r]) : "BUTTON" === i[r].nodeName ? o += t(i[r]) : "IMG" === i[r].nodeName ? o += i[r].alt : (i[r].nodeName, o += t(i[r]));
        return o
    };
    var o = function (t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], i = 0,
            o = t.ownerDocument || t.document, r = o.defaultView || o.parentWindow;
        if ("DIV" === t.tagName) {
            if (r.getSelection().rangeCount > 0) {
                var a = r.getSelection().getRangeAt(0), s = a.cloneRange();
                s.selectNodeContents(t), s.setEnd(a.endContainer, a.endOffset);
                var c = s.cloneContents(), l = n(c);
                i = l.length, e && (i = l.replace(/\n/g, "").length)
            }
        } else i = t.selectionEnd;
        return i
    }, r = i(6);
    var a, s, c, l = function (t, e) {
            var i, n, o = -1 !== Object(r.d)().indexOf("Safari");
            "DIV" === t.tagName || o ? ((i = document.createRange()).selectNodeContents(t), t.innerHTML && t.innerHTML.length > 0 && i.collapse(t, e), i.collapse(!0), (n = window.getSelection()).removeAllRanges(), n.addRange(i)) : t.setSelectionRange(e, e)
        },
        u = ["boxSizing", "width", "height", "overflowX", "overflowY", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "lineHeight", "fontFamily", "textAlign", "textTransform", "textIndent", "textDecoration", "letterSpacing", "wordSpacing"],
        d = function (t, e) {
            (a = document.getElementById(t.nodeName + "--mirror-div")) || ((a = document.createElement("div")).id = t.nodeName + "--mirror-div", document.body.appendChild(a)), c = a.style, s = getComputedStyle(t), c.whiteSpace = "pre-wrap", "INPUT" !== t.nodeName && (c.wordWrap = "break-word"), c.position = "absolute", c.top = t.offsetTop + parseInt(s.borderTopWidth) + "px", c.left = t.offsetLeft + parseInt(s.borderLeftWidth) + "px", c.visibility = "hidden", u.forEach((function (t) {
                c[t] = s[t]
            })), window.navigator.userAgent.indexOf("Firefox") > -1 ? (c.width = parseInt(s.width) - 2 + "px", t.scrollHeight > parseInt(s.height) && (c.overflowY = "scroll")) : c.overflow = "hidden", a.textContent = t.value.substring(0, e), "INPUT" === t.nodeName && (a.textContent = a.textContent.replace(/\s/g, " "));
            var i = document.createElement("span");
            return i.textContent = t.value.substring(e) || ".", a.appendChild(i), {
                top: i.offsetTop + parseInt(s.borderTopWidth) + parseInt(s["line-height"]) - t.scrollTop,
                left: i.offsetLeft + parseInt(s.borderLeftWidth)
            }
        }, h = (i(378), i(117)), f = i.n(h), p = (i(35), i(24), function (t, e) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "#00A1D6";
            if (!e) return t;
            var n = new RegExp("(" + e + ")", "g");
            return t.replace(n, "<font style='color: ".concat(i, ";'>$1</font>"))
        }), m = function () {
            if ("undefined" == typeof window) return !1;
            try {
                return 0 === document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")
            } catch (t) {
                return !1
            }
        }(), v = function (t) {
            var e, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = i.width, o = i.height,
                r = i.scale;
            if (!t) return "";
            var a = /^\/\//.test(t) ? "https:".concat(t) : /^http:/.test(t) ? t.replace("http:", "https:") : t;
            if (!n && !o) return a;
            var s = r || (null === (e = window) || void 0 === e ? void 0 : e.devicePixelRatio) || 2;
            return "".concat(a, "@").concat(n * s | 0, "w_").concat(0 | (o ? o * s : n * s), "h_1e_1c").concat(m ? ".webp" : "")
        }, g = i(2);

    function y(t) {
        return function (t) {
            if (Array.isArray(t)) return b(t)
        }(t) || function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
        }(t) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return b(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return b(t, e)
        }(t) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function b(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    var _ = {isIE: !1, isSafari: !1, isInited: !1}, w = {
        input: "Input",
        focus: "Input",
        DOMNodeInserted: "Input",
        click: "Click",
        blur: "Blur",
        keydown: "Keydown",
        keyup: "Keyup"
    }, C = {
        name: "AtPopup",
        props: {
            inputEl: {required: !0}, request: {required: !0}, beforeShow: {
                type: Function, default: function () {
                    return !0
                }
            }
        },
        data: function () {
            return {visible: !1, top: 0, left: 0, selectedIndex: [0, 0], list: [], mouseOverEnabled: !0, needHide: !1}
        },
        computed: {
            atPopupStyle: function () {
                return {left: "".concat(this.left, "px"), top: "".concat(this.top, "px")}
            }
        },
        watch: {
            inputEl: {
                immediate: !0, handler: function (t, e) {
                    e && this._removeEventListener(e), t && this._addEventListener(t)
                }
            }
        },
        created: function () {
            this._initBrowser()
        },
        destroyed: function () {
            this._removeEventListener(this.inputEl)
        },
        methods: {
            _initBrowser: function () {
                if (!_.isInited) {
                    var t = Object(r.d)();
                    _.isIE = -1 !== t.indexOf("IE"), _.isSafari = -1 !== t.indexOf("Safari"), _.isInited = !0
                }
            }, _addEventListener: function (t) {
                var e = this;
                Object.keys(w).forEach((function (i) {
                    t.addEventListener(i, e["_on".concat(w[i])])
                }))
            }, _removeEventListener: function (t) {
                var e = this;
                Object.keys(w).forEach((function (i) {
                    t.removeEventListener(i, e["_on".concat(w[i])])
                }))
            }, _onInput: function () {
                setTimeout(this._scan, 0)
            }, _onKeydown: function (t) {
                if (this.visible && 0 !== this.list.length) switch (t.keyCode) {
                    case 13:
                        t.preventDefault(), this._select(this.list[this.selectedIndex[0]].items[this.selectedIndex[1]]);
                        break;
                    case 38:
                        t.preventDefault(), this._switchToPrev();
                        break;
                    case 40:
                        t.preventDefault(), this._switchToNext()
                }
            }, _onKeyup: function (t) {
                [37, 39].indexOf(t.keyCode) > -1 && this._scan()
            }, _onBlur: function () {
                var t = this;
                setTimeout((function () {
                    t.needHide && t._hide()
                }), 300), this.needHide = !0
            }, _onClick: function () {
                this._scan()
            }, _onMouseover: function (t, e) {
                this.mouseOverEnabled && (this.selectedIndex = [t, e])
            }, _isSelected: function (t, e) {
                return this.selectedIndex[0] === t && this.selectedIndex[1] === e
            }, _select: function (t) {
                var e = this;
                if (t) {
                    var i = o(this.inputEl), n = this.inputEl.value;
                    _.isIE || (n = n.replace(/\n/g, ""));
                    var r = n.substring(0, i), a = r.lastIndexOf("@"), s = r.substring(a, i);
                    this.$emit("select", {
                        item: t,
                        matchString: s
                    }), this._hide(), this.list = [], this.inputEl.focus(), "TEXTAREA" === this.inputEl.tagName && setTimeout((function () {
                        var i = a + t.uname.length + 2;
                        l(e.inputEl, i)
                    }), 0)
                }
            }, _switchToPrev: function () {
                var t = y(this.selectedIndex);
                t[1] - 1 >= 0 ? t[1] = t[1] - 1 : (t[0] - 1 >= 0 ? t[0] = t[0] - 1 : t[0] = this.list.length - 1, t[1] = this.list[t[0]].items.length - 1), this.selectedIndex = t, this._updateListScrollTop()
            }, _switchToNext: function () {
                var t = y(this.selectedIndex);
                t[1] + 1 < this.list[t[0]].items.length ? t[1] = t[1] + 1 : (t[0] + 1 < this.list.length ? t[0] = t[0] + 1 : t[0] = 0, t[1] = 0), this.selectedIndex = t, this._updateListScrollTop()
            }, _updateListScrollTop: function () {
                if (0 !== this.list.length) {
                    var t = this.$refs.list.children[this.selectedIndex[0]].children[1].children[this.selectedIndex[1]];
                    this.$refs.list.offsetHeight + this.$refs.list.scrollTop < t.offsetTop ? (this.$refs.list.scrollTop = t.offsetTop - this.$refs.list.offsetHeight + 10, this._disableMouseOver()) : t.offsetTop <= this.$refs.list.scrollTop + 20 + 3 && (this.$refs.list.scrollTop = t.offsetTop - 43 - (0 === this.selectedIndex[1] ? 20 : 0), this._disableMouseOver())
                }
            }, _disableMouseOver: function () {
                this.mouseOverEnabled = !1, this._enableMouseOver()
            }, _enableMouseOver: f()((function () {
                this.mouseOverEnabled = !0
            }), 200), _scan: function () {
                var t = o(this.inputEl), e = this.inputEl.value;
                _.isIE || (e = e.replace(/\n/g, ""));
                var i = e.substring(t - 21, t), n = i.lastIndexOf("@");
                if (~n) {
                    var r = i.substring(n + 1), a = /[#@\s]/;
                    r.match(a) ? this._hide() : (this._show(), "" !== r && "" === String(r).trim() || r.match(a) || " " === r.substring(0, 1) ? this.list = [] : this._search(r))
                } else this._hide()
            }, _show: function () {
                this.visible ? this._calculateCaretPosition() : this.beforeShow && "function" == typeof this.beforeShow && !this.beforeShow() || (this.visible = !0, this.selectedIndex = [0, 0], this._calculateCaretPosition(), this.$emit("active"))
            }, _hide: function () {
                this.visible = !1, this.$emit("inactive")
            }, _calculateCaretPosition: function () {
                var t = o(this.inputEl), e = this.inputEl.value.substring(0, t).lastIndexOf("@");
                if (_.isIE || _.isSafari) {
                    var i = d(this.inputEl, e);
                    this.left = i.left, this.top = i.top
                } else {
                    var n = this.inputEl.getBoundingClientRect(), r = n.top, a = n.left,
                        s = window.getSelection().getRangeAt(0).getBoundingClientRect();
                    this.left = s.left - a, this.top = s.top + 18 - r
                }
                var c = parseFloat(window.getComputedStyle(this.inputEl, null).getPropertyValue("height").replace(/px/, ""));
                (this.top > c + 10 || this.top < -20) && (this.top = c + 10), this.left < -20 && (this.left = 0)
            }, _search: f()((function (t) {
                var e = this,
                    i = "".concat(g.a.API_VC, "/dynamic_mix/v1/dynamic_mix/").concat(t ? "at_search" : "at_list");
                this.request(i, t).then((function (i) {
                    if (i.data && i.data.groups) {
                        var n = i.data.groups.map((function (e) {
                            return {
                                name: e.group_name, type: e.group_type, items: e.items.map((function (e) {
                                    return {
                                        uid: e.uid,
                                        uname: e.uname,
                                        fans: e.fans > 1e5 ? "".concat((e.fans / 1e4).toFixed(1), "万粉丝") : "".concat(e.fans, "粉丝"),
                                        type: e.official_verify_type,
                                        name: p(e.uname, t),
                                        avatar: e.face ? e.face.replace(/http(s)?:/, "") : "//static.hdslb.com/images/member/noface.gif"
                                    }
                                }))
                            }
                        }));
                        e.list = n
                    } else e.list = []
                })).catch((function () {
                    e.list = []
                }))
            }), 500), try: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100;
                this.needHide = !1, setTimeout(this._scan, t)
            }, forceHide: function () {
                this._hide()
            }, formatAvatar: function (t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {width: 80};
                return v(t, e)
            }
        }
    }, x = (i(272), i(1)), k = Object(x.a)(C, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            directives: [{name: "show", rawName: "v-show", value: t.visible, expression: "visible"}],
            staticClass: "bili-at-popup",
            style: t.atPopupStyle
        }, [i("div", {staticClass: "bili-at-popup__hint"}, [t._v("选择或输入你想@的人")]), i("div", {
            ref: "list",
            staticClass: "bili-at-popup__list"
        }, t._l(t.list, (function (e, n) {
            return i("div", {
                key: n,
                staticClass: "bili-at-popup__group"
            }, [i("div", {staticClass: "bili-at-popup__group-name"}, [t._v(t._s(1 === t.list.length && "其他" === e.name ? "" : e.name))]), i("div", {staticClass: "bili-at-popup__group-list"}, t._l(e.items, (function (e, o) {
                return i("div", {
                    key: e.uid,
                    class: {"bili-at-popup__user": !0, "bili-at-popup__user--selected": t._isSelected(n, o)},
                    on: {
                        click: function (i) {
                            return t._select(e)
                        }, mouseover: function (e) {
                            return t._onMouseover(n, o)
                        }
                    }
                }, [i("div", {staticClass: "bili-at-popup__user-avatar"}, [i("img", {attrs: {src: t.formatAvatar(e.avatar)}}), -1 !== e.type ? i("span", {class: "bili-at-popup__user-auth bili-at-popup__user-auth--" + (1 === e.type ? "organization" : "personal")}) : t._e()]), i("div", {staticClass: "bili-at-popup__user-info"}, [i("div", {
                    staticClass: "bili-at-popup__user-name",
                    domProps: {innerHTML: t._s(e.name)}
                }), i("div", {staticClass: "bili-at-popup__user-fans"}, [t._v(t._s(e.fans))])])])
            })), 0)])
        })), 0)])
    }), [], !1, null, null, null).exports;
    e.a = k
}, function (t, e, i) {
    "use strict";
    var n, o, r, a = i(15), s = i(9), c = i.n(s), l = (i(18), i(78), i(31), i(11), i(30), i(16), i(98), i(42), i(6)),
        u = (i(20), ["boxSizing", "width", "height", "overflowX", "overflowY", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "lineHeight", "fontFamily", "textAlign", "textTransform", "textIndent", "textDecoration", "letterSpacing", "wordSpacing"]),
        d = function (t, e) {
            (n = document.getElementById(t.nodeName + "--mirror-div")) || ((n = document.createElement("div")).id = t.nodeName + "--mirror-div", document.body.appendChild(n)), r = n.style, o = getComputedStyle(t), r.whiteSpace = "pre-wrap", "INPUT" !== t.nodeName && (r.wordWrap = "break-word"), r.position = "absolute", r.top = t.offsetTop + parseInt(o.borderTopWidth) + "px", r.left = t.offsetLeft + parseInt(o.borderLeftWidth) + "px", r.visibility = "hidden", u.forEach((function (t) {
                r[t] = o[t]
            })), window.navigator.userAgent.indexOf("Firefox") > -1 ? (r.width = parseInt(o.width) - 2 + "px", t.scrollHeight > parseInt(o.height) && (r.overflowY = "scroll")) : r.overflow = "hidden", n.textContent = t.value.substring(0, e), "INPUT" === t.nodeName && (n.textContent = n.textContent.replace(/\s/g, " "));
            var i = document.createElement("span");
            return i.textContent = t.value.substring(e) || ".", n.appendChild(i), {
                top: i.offsetTop + parseInt(o.borderTopWidth) + parseInt(o["line-height"]) - t.scrollTop,
                left: i.offsetLeft + parseInt(o.borderLeftWidth)
            }
        }, h = i(4), f = i(2), p = /[#@\s]/, m = {
            data: function () {
                return {
                    isShow: !1,
                    top: 0,
                    left: 0,
                    selectedIndex: 0,
                    userList: [],
                    mouseOverEnabled: !0,
                    needHide: !1,
                    isSafari: !1,
                    isIE: !1
                }
            }, props: {
                inputElm: {required: !0}, buttonElm: null, validate: {
                    type: Function, default: function () {
                        return !0
                    }
                }, selectHandler: {
                    type: Function, default: function () {
                    }
                }, logHandler: {
                    type: Function, default: function () {
                    }
                }
            }, beforeMount: function () {
                var t = Object(l.d)();
                this.isIE = -1 !== t.indexOf("IE"), this.isSafari = -1 !== t.indexOf("Safari")
            }, computed: {
                topPx: function () {
                    return this.top + "px"
                }, leftPx: function () {
                    return this.left + "px"
                }, computedHeight: function () {
                    return this.userList.length > 0 ? "150px" : "30px"
                }
            }, mounted: function () {
                this.initEvents(), this.throttleShowLimitToast = Object(l.f)(this.showLimitToast, 300), this.debounceSearch = Object(l.b)(this.search, 500), this.debounceEnableMouseOver = Object(l.b)(this.enableMouseOver, 200)
            }, methods: {
                onMousedown: function (t) {
                    (t || window.event).preventDefault()
                }, onClickItem: function (t) {
                    var e = this, i = Object(h.e)(this.inputElm),
                        n = (this.isIE ? this.inputElm.value : this.inputElm.value.replace(/\n/g, "")).substring(0, i),
                        o = n.lastIndexOf("@"), r = n.substring(o, i);
                    this.selectHandler(t, r), this.hide(), this.userList = [], this.inputElm.focus(), "TEXTAREA" === this.inputElm.tagName && setTimeout((function () {
                        var i = o + t.uname.length + 2;
                        Object(h.p)(e.inputElm, i)
                    }), 0)
                }, show: function () {
                    this.isShow ? this.calculatePosition() : this.validate() && (this.inputElm.querySelectorAll(".bp-at-span").length >= 10 ? this.throttleShowLimitToast() : (this.isShow = !0, this.selectedIndex = 0, this.calculatePosition()))
                }, hide: function () {
                    this.isShow = !1
                }, updateView: function () {
                    var t = Object(h.e)(this.inputElm),
                        e = (this.isIE ? this.inputElm.value : this.inputElm.value.replace(/\n/g, "")).substring(t - 21, t),
                        i = e.lastIndexOf("@");
                    if (~i) {
                        var n = e.substring(i + 1);
                        n.match(p) ? this.hide() : (this.show(), "" !== n && "" === String(n).trim() || n.match(p) || " " === n.substring(0, 1) ? this.userList = [] : this.debounceSearch(n))
                    } else this.hide()
                }, search: function (t) {
                    var e = this;
                    this.bpapi({
                        url: "".concat(f.a.API_VC, "/dynamic_repost/v1/dynamic_repost/name_search"),
                        method: "get",
                        data: {keyword: t}
                    }).then((function (t) {
                        if (0 === t.code) {
                            var i = Object(l.e)(t.data.content).result || [];
                            Array.isArray(i) ? e.userList = i.map((function (t) {
                                return {uname: t.uname, uid: t.mid}
                            })) : e.userList = []
                        } else e.userList = []
                    }), (function () {
                        e.userList = []
                    }))
                }, showLimitToast: function () {
                    this.linkMsg(this.inputElm, "最多@10人~", "caution")
                }, calculatePosition: function () {
                    var t, e = Object(h.e)(this.inputElm), i = this.inputElm.value.substring(0, e).lastIndexOf("@");
                    if (this.isIE || this.isSafari) t = d(this.inputElm, i), this.left = t.left, this.top = t.top; else {
                        var n = this.inputElm.getBoundingClientRect(), o = n.top, r = n.left;
                        t = window.getSelection().getRangeAt(0).getBoundingClientRect(), this.left = t.left - r, this.top = t.top + 18 - o
                    }
                    var a = parseFloat(getComputedStyle(this.inputElm, null).getPropertyValue("height").replace(/px/, ""));
                    (this.top > a + 10 || this.top < -20) && (this.top = a + 10), this.left < -20 && (this.left = 0)
                }, initEvents: function () {
                    this.inputElm && (this.inputElm.addEventListener("input", this.textInputHandler), this.inputElm.addEventListener("keydown", this.keyDownHandler), this.inputElm.addEventListener("keyup", this.keyUpHandler), this.inputElm.addEventListener("focus", this.focusHandler), this.inputElm.addEventListener("blur", this.blurHandler), this.inputElm.addEventListener("click", this.clickHandler), this.inputElm.addEventListener("DOMNodeInserted", this.textInputHandler)), this.buttonElm && this.buttonElm.addEventListener("click", this.buttonClickHandler)
                }, removeEvents: function () {
                    this.inputElm.removeEventListener("input", this.textInputHandler), this.inputElm.removeEventListener("keydown", this.keyDownHandler), this.inputElm.removeEventListener("keyup", this.keyUpHandler), this.inputElm.removeEventListener("focus", this.focusHandler), this.inputElm.removeEventListener("blur", this.blurHandler), this.inputElm.removeEventListener("click", this.clickHandler), this.inputElm.removeEventListener("DOMNodeInserted", this.textInputHandler), this.buttonElm && this.buttonElm.removeEventListener("click", this.buttonClickHandler)
                }, mouseOverHandler: function (t) {
                    this.mouseOverEnabled && (this.selectedIndex = t)
                }, textInputHandler: function () {
                    var t = this;
                    setTimeout((function () {
                        t.updateView()
                    }), 0)
                }, keyDownHandler: function (t) {
                    if (this.isShow) if (13 === t.keyCode) {
                        var e = this.userList[this.selectedIndex];
                        e && (this.onClickItem(e), t.preventDefault())
                    } else 38 === t.keyCode ? (t.preventDefault(), this.pickUp()) : 40 === t.keyCode && (t.preventDefault(), this.pickDown())
                }, keyUpHandler: function (t) {
                    t.keyCode >= 37 && t.keyCode <= 40 ? this.updateView() : 50 === t.keyCode && !0 === t.shiftKey && this.logHandler()
                }, blurHandler: function () {
                    var t = this;
                    setTimeout((function () {
                        t.needHide && t.hide()
                    }), 300), this.needHide = !0
                }, focusHandler: function () {
                    setTimeout(this.updateView, 0)
                }, buttonClickHandler: function () {
                    var t = this;
                    this.needHide = !1, this.clickButtonHandler && this.clickButtonHandler(), setTimeout((function () {
                        t.clickHandler()
                    }), 100)
                }, clickHandler: function () {
                    this.updateView()
                }, pickUp: function () {
                    this.selectedIndex - 1 >= 0 ? this.selectedIndex-- : this.selectedIndex = this.userList.length - 1, this.updateListScrollTop()
                }, pickDown: function () {
                    this.selectedIndex + 1 < this.userList.length ? this.selectedIndex++ : this.selectedIndex = 0, this.updateListScrollTop()
                }, updateListScrollTop: function () {
                    if (this.$refs.userList) {
                        var t = this.selectedIndex;
                        24 * t > this.$refs.userList.scrollTop + 96 ? (this.$refs.userList.scrollTop = 24 * t - 96, this.disableMouseOver()) : 24 * t < this.$refs.userList.scrollTop && (this.$refs.userList.scrollTop = 24 * t, this.disableMouseOver())
                    }
                }, disableMouseOver: function () {
                    this.mouseOverEnabled = !1, this.debounceEnableMouseOver()
                }, enableMouseOver: function () {
                    this.mouseOverEnabled = !0
                }
            }
        }, v = (i(271), i(1)), g = Object(v.a)(m, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                directives: [{name: "show", rawName: "v-show", value: t.isShow, expression: "isShow"}],
                staticClass: "at-popup bg-white",
                style: {top: t.topPx, left: t.leftPx, height: t.computedHeight}
            }, [i("p", {staticClass: "hint ff-yahei fs-12 tc-slate ls-0 c-default"}, [t._v("选择或输入你想@的人")]), t.userList.length > 0 ? i("div", {
                ref: "userList",
                staticClass: "user-container w-100"
            }, t._l(t.userList, (function (e, n) {
                return i("a", {
                    staticClass: "item ff-yahei fs-12 tc-black ls-0 d-block c-pointer",
                    class: {"is-selected": n === t.selectedIndex},
                    on: {
                        mouseover: function (e) {
                            return t.mouseOverHandler(n)
                        }, click: function (i) {
                            return t.onClickItem(e)
                        }, mousedown: t.onMousedown
                    }
                }, [t._v(t._s(e.uname))])
            })), 0) : t._e()])
        }), [], !1, null, "9b2294ce", null).exports;
    i(54);
    c.a.use(a.b);
    var y = g;
    e.a = y
}, function (t, e, i) {
    "use strict";
    var n = i(6), o = {
        name: "BackTop", data: function () {
            return {isShowBtn: !1, right: 0, timerPid: 0}
        }, methods: {
            getScrollTop: function () {
                return document.body.scrollTop || document.documentElement.scrollTop
            }, backtop: function () {
                var t = window.requestAnimationFrame || function (t) {
                        setTimeout(t, 17)
                    }, e = window.cancelAnimationFrame || clearTimeout,
                    i = document.body.scrollTop ? document.body : document.documentElement, n = i.scrollTop, o = this;
                !function r() {
                    o.timerPid && e(o.timerPid), (n += (0 - n) / 4) < 1 ? i.scrollTop = 0 : (i.scrollTop = n, o.timerPid = t(r))
                }()
            }, resize: function () {
                this.right = document.documentElement.clientWidth > 1460 ? (document.documentElement.clientWidth - 1460) / 4 : 0
            }, scroll: function () {
                this.isShowBtn = (document.body.scrollTop || document.documentElement.scrollTop) > (window.innerHeight || document.body.clientHeight || document.documentElement.clientHeight)
            }
        }, mounted: function () {
            this.scrollDebounce = Object(n.b)(this.scroll, 100), window.addEventListener("scroll", this.scrollDebounce, {passive: !0}), window.addEventListener("resize", this.resize), this.resize()
        }, destroyed: function () {
            window.removeEventListener("scroll", this.scrollDebounce, {passive: !0}), window.removeEventListener("resize", this.resize)
        }
    }, r = (i(274), i(1)), a = Object(r.a)(o, (function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("transition", {attrs: {name: "rocket-fade"}}, [e("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: this.isShowBtn,
                expression: "isShowBtn"
            }], staticClass: "back-top", style: {right: this.right + "px"}, on: {click: this.backtop}
        })])
    }), [], !1, null, "37d58309", null);
    e.a = a.exports
}, , , function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    i(18), i(11), i(98), i(38);
    e.a = function (t, e) {
        e || (e = decodeURI(window.location.search.substring(1)));
        for (var i = e.substring(e.indexOf("?") + 1).split("&"), n = 0; n < i.length; n++) {
            var o = i[n].split("=");
            if (o[0] === t) return o[1]
        }
        return ""
    }
}, , , function (t, e, i) {
    "use strict";
    (function (t) {
        i(12), i(20), i(31), i(27), i(26), i(35), i(11), i(24), i(16), i(21);
        var n = i(47), o = i(22);

        function r(t, e) {
            var i = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(t);
                e && (n = n.filter((function (e) {
                    return Object.getOwnPropertyDescriptor(t, e).enumerable
                }))), i.push.apply(i, n)
            }
            return i
        }

        function a(t) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? r(Object(i), !0).forEach((function (e) {
                    s(t, e, i[e])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : r(Object(i)).forEach((function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
                }))
            }
            return t
        }

        function s(t, e, i) {
            return e in t ? Object.defineProperty(t, e, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : t[e] = i, t
        }

        var c = "undefined" == typeof window ? t : window, l = {}, u = {};

        function d(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                i = arguments.length > 2 ? arguments[2] : void 0;
            return '<img src="'.concat(e.replace(/^http:\/\//, "//"), '" alt="').concat(t, '" style="margin: -1px 1px 0 1px;display: inline-block; width: ').concat(i.width, "px; height: ").concat(i.height, "px; vertical-align: ").concat(i.verticalAlign || "baseline", ';">')
        }

        n.a.allEmojiDataNew.map((function (t) {
            t.purl && "" !== t.purl && t.emojis && t.emojis.length && t.emojis && t.emojis.length > 0 && t.emojis.forEach((function (t) {
                u[t.name] = t.url
            }))
        })), n.a.allEmojiDataOld.map((function (t) {
            t.purl && "" !== t.purl && t.emojis && t.emojis.length && t.emojis && t.emojis.length > 0 && t.emojis.forEach((function (t) {
                l[t.name] = t.url
            }))
        })), e.a = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                i = arguments.length > 2 ? arguments[2] : void 0, n = {};
            n = i || c.bp_emoji_data_v3 || {}, u = a(a({}, u), Object(o.a)(n));
            var r = {width: 22, height: 22};
            e = Object.assign(r, e);
            var s, h = new RegExp(/\[[^([.*?\])]+\]/g);
            return s = e.emojiType && 1 === e.emojiType ? u : l, t.replace(h, (function (t) {
                return s[t] ? d(t, s[t].url, e) : u[t] ? d(t, u[t].url, e) : t
            }))
        }
    }).call(this, i(96))
}, function (t, e, i) {
    "use strict";
    i(14), i(19);
    var n = i(10), o = i.n(n), r = (i(29), i(4)), a = i(63), s = i(57), c = i(0), l = i(32), u = i.n(l);

    function d(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function h(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    d(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    d(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    var f = {
        data: function () {
            return {loginId: "0", isLoginChange: !1}
        }, components: {LinkButton: a.a, BpPopup: s.a}, mounted: function () {
            var t = this;
            return h(o.a.mark((function e() {
                return o.a.wrap((function (e) {
                    for (; ;) switch (e.prev = e.next) {
                        case 0:
                            return e.next = 2, u.a.get().then((function (e) {
                                var i;
                                t.loginId = null == e || null === (i = e.data) || void 0 === i ? void 0 : i.mid
                            }));
                        case 2:
                            t.initEvents();
                        case 3:
                        case"end":
                            return e.stop()
                    }
                }), e)
            })))()
        }, beforeDestroy: function () {
            this.removeEvents()
        }, methods: {
            reload: function () {
                window.location.reload()
            }, initEvents: function () {
                window.addEventListener("focus", this.checkLoginStatus)
            }, removeEvents: function () {
                document.removeEventListener("focus", this.checkLoginStatus)
            }, checkLoginStatus: function () {
                var t = this;
                return h(o.a.mark((function e() {
                    var i;
                    return o.a.wrap((function (e) {
                        for (; ;) switch (e.prev = e.next) {
                            case 0:
                                return i = {}, e.next = 3, u.a.get().then((function (t) {
                                    i = null == t ? void 0 : t.data
                                }));
                            case 3:
                                (t.loginId && void 0 !== i.isLogin && !i.isLogin || t.loginId && void 0 !== i.isLogin && t.loginId !== i.mid) && (t.isLoginChange = !0, r.b.$emit(c.b.REMOVE_SCROLL));
                            case 4:
                            case"end":
                                return e.stop()
                        }
                    }), e)
                })))()
            }
        }
    }, p = (i(273), i(1)), m = Object(p.a)(f, (function () {
        var t = this.$createElement, e = this._self._c || t;
        return this.isLoginChange ? e("div", {staticClass: "check-login d-table p-fixed w-100 h-100"}, [e("div", {staticClass: "panel p-abs bg-white fs-12 ff-yahei"}, [e("p", {staticClass: "hint fw-bold fs-14"}, [this._v("提示")]), e("p", {staticClass: "content"}, [this._v("登录状态发生变化，请刷新页面")]), e("div", {staticClass: "t-center"}, [e("link-button", {on: {click: this.reload}}, [this._v("确认")])], 1)])]) : this._e()
    }), [], !1, null, "46a7d1a6", null);
    e.a = m.exports
}, function (t, e, i) {
    "use strict";
    var n, o, r = i(9), a = i.n(r), s = i(219), c = i(77), l = i.n(c), u = i(8), d = (i(28), i(49), "PUSH_VC_AUTOPLAY"),
        h = "REMOVE_VC_AUTOPLAY", f = "SET_PLAYING_VC", p = "REMOVE_PLAYING_VC", m = "AUTOPLAY_NEXT_VC";

    function v(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var g = {
        state: {playingVideo: null, autoplayWaitingStack: []}, mutations: (n = {}, v(n, d, (function (t, e) {
            t.autoplayWaitingStack.some((function (t) {
                return t.videoId === e.videoId
            })) || t.autoplayWaitingStack.push({videoId: e.videoId, player: e.player})
        })), v(n, h, (function (t, e) {
            t.autoplayWaitingStack = t.autoplayWaitingStack.filter((function (t) {
                return t.videoId !== e
            }))
        })), v(n, f, (function (t, e) {
            null !== t.playingVideo && t.playingVideo.player.pause(), t.playingVideo = e, t.autoplayWaitingStack.filter((function (t) {
                return t.videoId !== e.videoId
            }))
        })), v(n, p, (function (t) {
            null !== t.playingVideo && (t.playingVideo = null)
        })), v(n, m, (function (t) {
            if (t.autoplayWaitingStack.length > 0) {
                var e = t.autoplayWaitingStack.pop();
                null !== t.playingVideo && t.playingVideo.videoId === e.videoId || e.player.play()
            }
        })), n), actions: (o = {}, v(o, d, (function (t, e) {
            var i = t.commit;
            i(d, e), i(m)
        })), v(o, h, (function (t, e) {
            (0, t.commit)(h, e)
        })), v(o, f, (function (t, e) {
            (0, t.commit)(f, e)
        })), v(o, p, (function (t) {
            var e = t.commit;
            e(p), e(m)
        })), o), getters: {
            playingVideo: function (t) {
                return t.playingVideo
            }
        }
    };
    a.a.use(s.a);
    e.a = new s.a.Store({modules: {vcPlayers: g, flow: l.a.FlowStore(u, {debug: !1, max: 0})}})
}, , , , , , function (t, e, i) {
    "use strict";
    var n = i(9), o = i.n(n), r = i(33), a = i(43),
        s = (i(12), i(20), i(18), i(56), i(36), i(27), i(17), i(26), i(59), i(14), i(19), i(11), i(30), i(16), i(21), i(10)),
        c = i.n(s), l = (i(29), i(60)), u = i.n(l), d = i(6), h = i(4), f = i(41), p = i(7), m = i(8), v = i(13),
        g = (i(112), i(228), i(24), i(261), i(58)), y = (i(31), i(50), i(99), i(2));
    i(38);

    function b(t) {
        var e = t.length > 1 ? 1 : 0;
        return t.map((function (t, i) {
            var n, o = Object.assign({}, t);
            return o.cardDisplay = Object(m.bfsUrl)(o.img_src, o.img_width, o.img_height, e), o.img_src = encodeURI(o.img_src), o.img_src_zoom = (n = w(o.img_src), Object(d.g)(Object(m.bfsImgLink)(n, 104, 104, {
                e: 1,
                c: 1,
                useWebp: !0
            }))), o.img_src_boost = function (t) {
                var e = t.img_src, i = t.img_width, n = (t.img_height, w(e));
                return i < 518 ? Object(d.g)(Object(m.bfsImgLink)(n, null, null, {useWebp: !0})) : Object(d.g)(Object(m.bfsImgLink)(n, 518, null, {useWebp: !0}))
            }(o), o.img_src_zoom_one = function (t) {
                var e = w(t.img_src);
                return Object(d.g)(Object(m.bfsImgLink)(e, 214, 214, {e: 1, c: 1, useWebp: !0}))
            }(o), o.rotate = function (t) {
                var e, i, n, o, r = t.img_width, a = t.img_height;
                r > a ? r > 518 ? (e = 518, i = (518 - 518 * a / r) / 2, n = 0, o = 518 * a / r) : (e = r, i = (r - a) / 2, n = (518 - r) / 2, o = a) : a > 518 ? (i = -(518 - (e = 518 * r / a)) / 2, n = (518 - e) / 2, o = r > 518 ? 518 * a / r : a) : (i = -(a - (e = r)) / 2, n = (518 - r) / 2, o = a);
                return [{ch: o, ih: o, maxWidth: "518px"}, {
                    ih: o,
                    ch: e,
                    position: "absolute",
                    top: i + "px",
                    left: n + "px",
                    transform: "rotate(90deg)",
                    maxHeight: "518px"
                }, {ih: o, ch: o, transform: "rotate(180deg)"}, {
                    ih: o,
                    ch: e,
                    position: "absolute",
                    top: i + "px",
                    left: n + "px",
                    transform: "rotate(270deg)",
                    maxHeight: "518px"
                }]
            }(o), o.loader = function (t, e) {
                var i = t.img_src_boost;
                return function () {
                    return new Promise((function (t, n) {
                        var o = new Image;
                        o.src = i, o.onload = function () {
                            t(e)
                        }, o.onerror = function () {
                            n(e)
                        }
                    }))
                }
            }(o, i), o.status = "ready", o
        }))
    }

    function _(t) {
        var e = document.documentElement.scrollTop || document.body.scrollTop;
        return t ? t.getBoundingClientRect ? t.getBoundingClientRect().top + e : function t(e) {
            return e.offsetParent === document.body ? e.offsetTop : e.offsetTop + t(e.offsetParent)
        }(t) : 0
    }

    function w(t) {
        return t.indexOf("@") > -1 ? t.split("@")[0] : t
    }

    i(347);

    function C(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    /**
     * PhotoImager is an image viewer for website.
     * Please check documention for more detail.
     *
     * @license MIT
     */
    var x = !1;
    "undefined" != typeof window && (x = window.navigator.userAgent.indexOf("Firefox") > -1);
    var k = function () {
        function t(e) {
            !function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._images = [], this._isFavourite = !1, this._isSupported = !1, this._isAuthorized = !1, this._config = null, this._vm = null, this.inited = !1, this._imageMeta = {
                originalWidth: 0,
                originalHeight: 0
            }, this._clickeEvents = [], this.config = e
        }

        var e, i, n;
        return e = t, n = [{
            key: "setOrignalImageSize", value: function (t) {
                var e = t._imageViewer;
                e.style.width = t._imageMeta.originalWidth + "px", e.style.height = t._imageMeta.originalHeight + "px"
            }
        }, {
            key: "setReactiveImageSize", value: function (e) {
                var i = window.innerWidth || document.documentElement.offsetWidth,
                    n = window.innerHeight || document.documentElement.offsetHeight, o = e._imageViewer;
                t.setOrignalImageSize(e);
                var r = e._currentImageSize, a = r.width, s = r.height, c = a / s, l = i / n;
                if (a > i || s > n) {
                    switch (!0) {
                        case c < 1:
                            S(o, n);
                            break;
                        case 1 === c:
                            if (l >= 1 && s >= n) {
                                S(o, n);
                                break
                            }
                            a >= i && I(o, i);
                            break;
                        case c > 1:
                            s >= n && S(o, n), a >= i && I(o, i)
                    }
                    if (i > 800) {
                        var u = .8 * i - 150;
                        e._currentImageSize.width > u && I(o, u)
                    }
                }
            }
        }, {
            key: "setReactiveImagePosition", value: function (t) {
                var e = window.innerWidth || document.documentElement.offsetWidth,
                    i = window.innerHeight || document.documentElement.offsetHeight, n = t._imageViewer, o = O(n),
                    r = (e - o.width) / 2, a = (i - o.height) / 2;
                n.style.left = (r > 0 ? r : 0) + "px", n.style.top = (a > 0 ? a : 0) + "px", t._pre && (t._pre.style.width = n.style.left), t._next && (t._next.style.width = n.style.left)
            }
        }], (i = [{
            key: "_init", value: function (t) {
                this.inited || (void 0 !== t.element ? this._initByElement(t) : this._initByValues(t), this._createComponent(t), this.isSupported = !!t.isSupported, this.isFavourite = !!t.isFavourite, this.isAuthorized = !!t.isAuthorized)
            }
        }, {
            key: "_initByElement", value: function (t) {
                for (var e = this, i = ("string" == typeof t.element ? document.querySelector(t.element) : t.element).querySelectorAll("[data-photo-imager-src]"), n = function (t, n) {
                    var o = i[t], r = o.getAttribute("data-photo-imager-src") || "", a = o.getAttribute("title") || "",
                        s = function () {
                            e.currentImage = t, e.show()
                        };
                    o.addEventListener("click", s), e._clickeEvents.push({
                        el: o,
                        handler: s,
                        type: "click"
                    }), e.images.push({url: r, title: a})
                }, o = 0, r = i.length; o < r; o++) n(o)
            }
        }, {
            key: "_initByValues", value: function (t) {
                if (void 0 !== t.images && "[object Array]" !== Object.prototype.toString.call(t.images)) throw new TypeError("[".concat("PhotoImager", "] images 参数必须为 Array."));
                this.images = t.images.map((function (t) {
                    return Object.assign({}, t, {url: t.url || "", title: t.title || ""})
                })) || [], this.images.length || void 0 === this.images || this.images.push(t.image || {
                    title: "",
                    url: ""
                })
            }
        }, {
            key: "_createComponent", value: function (e) {
                var i = this, n = document.createElement("div");
                document.body.appendChild(n);
                var r = new o.a({
                    data: function () {
                        return {
                            config: e,
                            isSupported: !1,
                            isFavourite: !1,
                            isAuthorized: !1,
                            images: i.images,
                            showComponent: !1,
                            imageInLoading: !0,
                            currentImage: 0,
                            totalImages: i.totalImages,
                            eventInited: !1,
                            useZoomingFunc: !1,
                            inActualSize: !1,
                            loadingImageUrl: "",
                            showHinter: !1
                        }
                    },
                    template: '<div class="photo-imager-container" v-show="showComponent" :class="{\'preview-mode\': useZoomingFunc && !inActualSize, \'actual-size\': useZoomingFunc && inActualSize}">\n      <div class="image-container" v-show="!imageInLoading" track-name="big_see">\n        <img class="image-viewer" @contextmenu="rightMouseFunc($event)" :src="showingImage.url" alt="Image" ref="imageViewer" :title="showingImage.title" :style="{ \'z-index\': inActualSize ? 12 : 0 }">\n      </div>\n\n      <div class="loading-image-container" v-show="imageInLoading" style="text-align: center">\n        <img class="image-viewer" @contextmenu="rightMouseFunc($event)" :src="loadingImageUrl">\n      </div>\n\n      <div class="control-buttons" v-show="!inActualSize">\n        <button class="control-button prev" ref="pre" @click="goPrev" v-if="totalImages > 1 && currentImage > 0"></button>\n        <button class="control-button next" ref="next" @click="goNext" v-if="totalImages > 1 && currentImage < totalImages - 1"></button>\n        <button class="close-button" @click="close">\n          <i class="bp-icon-font icon-close"></i>\n        </button>\n      </div>\n\n      <div class="image-hinter-ctnr" @mouseenter="openHinter($event)" @mouseleave="closeHinter($event)" v-show="!inActualSize">\n        <div class="image-count-hinter" :class="{\'show\': showHinter}">\n          <div class="count-hinter">\n            <span class="current-index">{{currentImage + 1}}</span>\n            <span>/ {{totalImages}}</span>\n          </div>\n          <div v-if="isAuthorized" class="view-actual-pictrue">\n            <a :href="showingImage.url" target="_blank">查看原图</a>\n          </div>\n        </div>\n      </div>\n\n      <button class="support-button" v-if="config.showSupportWidget" v-show="isSupported !== \'undefined\' && !inActualSize" @click="onSupport" :class="{actived: isSupported}" track-name="big_sup">\n        <div>\n          <i class="icon bp-svg-icon" :class="isSupported ? \'good-4\' : \'good-1\'"></i>\n        </div>\n        <div>\n          <span class="label" v-text="isSupported ? \'已点赞\' : \'点赞\'"></span>\n        </div>\n      </button>\n\n      <button class="favourite-button" v-if="config.showFavouriteWidget" v-show="isFavourite !== undefined && !inActualSize" @click="onFavourite" :class="{actived: isFavourite}" track-name="big_col">\n        <div>\n          <i class="icon bp-svg-icon" :class="isFavourite ? \'collection-4\' : \'collection-icons\'"></i>\n        </div>\n        <div>\n          <span class="label" v-text="isFavourite ? \'已收藏\' : \'收藏\'"></span>\n        </div>\n      </button>\n\n      <div class="loading-progress" role="progress" v-show="imageInLoading">\n        <i class="loading-icon"></i>\n      </div>\n    </div>\n    ',
                    computed: {
                        showingImage: function () {
                            return this.images[this.currentImage]
                        }
                    },
                    methods: {
                        openHinter: function () {
                            var t = this, e = null;
                            return function () {
                                var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : NaN, n = t;
                                clearTimeout(e), n.showHinter = !0, i && !isNaN(i) && (e = setTimeout((function () {
                                    return n.closeHinter()
                                }), i))
                            }
                        }, closeHinter: function () {
                            this.showHinter = !1
                        }, rightMouseFunc: function (t) {
                            !1 !== this.isAuthorized && (this.popMessage(t.pageX, t.pageY, "作者设置了禁止保存，不可以偷偷存图哦~"), t.returnValue = !1)
                        }, popMessage: function (t, e, i) {
                            var n = document.createDocumentFragment(), o = document.createElement("div");
                            o.innerHTML = '<span class="toast-text">'.concat(i, "</span>"), o.className = "pop-message", o.style.left = t + "px", o.style.top = e + "px", setTimeout((function () {
                                o.className += " out", setTimeout((function () {
                                    o.parentNode.removeChild(o)
                                }), 350)
                            }), 2e3), n.appendChild(o), document.body.appendChild(n)
                        }, resetState: function () {
                            this.imageInLoading = !0, this.useZoomingFunc = !1
                        }, goPrev: function () {
                            i.currentImage > 0 && i.images.length && !this.imageInLoading && (i.currentImage--, this.inActualSize = !1), i.currentImage <= 0 && this.openHinter(3e3)
                        }, goNext: function () {
                            this.currentImage < i.totalImages - 1 && !this.imageInLoading && (i.currentImage++, this.inActualSize = !1), i.currentImage >= i.totalImages - 1 && this.openHinter(3e3)
                        }, show: function () {
                            this.showComponent = !0, e.hideBodyScroll && E()
                        }, close: function () {
                            this.releaseEvent(), this.showComponent = !1, e.hideBodyScroll && L(), setTimeout(this.destroy)
                        }, destroy: function () {
                            var t = this.$refs.imageViewer;
                            t.removeEventListener("click", this.zoomingEvent), t.removeEventListener("load", this.imageOnLoad), this.releaseEvent(), this.$el.parentElement.removeChild(this.$el), this.$destroy()
                        }, onSupport: function (t) {
                            if ("function" == typeof e.onSupport) {
                                var n = !this.isSupported;
                                e.onSupport(n, t.target).then((function () {
                                    i.isSupported = n
                                })).catch((function () {
                                }))
                            }
                        }, onFavourite: function (t) {
                            if ("function" == typeof e.onFavourite) {
                                var n = !this.isFavourite;
                                e.onFavourite(n, t.target).then((function () {
                                    i.isFavourite = n
                                })).catch((function () {
                                }))
                            }
                        }, releaseEvent: function () {
                            var t = this;
                            window.removeEventListener("resize", t.setImagePositionAndSize), window.removeEventListener("keyup", t.keyUpEvent), window.removeEventListener("mousewheel", t.scrollingEvent), x && window.removeEventListener("DOMMouseScroll", t.scrollingEvent), t.eventInited = !1
                        }, imageOnLoad: function () {
                            var t = this, e = this;
                            e.imageInLoading = !1, this.$nextTick((function () {
                                var n = T(t.$refs.imageViewer), o = n.width, r = n.height;
                                i._imageMeta.originalWidth = o, i._imageMeta.originalHeight = r, e.setZoomable(), e.setImagePositionAndSize()
                            }))
                        }, setZoomable: function () {
                            var t = window.innerWidth || document.documentElement.offsetWidth,
                                e = window.innerHeight || document.documentElement.offsetHeight,
                                i = T(this.$refs.imageViewer), n = i.width, o = i.height;
                            (t < n || e < o) && (this.inActualSize = !1, this.useZoomingFunc = !0)
                        }, scrollingEvent: function (t) {
                            if (!this.inActualSize) {
                                t.preventDefault();
                                var e = 0;
                                t.wheelDelta ? e = t.wheelDelta : t.detail && (e = -1 * t.detail), e < 0 ? this.goNext() : this.goPrev()
                            }
                        }, zoomingEvent: function () {
                            if (this.useZoomingFunc) {
                                var n = !this.inActualSize;
                                this.inActualSize = n, n ? (t.setOrignalImageSize(i), t.setReactiveImagePosition(i), E()) : (this.setImagePositionAndSize(), e.hideBodyScroll || L())
                            }
                        }, keyUpEvent: function (t) {
                            var e = this;
                            switch (t.keyCode) {
                                case 27:
                                    e.close();
                                    break;
                                case 37:
                                    !e.inActualSize && e.goPrev();
                                    break;
                                case 39:
                                    !e.inActualSize && e.goNext()
                            }
                        }, setImagePositionAndSize: function () {
                            i._setImagePositionAndSize(), this.setZoomable()
                        }, initEvent: function () {
                            var t = this;
                            if (!t.eventInited) {
                                var e = this.$refs.imageViewer, i = new Image;
                                i.addEventListener("load", (function e() {
                                    t.imageOnLoad(), i.removeEventListener("load", e)
                                })), i.src = t.loadingImageUrl, e.addEventListener("load", t.imageOnLoad), e.addEventListener("click", t.zoomingEvent), window.addEventListener("resize", t.setImagePositionAndSize), window.addEventListener("keyup", t.keyUpEvent), window.addEventListener("mousewheel", t.scrollingEvent, {passive: !1}), x && window.addEventListener("DOMMouseScroll", t.scrollingEvent), t.eventInited = !0
                            }
                        }
                    },
                    created: function () {
                        this.loadingImageUrl = this.showingImage.url
                    },
                    mounted: function () {
                        this.showComponent && this.initEvent()
                    },
                    watch: {
                        "showingImage.url": function (t) {
                            var e = this, i = this;
                            i.loadingImageUrl = "", this.$nextTick((function () {
                                i.loadingImageUrl = t;
                                var n = e.$refs.imageViewer;
                                i.resetState(), n.style.width = "", n.style.height = ""
                            }))
                        }, showComponent: function (t) {
                            var e = this;
                            t && this.$nextTick((function () {
                                e.initEvent()
                            }))
                        }
                    }
                });
                r.$mount(n), this._vm = r
            }
        }, {
            key: "_setImagePositionAndSize", value: function () {
                var e = this;
                window.requestAnimationFrame ? window.requestAnimationFrame((function () {
                    t.setReactiveImageSize(e), t.setReactiveImagePosition(e)
                })) : (t.setReactiveImageSize(this), t.setReactiveImagePosition(this))
            }
        }, {
            key: "goPrev", value: function () {
                this._vm.goPrev()
            }
        }, {
            key: "goNext", value: function () {
                this._vm.goNext()
            }
        }, {
            key: "show", value: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                this._init(this.config), t < 0 && (t = 0), t > this.totalImages - 1 && (t = this.totalImages - 1), this._vm.show(), "number" == typeof t && (this.currentImage = t)
            }
        }, {
            key: "close", value: function () {
                this._vm.close()
            }
        }, {
            key: "destroy", value: function () {
                this._clickeEvents.forEach((function (t) {
                    t.el.removeEventListener(t.type, t.handler)
                })), this._vm.destroy()
            }
        }, {
            key: "images", get: function () {
                return this._images
            }, set: function (t) {
                this._vm && void 0 !== this._vm.images && (this._vm.images = t), this._images = t
            }
        }, {
            key: "isFavourite", get: function () {
                return this._isFavourite
            }, set: function (t) {
                this._isFavourite = t, this._vm && void 0 !== this._vm.isFavourite && (this._vm.isFavourite = t)
            }
        }, {
            key: "isSupported", get: function () {
                return this._isSupported
            }, set: function (t) {
                this._isSupported = t, this._vm && void 0 !== this._vm.isSupported && (this._vm.isSupported = t)
            }
        }, {
            key: "isAuthorized", get: function () {
                return this._isAuthorized
            }, set: function (t) {
                this._isAuthorized = t, this._vm && void 0 !== this._vm.isAuthorized && (this._vm.isAuthorized = t)
            }
        }, {
            key: "currentImage", get: function () {
                return this._vm.currentImage
            }, set: function (t) {
                this._vm.currentImage = t
            }
        }, {
            key: "totalImages", get: function () {
                var t = this.images.length;
                return this._vm && "number" == typeof this._vm.totalImages && (this._vm.totalImages = t), t
            }
        }, {
            key: "config", get: function () {
                return this._config
            }, set: function (t) {
                this._config = t, this._vm && (this._vm.config = t)
            }
        }, {
            key: "_currentImageSize", get: function () {
                return O(this._vm.$refs.imageViewer)
            }
        }, {
            key: "_imageViewer", get: function () {
                return this._vm.$refs.imageViewer
            }
        }, {
            key: "_pre", get: function () {
                return this._vm.$refs.pre
            }
        }, {
            key: "_next", get: function () {
                return this._vm.$refs.next
            }
        }]) && C(e.prototype, i), n && C(e, n), t
    }();

    function I(t, e) {
        t.style.width = e + "px", t.style.height = "auto"
    }

    function S(t, e) {
        t.style.height = e + "px", t.style.width = "auto"
    }

    function O(t) {
        return t.getBoundingClientRect()
    }

    function T(t) {
        return {width: t.naturalWidth, height: t.naturalHeight}
    }

    function E() {
        document.body.style.overflow = "hidden"
    }

    var P = "undefined" != typeof window ? document.body.style.overflow : "";

    function L() {
        document.body.style.overflow = P
    }

    var j = {name: "dot-loading"}, A = (i(348), i(1)), M = Object(A.a)(j, (function () {
        var t = this.$createElement;
        this._self._c;
        return this._m(0)
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "dot-loading"}, [e("span", {staticClass: "dot"}, [e("em", {staticClass: "dot1"}), e("em", {staticClass: "dot2"}), e("em", {staticClass: "dot3"})])])
    }], !1, null, "47988eef", null).exports;

    function D(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function B(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? D(Object(i), !0).forEach((function (e) {
                N(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : D(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function N(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var R = {
        name: "ImagesBox", props: {
            images: {
                type: Array, default: function () {
                    return []
                }
            }, parentDOM: {
                default: function () {
                    return null
                }
            }, scrollToViewPort: {type: Function}, extendCallback: {
                type: Function, default: function (t, e) {
                    0
                }
            }, originCallback: {
                type: Function, default: function (t, e) {
                    0
                }
            }, showImgTag: null, dynamicId: String, spmPageTypeString: String
        }, components: {Loading: M}, mounted: function () {
            var t, e = new k({
                images: (t = this.images, t.map((function (t) {
                    return {url: t.img_src, width: t.img_width, height: t.img_height}
                }))), showSupportWidget: !1, showFavouriteWidget: !1, hideBodyScroll: !0
            });
            this.photoImager = e;
            this.spmId = {live: "444.46", topic: "333.169", space: "333.49", dt: "444.42"}[this.spmPageTypeString]
        }, data: function () {
            return {
                HOST: y.a,
                imgList: b(this.images),
                mode: "zoom",
                activeIndex: -1,
                boostSrc: "",
                zloading: !1,
                bloading: !1,
                pageSize: Math.ceil(this.images.length / 9),
                rotateStatus: 0,
                rotate: {},
                ch: "",
                openingTags: []
            }
        }, methods: {
            safeJsonParse: d.e, urlFilter: function (t) {
                return /^https?:\/\//.test(t) ? t : ""
            }, ChangeMode: function (t) {
                var e = this;
                return this.zloading = !1, this.bloading = !1, this.ReturnToViewPort(), this.$nextTick((function () {
                    e.mode = t
                })), !0
            }, ChangeActiveIndex: function (t) {
                this.activeIndex = t
            }, ChangeBoostSrc: function (t) {
                this.InitStatus(), this.boostSrc = this.imgList[t].img_src_boost
            }, ChangeContainerHeight: function () {
                this.ch = this.rotate.ch, this.ReturnToViewPort()
            }, InitStatus: function () {
                this.boostSrc = "", this.ch = "", this.rotate = this.imgList[this.activeIndex].rotate[0], this.rotateStatus = 0
            }, ReturnToViewPort: function () {
                var t = this;
                this.$nextTick((function () {
                    if (t.scrollToViewPort) t.scrollToViewPort(); else {
                        var e, i = _(t.$refs.container),
                            n = document.documentElement.scrollTop || document.body.scrollTop;
                        e = t.parentDOM ? _(t.parentDOM) : i - 150, n > i && window.scrollTo(0, e)
                    }
                }))
            }, ChangeStatus: function (t, e) {
                this.$set(this.imgList, t, B(B({}, this.imgList[t]), {status: e}))
            }, ZoomToBoost: function (t) {
                var e = this;
                if (!this.zloading) {
                    var i = this.imgList[t];
                    i.img_tags && i.img_tags.length > 0 ? this.openingTags = i.img_tags : this.openingTags = [];
                    var n = i.status, o = i.loader;
                    switch (this.ChangeActiveIndex(t), n) {
                        case"ready":
                        case"error":
                            i.status = "loading", this.zloading = !0, (i.loader = o()).then((function () {
                                e.ChangeBoostSrc(t), e.ChangeMode("boost"), e.zloading = !1, i.status = "loaded", e.imgList.forEach((function (i, n) {
                                    if (t !== n) {
                                        i.status = "loading";
                                        var o = i.loader;
                                        (i.loader = o()).then((function () {
                                            i.status = "loaded"
                                        })).catch((function (t) {
                                            e.imgList[t].status = "error", e.imgList[t].loader = o
                                        }))
                                    }
                                }))
                            })).catch((function (t) {
                                e.zloading = !1, e.imgList[t].status = "error", e.imgList[t].loader = o
                            }));
                            break;
                        case"loading":
                            this.zloading = !0, i.loader.then((function () {
                                e.ChangeBoostSrc(t), e.ChangeMode("boost"), e.zloading = !1, i.status = "loaded"
                            }));
                            break;
                        case"loaded":
                            this.ChangeBoostSrc(t), this.ChangeMode("boost")
                    }
                    this.extendCallback(t, this.imgList[t].img_src)
                }
            }, SwitchBoost: function (t) {
                var e = this;
                this.ChangeActiveIndex(t);
                var i = this.imgList[t];
                i.img_tags && i.img_tags.length > 0 ? this.openingTags = i.img_tags : this.openingTags = [];
                var n = i.status, o = i.loader;
                switch (n) {
                    case"error":
                        this.bloading = !1, this.ChangeBoostSrc(t);
                        break;
                    case"loading":
                        this.bloading = !0, o.then((function (t) {
                            t === e.activeIndex && (e.bloading = !1, e.ChangeBoostSrc(t))
                        }));
                        break;
                    case"loaded":
                        this.bloading = !1, this.ChangeBoostSrc(t)
                }
            }, OpenPhotoImager: function (t) {
                this.photoImager.show(t), this.originCallback(t, this.imgList[t].img_src)
            }, TurnToLeft: function () {
                this.rotateStatus--, this.rotateStatus < 0 && (this.rotateStatus = 3), this.rotate = this.imgList[this.activeIndex].rotate[this.rotateStatus], this.ch = this.rotate.ch
            }, TurnToRight: function () {
                this.rotateStatus++, this.rotateStatus > 3 && (this.rotateStatus = 0), this.rotate = this.imgList[this.activeIndex].rotate[this.rotateStatus], this.ch = this.rotate.ch
            }, imgBg: function (t) {
                var e = this.imgList.length, i = t.cardDisplay;
                if (1 === e) {
                    var n = i.width, o = i.height;
                    return n || o ? n && !o ? o = 200 * n / 320 : o && !n && (n = 320 * o / 200) : (n = 320, o = 200), "background-image: url(".concat(i.url, "); width: ").concat(n, "px; height: ").concat(o, "px")
                }
                return "background-image: url(".concat(i.url, ")")
            }, tagReport: function (t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "click";
                this.spmId && this.$bpreport.click({
                    logId: "000502",
                    spmId: this.spmId,
                    event: "card_pic_tag_" + e,
                    data: {
                        card_id: this.dynamicId,
                        tag_type: t.type > 1 || 1 === t.type && 1 === t.source_type ? t.type + 1 : t.type,
                        tag_name: t.text
                    }
                })
            }
        }, computed: {
            pageNo: function () {
                return Math.floor(this.activeIndex / 9) + 1
            }, onlyOneCardStyle: function () {
                return 1 === this.imgList.length && this.imgList[0].img_width < 200 && this.imgList[0].img_height < 200 ? "width: auto; height: auto;" : ""
            }, perTagPercentagePosition: function () {
                var t = this;
                return this.openingTags.length > 0 && this.showImgTag ? this.openingTags.map((function (e) {
                    var i = e.x / 1e3, n = e.y / 1e3, o = 1 === e.orientation;
                    i > 100 ? i = 100 : i < 0 && (i = 0), n > 100 ? n = 100 : n < 0 && (n = 0);
                    var r = "";
                    return r = o ? "right: ".concat(100 - i, "%; top: ").concat(n, "%;") : "left: ".concat(i, "%; top: ").concat(n, "%;"), 4 === e.type && (e.text = Object(d.e)(e.poi).poi_info, e.text = e.text && e.text.show_title), t.tagReport(e, "show"), B(B({}, e), {}, {
                        reverse: o,
                        style: r
                    })
                })) : []
            }
        }, watch: {
            boostSrc: function (t) {
                "" === t && (this.openingTags = [])
            }
        }
    }, $ = (i(349), i(350), Object(A.a)(R, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "container",
            staticClass: "imagesbox"
        }, ["zoom" === t.mode ? i("div", {staticClass: "zoom-wrap"}, [i("ul", {
            staticClass: "zoom-list list-none",
            class: "zoom-" + t.imgList.slice(0, 9).length,
            style: t.onlyOneCardStyle
        }, t._l(t.imgList.slice(0, 9), (function (e, n) {
            return i("li", {
                key: n + e.status,
                staticClass: "card",
                class: "card-" + t.imgList.slice(0, 9).length,
                style: t.onlyOneCardStyle,
                on: {
                    click: function (e) {
                        return t.ZoomToBoost(n)
                    }
                }
            }, [i("div", {
                staticClass: "img-content",
                class: {"bg-top": e.cardDisplay.gifTop},
                style: t.imgBg(e),
                on: {
                    error: function (e) {
                        return t.ChangeStatus(n, "error")
                    }
                }
            }), e.img_tags && e.img_tags.length ? i("div", {
                staticClass: "tag-img",
                class: {small: t.imgList.length > 1}
            }) : t._e(), t.zloading && t.activeIndex === n ? i("div", {staticClass: "z-loading"}, [i("loading")], 1) : t._e(), "error" === e.status ? i("div", {staticClass: "z-error"}, [i("span", {staticClass: "bp-svg-icon error"}), i("p", [t._v("加载失败")]), i("p", [t._v("点击重试")])]) : t._e(), 8 === n && t.imgList.length > 9 && "error" !== e.status && "loading" !== e.status ? i("div", {
                staticClass: "plus-mask",
                domProps: {textContent: t._s(t.imgList.length + "P")}
            }) : t._e()])
        })), 0)]) : t._e(), "boost" === t.mode ? i("div", {staticClass: "boost-wrap"}, [i("ul", {staticClass: "boost-control list-none"}, [i("li", {
            staticClass: "bp-v-middle",
            on: {
                click: function (e) {
                    t.ChangeMode("zoom") && t.InitStatus()
                }
            }
        }, [i("i", {staticClass: "bp-icon-font icon-sq-dynamic bp-v-middle"}), i("span", [t._v("收起")])]), i("li", {
            staticClass: "bp-v-middle",
            on: {
                click: function (e) {
                    return t.OpenPhotoImager(t.activeIndex)
                }
            }
        }, [i("i", {staticClass: "bp-icon-font icon-ss-dynamic bp-v-middle"}), i("span", [t._v("查看大图")])]), i("li", {
            staticClass: "bp-v-middle",
            on: {click: t.TurnToLeft}
        }, [i("i", {staticClass: "bp-icon-font icon-left-r-dynamic bp-v-middle"}), i("span", [t._v("向左旋转")])]), i("li", {
            staticClass: "bp-v-middle",
            on: {click: t.TurnToRight}
        }, [i("i", {staticClass: "bp-icon-font icon-right-r-dynamic bp-v-middle"}), i("span", [t._v("向右旋转")])])]), i("div", {
            staticClass: "boost-img",
            style: {height: t.ch ? t.ch + "px" : ""},
            on: {
                click: function (e) {
                    t.ChangeMode("zoom") && t.InitStatus()
                }
            }
        }, [i("transition", {
            attrs: {name: "boost-fade", mode: "out-in"},
            on: {"after-leave": t.ChangeContainerHeight}
        }, [i("div", {staticClass: "boost-img-container"}, [i("img", {
            key: t.boostSrc,
            style: t.rotate,
            attrs: {src: t.boostSrc, height: t.rotate.ih}
        }), t._l(t.perTagPercentagePosition, (function (e) {
            return 0 === t.rotateStatus ? i("div", {
                staticClass: "shop-tag",
                class: {"not-reverse": !e.reverse},
                style: e.style,
                on: {
                    click: function (t) {
                        t.stopPropagation()
                    }
                }
            }, [i("div", {staticClass: "tag-point"}), i("div", {staticClass: "tag-bg"}, [i("div", {staticClass: "tag-real"}, [i("div", {staticClass: "tag-fake"}, [t._v(" ")]), 1 === e.type && e.url ? i("a", {
                staticClass: "tag-text",
                attrs: {href: t.urlFilter(e.url), target: "_blank", title: e.text},
                on: {
                    click: function (i) {
                        return t.tagReport(e)
                    }
                }
            }, [i("div", {staticClass: "tag-icon"}), i("div", {staticClass: "tag-text"}, [t._v(t._s(e.text))])]) : t._e(), 2 === e.type && e.mid ? i("a", {
                staticClass: "tag-text",
                attrs: {href: "//space.bilibili.com/" + e.mid, target: "_blank", title: e.text},
                on: {
                    click: function (i) {
                        return t.tagReport(e)
                    }
                }
            }, [t._v("@" + t._s(e.text))]) : t._e(), 3 === e.type && e.text ? i("a", {
                staticClass: "tag-text",
                attrs: {
                    href: t.urlFilter(e.jump_url) || t.HOST.T + "/topic/name/" + encodeURIComponent(e.text) + "/feed",
                    target: "_blank",
                    title: e.text
                },
                on: {
                    click: function (i) {
                        return t.tagReport(e)
                    }
                }
            }, [t._v(t._s("#" + e.text + "#"))]) : t._e(), 4 === e.type ? i("div", {
                staticClass: "tag-text",
                attrs: {title: e.text}
            }, [i("div", {staticClass: "tag-icon lbs"}), i("div", {staticClass: "tag-text"}, [t._v(t._s(e.text))])]) : t._e(), 0 === e.type ? i("div", {
                staticClass: "tag-text",
                attrs: {title: e.text}
            }, [t._v(t._s(e.text))]) : t._e()])])]) : t._e()
        }))], 2)]), t.bloading ? i("div", {staticClass: "b-loading"}, [i("loading")], 1) : t._e(), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: 0 !== t.activeIndex,
                expression: "activeIndex !== 0"
            }], staticClass: "prev", on: {
                click: function (e) {
                    return e.stopPropagation(), t.SwitchBoost(t.activeIndex - 1)
                }
            }
        }), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.activeIndex !== t.imgList.length - 1,
                expression: "activeIndex !== imgList.length - 1"
            }], staticClass: "next", on: {
                click: function (e) {
                    return e.stopPropagation(), t.SwitchBoost(t.activeIndex + 1)
                }
            }
        })], 1), i("div", {staticClass: "boost-slider-wrap"}, [1 !== t.imgList.length ? i("div", {
            staticClass: "boost-slider-border",
            style: {left: t.activeIndex % 9 * 58 + "px"}
        }) : t._e(), 1 !== t.imgList.length ? i("div", {staticClass: "boost-slider"}, [t.pageSize > 1 && t.pageNo > 1 ? i("div", {
            staticClass: "arrow-left",
            on: {
                click: function (e) {
                    t.SwitchBoost(9 * (t.pageNo - 1) - 1)
                }
            }
        }) : t._e(), t.pageSize > 1 && t.pageNo !== t.pageSize ? i("div", {
            staticClass: "arrow-right",
            on: {
                click: function (e) {
                    return t.SwitchBoost(9 * t.pageNo)
                }
            }
        }) : t._e(), i("ul", {
            staticClass: "list-none",
            style: {transform: "translateX(-" + 100 * (t.pageNo - 1) + "%)"}
        }, t._l(t.imgList, (function (e, n) {
            return i("li", {
                key: n + e.status, class: n === t.activeIndex ? "active" : "", on: {
                    click: function (e) {
                        return t.SwitchBoost(n)
                    }
                }
            }, [i("img", {attrs: {src: e.img_src_zoom}})])
        })), 0)]) : t._e()])]) : t._e()])
    }), [], !1, null, "690d023e", null).exports);
    o.a.use(g.b);
    var H = $;
    i(70);

    function z(t) {
        var e = G(t);
        return Object(d.g)(Object(m.bfsImgLink)(e, 203, 127, {e: 1, c: 1}))
    }

    function U(t) {
        return m.numberFormat.autoParse(t).replace(/\s+/g, "")
    }

    function F(t) {
        var e, i, n, o;
        return i = Math.floor(t / 3600), n = Math.floor((t - 3600 * i) / 60), o = (t - 3600 * i) % 60, e = "".concat(V(n), ":").concat(V(o)), i > 0 && (e = "".concat(V(i), ":").concat(e)), e
    }

    function V(t) {
        return t < 10 ? "0".concat(t) : t
    }

    function G(t) {
        return t.indexOf("@") > -1 ? t.split("@")[0] : t
    }

    var W = {
        props: {
            href: {
                type: String, default: function () {
                    return ""
                }, required: !0
            }, link: {
                type: Function, default: function () {
                }
            }
        }
    }, q = Object(A.a)(W, (function () {
        var t = this.$createElement, e = this._self._c || t;
        return this.href ? e("a", {
            attrs: {target: "_blank", href: this.href},
            on: {click: this.link}
        }, [this._t("content")], 2) : e("div", [this._t("content")], 2)
    }), [], !1, null, "2b044bfb", null).exports, J = {
        props: {
            images: {
                type: Array, default: function () {
                    return []
                }
            }, link: {
                type: String, default: function () {
                    return ""
                }
            }, title: {
                type: String, default: function () {
                    return ""
                }
            }, content: {
                type: String, default: function () {
                    return ""
                }
            }, linkCallback: {
                type: Function, default: function (t) {
                    0
                }
            }
        }, data: function () {
            return {
                imgList: (t = this.images, e = 1 === t.length ? 520 : 170, t.map((function (t) {
                    var i = G(t);
                    return Object(d.g)(Object(m.bfsImgLink)(i, e, 120, {e: 1, c: 1}))
                })))
            };
            var t, e
        }, methods: {
            linkMethods: function () {
                this.linkCallback(this.link)
            }
        }, components: {Hyper: q}
    }, Y = (i(351), Object(A.a)(J, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "article-container"}, [i("hyper", {
            attrs: {
                href: t.link,
                link: t.linkMethods
            }
        }, [i("div", {
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "images-area"}, t._l(t.imgList, (function (e, n) {
            return i("img", {class: "card-" + t.imgList.length, attrs: {src: e}})
        })), 0), i("div", {staticClass: "text-area"}, [i("div", {
            staticClass: "title",
            domProps: {textContent: t._s(t.title)}
        }), i("div", {staticClass: "content", domProps: {textContent: t._s(t.content)}})])])])], 1)
    }), [], !1, null, "3d352df6", null).exports), K = i(15);

    function Z(t) {
        return Object(K.a)({
            method: "post",
            url: "//api.bilibili.com/x/v2/history/toview/add",
            data: {aid: t, jsonp: "jsonp"}
        }).catch((function (t) {
            return Promise.resolve(t)
        }))
    }

    function X(t) {
        return Object(K.a)({
            method: "post",
            url: "//api.bilibili.com/x/v2/history/toview/del",
            data: {jsonp: "jsonp", aid: t}
        }).catch((function (t) {
            return Promise.resolve(t)
        }))
    }

    function Q(t) {
        return Object(K.a)({method: "get", url: "//api.bilibili.com/x/player/videoshot", data: {aid: t, index: 1}})
    }

    function tt(t) {
        return Object(K.a)({method: "get", url: "//api.bilibili.com/x/v2/dm/ajax", data: {aid: t}})
    }

    var et = {
        data: function () {
            return {progress: 0, loadStatus: !1, pic: "", x: 0, y: 0, size: 0, width: 203, data: null}
        },
        props: {aid: {required: !0}, hit: {required: !0, default: !1}, movex: {required: !0, default: 0}},
        computed: {
            img: function () {
                return this.pic.replace(/^http:/, "")
            }, show: function () {
                return this.hit && this.data
            }
        },
        watch: {
            hit: function () {
                this.hit && !this.loadStatus && this.ajax()
            }, movex: function (t) {
                this.onMouseMove(t)
            }
        },
        methods: {
            ajax: function () {
                var t = this;
                Q(t.aid).then((function (e) {
                    t.loadStatus = !0, 0 === e.code && e.data && (t.pic = e.data.image[0], t.data = e.data)
                })).catch((function (e) {
                    t.loadStatus = !0, console.error(e)
                }))
            }, onMouseMove: function (t) {
                if (this.loadStatus && this.data) {
                    var e = this.data.index.length, i = this.data.img_y_size / this.data.img_x_size * this.width;
                    this.progress = Math.floor(t / this.width * 100), this.size = this.width * this.data.img_x_len;
                    var n = Math.floor(t / this.width * e);
                    this.x = -n % this.data.img_x_len * this.width, this.y = -Math.floor(n / this.data.img_x_len) * i
                }
            }
        }
    }, it = (i(352), Object(A.a)(et, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {class: t.show ? "cover-preview-module show" : "cover-preview-module"}, [t.img ? i("div", {
            staticClass: "cover",
            style: {
                backgroundImage: "url(" + t.img + ")",
                backgroundPosition: t.x + "px " + t.y + "px",
                backgroundSize: t.size + "px"
            }
        }) : t._e(), i("div", {staticClass: "progress-bar"}, [i("span", {style: {width: t.progress + "%"}})])])
    }), [], !1, null, "5f843606", null).exports), nt = {
        props: {aid: {required: !0}, hit: {required: !0, default: !1}}, data: function () {
            return {
                loadStatus: !1,
                timer: null,
                timeout: null,
                danmus: [],
                index: 0,
                speed: 5,
                dest: 1.5,
                wrapWidth: 203
            }
        }, watch: {
            hit: function (t) {
                !t || this.loadStatus ? t ? this.start() : (clearInterval(this.timer), clearTimeout(this.timeout)) : this.ajax()
            }
        }, mounted: function () {
            this.wrapWidth = this.$refs.wrap.offsetWidth
        }, destroyed: function () {
            clearInterval(this.timer), clearTimeout(this.timeout)
        }, methods: {
            noop: function () {
            }, ajax: function () {
                var t = this;
                tt(t.aid).then((function (e) {
                    0 === e.code && (t.loadStatus = !0, t.danmus = e.data || [], t.start())
                })).catch((function (e) {
                    t.loadStatus = !0, console.log(e)
                }))
            }, start: function () {
                var t = this;
                this.$nextTick((function () {
                    t.timer = setInterval((function () {
                        if (t.index > t.danmus.length - 1) clearInterval(t.timer), t.reset(); else {
                            var e = (t.$refs["dm" + t.index] || {})[0];
                            if (!e) return;
                            var i = e.offsetWidth;
                            e.style.transform = "translateX(".concat(-i - t.wrapWidth + "px", ")"), e.style.transition = "transform " + t.speed + "s linear", t.index++
                        }
                    }), 1e3 * t.dest)
                }))
            }, reset: function () {
                var t = this;
                t.timeout = setTimeout((function () {
                    t.index = 0;
                    for (var e = 0; e < t.danmus.length; e++) {
                        var i = (t.$refs["dm" + e] || {})[0];
                        if (!i) return;
                        i.style.transform = "", i.style.transition = ""
                    }
                    t.start(), clearTimeout(t.timeout)
                }), 1e3 * t.speed - 1e3 * t.dest)
            }
        }
    }, ot = (i(353), Object(A.a)(nt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "wrap",
            class: t.hit ? "danmu-module show" : "danmu-module"
        }, t._l(t.danmus, (function (e, n) {
            return i("p", {
                ref: "dm" + n,
                refInFor: !0,
                class: n % 2 == 0 ? "dm" : "dm row2",
                on: {
                    mouseenter: function (e) {
                        return e.stopPropagation(), t.noop(e)
                    }, mouseleave: function (e) {
                        return e.stopPropagation(), t.noop(e)
                    }, mousemove: function (e) {
                        return e.stopPropagation(), t.noop(e)
                    }
                }
            }, [t._v(t._s(e))])
        })), 0)
    }), [], !1, null, "3c877149", null).exports);

    function rt(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var at = {
        props: {
            image: {
                type: String, default: function () {
                    return ""
                }
            }, title: {
                type: String, default: function () {
                    return ""
                }
            }, tag: {
                type: String, default: function () {
                    return ""
                }
            }, content: {
                type: String, default: function () {
                    return ""
                }
            }, aid: {
                type: Number, default: function () {
                    return ""
                }
            }, duration: {
                type: Number, default: function () {
                    return 0
                }
            }, view: {
                type: Number, default: function () {
                    return 0
                }
            }, danmaku: {
                type: Number, default: function () {
                    return 0
                }
            }, link: {
                type: String, default: function () {
                    return ""
                }
            }, linkCallback: {
                type: Function, default: function (t) {
                    0
                }
            }, seeLaterCallback: {
                type: Function, default: function (t) {
                    0
                }
            }, preview: {
                type: null, default: function () {
                    return !1
                }
            }, fromBiz: {type: Boolean}, needPay: {type: Boolean}, isCooperation: {type: Boolean}
        }, data: function () {
            return {
                imageURL: z(this.image),
                danmakuNum: U(this.danmaku),
                viewNum: U(this.view),
                durationTime: F(this.duration),
                seeLaterStatus: 0,
                tipsText: "",
                clickLocker: !1,
                hit: !1,
                movex: 0,
                timeout: null
            }
        }, computed: {
            canPreview: function () {
                return this.preview && !this.needPay
            }, typeTxt: function () {
                return this.tag ? this.tag : this.needPay ? "付费视频" : this.isCooperation ? "合作视频" : "投稿视频"
            }
        }, methods: {
            onMouseEnter: function () {
                if (this.canPreview) {
                    var t = this;
                    clearTimeout(t.timeout), t.timeout = setTimeout((function () {
                        t.hit || (t.hit = !0), clearTimeout(t.timeout)
                    }), 500)
                }
            }, onMouseLeave: function () {
                this.canPreview && (clearTimeout(this.timeout), this.hit = !1, this.movex = 0)
            }, onMouseMove: function (t) {
                this.canPreview && (this.movex = t.layerX || 0)
            }, linkMethods: function () {
                this.linkCallback(this.link)
            }, ChangeTipsText: function (t) {
                this.tipsText = t
            }, SeeLaterHover: function () {
                0 === this.seeLaterStatus ? this.tipsText = "稍后再看" : this.tipsText = "移除"
            }, SeeLaterClick: function () {
                var t, e = this;
                return (t = c.a.mark((function t() {
                    return c.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Object(m.quickLogin)();
                            case 2:
                                if (t.sent) {
                                    t.next = 5;
                                    break
                                }
                                return t.abrupt("return");
                            case 5:
                                if (!e.clickLocker) {
                                    t.next = 7;
                                    break
                                }
                                return t.abrupt("return");
                            case 7:
                                e.clickLocker = !0, e.seeLaterCallback(e.seeLaterStatus), 0 === e.seeLaterStatus ? Z(e.aid).then((function (t) {
                                    e.clickLocker = !1, 0 === t.code ? (e.tipsText = "已加稍后再看", e.seeLaterStatus = 1) : e.tipsText = t.msg || "添加失败，请重试"
                                })) : 1 === e.seeLaterStatus && X(e.aid).then((function (t) {
                                    e.clickLocker = !1, 0 === t.code ? (e.tipsText = "已从稍后再看列表中移除", e.seeLaterStatus = 0) : e.tipsText = t.msg || "移除失败，请重试"
                                }));
                            case 10:
                            case"end":
                                return t.stop()
                        }
                    }), t)
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            rt(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            rt(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })()
            }
        }, components: {Hyper: q, CoverPreview: it, DanmuPreview: ot}
    }, st = (i(354), Object(A.a)(at, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "video-container",
            class: {"can-hover": !t.fromBiz}
        }, [i("hyper", {attrs: {href: t.link, link: t.linkMethods}}, [i("div", {
            staticClass: "video-wrap",
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {
            staticClass: "image-area",
            on: {mouseenter: t.onMouseEnter, mouseleave: t.onMouseLeave, mousemove: t.onMouseMove}
        }, [i("div", {
            staticClass: "types",
            class: t.needPay && "need-pay",
            style: t.hit ? "opacity: 0" : ""
        }, [t._v(t._s(t.typeTxt))]), t.canPreview ? i("cover-preview", {
            attrs: {
                aid: t.aid,
                hit: t.hit,
                movex: t.movex
            }
        }) : t._e(), i("img", {attrs: {src: t.imageURL}}), i("div", {staticClass: "mask"}, [i("span", {domProps: {textContent: t._s(t.durationTime)}})]), t.canPreview ? i("danmu-preview", {
            attrs: {
                aid: t.aid,
                hit: t.hit
            }
        }) : t._e(), t.fromBiz || t.needPay ? t._e() : i("div", {
            staticClass: "see-later",
            class: 1 === t.seeLaterStatus ? "done" : "",
            on: {
                mouseover: t.SeeLaterHover, mouseout: function (e) {
                    return t.ChangeTipsText("")
                }, click: function (e) {
                    return e.preventDefault(), e.stopPropagation(), t.SeeLaterClick(e)
                }
            }
        }, [i("div", {
            directives: [{name: "show", rawName: "v-show", value: t.tipsText, expression: "tipsText"}],
            staticClass: "tips",
            domProps: {textContent: t._s(t.tipsText)}
        })])], 1), i("div", {staticClass: "text-area"}, [i("div", {
            staticClass: "title",
            domProps: {textContent: t._s(t.title)}
        }), i("div", {
            staticClass: "content",
            domProps: {textContent: t._s(t.content)}
        }), i("div", {staticClass: "view-danmaku"}, [i("div", [i("i", {staticClass: "bp-icon-font icon-play-a"}), i("span", {
            staticClass: "view",
            domProps: {textContent: t._s(t.viewNum)}
        })]), i("div", [i("i", {staticClass: "bp-icon-font icon-danmu-a"}), i("span", {
            staticClass: "danmaku",
            domProps: {textContent: t._s(t.danmakuNum)}
        })])])])])])], 1)
    }), [], !1, null, "0514ecc0", null).exports), ct = {
        data: function () {
            return {progress: 0, loadStatus: !1, pic: "", x: 0, y: 0, size: 0, width: 203, data: null}
        },
        props: {aid: {required: !0}, hit: {required: !0, default: !1}, movex: {required: !0, default: 0}},
        computed: {
            img: function () {
                return this.pic.replace(/^http:/, "")
            }, show: function () {
                return this.hit && this.data
            }
        },
        watch: {
            hit: function () {
                this.hit && !this.loadStatus && this.ajax()
            }, movex: function (t) {
                this.onMouseMove(t)
            }
        },
        methods: {
            ajax: function () {
                var t = this;
                Q(t.aid).then((function (e) {
                    t.loadStatus = !0, 0 === e.code && e.data && (t.pic = e.data.image[0], t.data = e.data)
                })).catch((function (e) {
                    t.loadStatus = !0, console.error(e)
                }))
            }, onMouseMove: function (t) {
                if (this.loadStatus && this.data) {
                    var e = this.data.index.length, i = this.data.img_y_size / this.data.img_x_size * this.width;
                    this.progress = Math.floor(t / this.width * 100), this.size = this.width * this.data.img_x_len;
                    var n = Math.floor(t / this.width * e);
                    this.x = -n % this.data.img_x_len * this.width, this.y = -Math.floor(n / this.data.img_x_len) * i
                }
            }
        }
    }, lt = (i(355), Object(A.a)(ct, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {class: t.show ? "cover-preview-module show" : "cover-preview-module"}, [t.img ? i("div", {
            staticClass: "cover",
            style: {
                backgroundImage: "url(" + t.img + ")",
                backgroundPosition: t.x + "px " + t.y + "px",
                backgroundSize: t.size + "px"
            }
        }) : t._e(), i("div", {staticClass: "progress-bar"}, [i("span", {style: {width: t.progress + "%"}})])])
    }), [], !1, null, "313ee167", null).exports), ut = {
        props: {aid: {required: !0}, hit: {required: !0, default: !1}}, data: function () {
            return {
                loadStatus: !1,
                timer: null,
                timeout: null,
                danmus: [],
                index: 0,
                speed: 5,
                dest: 1.5,
                wrapWidth: 203
            }
        }, watch: {
            hit: function (t) {
                !t || this.loadStatus ? t ? this.start() : (clearInterval(this.timer), clearTimeout(this.timeout)) : this.ajax()
            }
        }, mounted: function () {
            this.wrapWidth = this.$refs.wrap.offsetWidth
        }, destroyed: function () {
            clearInterval(this.timer), clearTimeout(this.timeout)
        }, methods: {
            noop: function () {
            }, ajax: function () {
                var t = this;
                tt(t.aid).then((function (e) {
                    0 === e.code && (t.loadStatus = !0, t.danmus = e.data || [], t.start())
                })).catch((function (e) {
                    t.loadStatus = !0, console.log(e)
                }))
            }, start: function () {
                var t = this;
                this.$nextTick((function () {
                    t.timer = setInterval((function () {
                        if (t.index > t.danmus.length - 1) clearInterval(t.timer), t.reset(); else {
                            var e = (t.$refs["dm" + t.index] || {})[0];
                            if (!e) return;
                            var i = e.offsetWidth;
                            e.style.transform = "translateX(".concat(-i - t.wrapWidth + "px", ")"), e.style.transition = "transform " + t.speed + "s linear", t.index++
                        }
                    }), 1e3 * t.dest)
                }))
            }, reset: function () {
                var t = this;
                t.timeout = setTimeout((function () {
                    t.index = 0;
                    for (var e = 0; e < t.danmus.length; e++) {
                        var i = (t.$refs["dm" + e] || {})[0];
                        if (!i) return;
                        i.style.transform = "", i.style.transition = ""
                    }
                    t.start(), clearTimeout(t.timeout)
                }), 1e3 * t.speed - 1e3 * t.dest)
            }
        }
    }, dt = (i(356), Object(A.a)(ut, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "wrap",
            class: t.hit ? "danmu-module show" : "danmu-module"
        }, t._l(t.danmus, (function (e, n) {
            return i("p", {
                ref: "dm" + n,
                refInFor: !0,
                class: n % 2 == 0 ? "dm" : "dm row2",
                on: {
                    mouseenter: function (e) {
                        return e.stopPropagation(), t.noop(e)
                    }, mouseleave: function (e) {
                        return e.stopPropagation(), t.noop(e)
                    }, mousemove: function (e) {
                        return e.stopPropagation(), t.noop(e)
                    }
                }
            }, [t._v(t._s(e))])
        })), 0)
    }), [], !1, null, "01e60aac", null).exports);

    function ht(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var ft = {
        props: {
            image: {
                type: String, default: function () {
                    return ""
                }
            }, title: {
                type: String, default: function () {
                    return ""
                }
            }, content: {
                type: String, default: function () {
                    return ""
                }
            }, aid: {
                type: Number, default: function () {
                    return ""
                }
            }, duration: {
                type: Number, default: function () {
                    return 0
                }
            }, view: {
                type: Number, default: function () {
                    return 0
                }
            }, danmaku: {
                type: Number, default: function () {
                    return 0
                }
            }, link: {
                type: String, default: function () {
                    return ""
                }
            }, linkCallback: {
                type: Function, default: function (t) {
                    0
                }
            }, seeLaterCallback: {
                type: Function, default: function (t) {
                    0
                }
            }, preview: {
                type: null, default: function () {
                    return !1
                }
            }, fromBiz: {type: Boolean}, needPay: {type: Boolean}, isCooperation: {type: Boolean}
        }, data: function () {
            return {
                imageURL: z(this.image),
                danmakuNum: U(this.danmaku),
                viewNum: U(this.view),
                durationTime: F(this.duration),
                seeLaterStatus: 0,
                tipsText: "",
                clickLocker: !1,
                hit: !1,
                movex: 0,
                timeout: null
            }
        }, computed: {
            canPreview: function () {
                return this.preview && !this.needPay
            }
        }, methods: {
            onMouseEnter: function () {
                if (this.canPreview) {
                    var t = this;
                    clearTimeout(t.timeout), t.timeout = setTimeout((function () {
                        t.hit || (t.hit = !0), clearTimeout(t.timeout)
                    }), 500)
                }
            }, onMouseLeave: function () {
                this.canPreview && (clearTimeout(this.timeout), this.hit = !1, this.movex = 0)
            }, onMouseMove: function (t) {
                this.canPreview && (this.movex = t.layerX || 0)
            }, linkMethods: function () {
                this.linkCallback(this.link)
            }, ChangeTipsText: function (t) {
                this.tipsText = t
            }, SeeLaterHover: function () {
                0 === this.seeLaterStatus ? this.tipsText = "稍后再看" : this.tipsText = "移除"
            }, SeeLaterClick: function () {
                var t, e = this;
                return (t = c.a.mark((function t() {
                    return c.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Object(m.quickLogin)();
                            case 2:
                                if (t.sent) {
                                    t.next = 5;
                                    break
                                }
                                return t.abrupt("return");
                            case 5:
                                if (!e.clickLocker) {
                                    t.next = 7;
                                    break
                                }
                                return t.abrupt("return");
                            case 7:
                                e.clickLocker = !0, e.seeLaterCallback(e.seeLaterStatus), 0 === e.seeLaterStatus ? Z(e.aid).then((function (t) {
                                    e.clickLocker = !1, 0 === t.code ? (e.tipsText = "已加稍后再看", e.seeLaterStatus = 1) : e.tipsText = t.msg || "添加失败，请重试"
                                })) : 1 === e.seeLaterStatus && X(e.aid).then((function (t) {
                                    e.clickLocker = !1, 0 === t.code ? (e.tipsText = "已从稍后再看列表中移除", e.seeLaterStatus = 0) : e.tipsText = t.msg || "移除失败，请重试"
                                }));
                            case 10:
                            case"end":
                                return t.stop()
                        }
                    }), t)
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            ht(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            ht(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })()
            }
        }, components: {Hyper: q, CoverPreview: lt, DanmuPreview: dt}
    }, pt = (i(357), Object(A.a)(ft, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "video-container",
            class: {"can-hover": !t.fromBiz}
        }, [i("hyper", {attrs: {href: t.link, link: t.linkMethods}}, [i("div", {
            staticClass: "video-wrap",
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {
            staticClass: "image-area",
            on: {mouseenter: t.onMouseEnter, mouseleave: t.onMouseLeave, mousemove: t.onMouseMove}
        }, [i("div", {
            staticClass: "types",
            style: t.hit ? "opacity: 0" : ""
        }, [t._v("直播回放")]), t.canPreview ? i("cover-preview", {
            attrs: {
                aid: t.aid,
                hit: t.hit,
                movex: t.movex
            }
        }) : t._e(), i("img", {attrs: {src: t.imageURL}}), i("div", {staticClass: "mask"}, [i("span", {domProps: {textContent: t._s(t.durationTime)}})]), t.canPreview ? i("danmu-preview", {
            attrs: {
                aid: t.aid,
                hit: t.hit
            }
        }) : t._e(), t.fromBiz || t.needPay ? t._e() : i("div", {
            staticClass: "see-later",
            class: 1 === t.seeLaterStatus ? "done" : "",
            on: {
                mouseover: t.SeeLaterHover, mouseout: function (e) {
                    return t.ChangeTipsText("")
                }, click: function (e) {
                    return e.preventDefault(), e.stopPropagation(), t.SeeLaterClick(e)
                }
            }
        }, [i("div", {
            directives: [{name: "show", rawName: "v-show", value: t.tipsText, expression: "tipsText"}],
            staticClass: "tips",
            domProps: {textContent: t._s(t.tipsText)}
        })])], 1), i("div", {staticClass: "text-area"}, [i("div", {
            staticClass: "title",
            domProps: {textContent: t._s(t.title)}
        }), i("div", {
            staticClass: "content",
            domProps: {textContent: t._s(t.content)}
        }), i("div", {staticClass: "view-danmaku"}, [i("div", [i("i", {staticClass: "bp-icon-font icon-play-a"}), i("span", {
            staticClass: "view",
            domProps: {textContent: t._s(t.viewNum)}
        })]), i("div", [i("i", {staticClass: "bp-icon-font icon-danmu-a"}), i("span", {
            staticClass: "danmaku",
            domProps: {textContent: t._s(t.danmakuNum)}
        })])])])])])], 1)
    }), [], !1, null, "4a97ece4", null).exports), mt = {
        props: {
            link: {type: String, required: !0},
            coverUrl: {type: String, required: !0},
            viewNum: {type: String, required: !0},
            title: {type: String, required: !0},
            areaName: {type: String, required: !0},
            status: {type: String, required: !0},
            showViewNum: {type: Boolean, default: !0},
            linkCallback: {
                type: Function, default: function () {
                }
            }
        }, data: function () {
            return {cover: z(this.coverUrl)}
        }, components: {Hyper: q}
    }, vt = (i(358), Object(A.a)(mt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "live-container"}, [i("hyper", {
            attrs: {
                href: t.link,
                link: t.linkCallback
            }
        }, [i("div", {
            staticClass: "live-wrap",
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "image-area"}, [i("div", {
            staticClass: "status",
            class: {back: "直播中" !== t.status}
        }, [t._v(t._s(t.status))]), i("img", {attrs: {src: t.cover}})]), i("div", {staticClass: "text-area"}, [i("div", {staticClass: "title fs-16 tc-black"}, [t._v(t._s(t.title))]), i("div", {staticClass: "bottom-text tc-slate fs-12"}, [i("div", {staticClass: "section d-i-block"}, [t._v(t._s(t.areaName))]), t.showViewNum ? i("div", {staticClass: "view-num d-i-block"}, [t._v(" · " + t._s(t.viewNum))]) : t._e()])])])])], 1)
    }), [], !1, null, "23b19018", null).exports), gt = {
        props: {
            image: {
                type: String, default: function () {
                    return ""
                }
            }, title: {
                type: String, default: function () {
                    return ""
                }
            }, content: {
                type: String, default: function () {
                    return ""
                }
            }, view: {
                type: Number, default: function () {
                    return 0
                }
            }, danmaku: {
                type: Number, default: function () {
                    return 0
                }
            }, link: {
                type: String, default: function () {
                    return ""
                }
            }, linkCallback: {
                type: Function, default: function (t) {
                    0
                }
            }, fromBiz: {type: Boolean}, tags: null, hideViewDanmaku: null
        }, data: function () {
            return {imageURL: z(this.image), danmakuNum: U(this.danmaku), viewNum: U(this.view)}
        }, computed: {
            tagInfo: function () {
                return !this.tags || this.tags.length < 1 ? {} : this.tags[0]
            }, tagText: function () {
                return this.tagInfo.name
            }, tagStyle: function () {
                return "background-color: #".concat(this.tagInfo.color, ";")
            }
        }, methods: {
            linkMethods: function () {
                this.linkCallback(this.link)
            }
        }, components: {Hyper: q}
    }, yt = (i(359), Object(A.a)(gt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "bangumi-container",
            class: {"can-hover": !t.fromBiz}
        }, [i("hyper", {attrs: {href: t.link, link: t.linkMethods}}, [i("div", {
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "image-area"}, [i("img", {attrs: {src: t.imageURL}}), t.tagText ? i("div", {
            staticClass: "tag",
            style: t.tagStyle
        }, [t._v(t._s(t.tagText))]) : t._e()]), i("div", {staticClass: "text-area"}, [i("div", {
            staticClass: "title",
            domProps: {textContent: t._s(t.title)}
        }), i("div", {
            staticClass: "content",
            domProps: {textContent: t._s(t.content)}
        }), t.hideViewDanmaku ? t._e() : i("div", {staticClass: "view-danmaku"}, [i("div", [i("i", {staticClass: "bp-icon-font icon-play-a"}), i("span", {
            staticClass: "view",
            domProps: {textContent: t._s(t.viewNum)}
        })]), i("div", [i("i", {staticClass: "bp-icon-font icon-danmu-a"}), i("span", {
            staticClass: "danmaku",
            domProps: {textContent: t._s(t.danmakuNum)}
        })])])])])])], 1)
    }), [], !1, null, "6d8fee64", null).exports), bt = (i(54), {
        props: {
            image: {type: String, default: ""},
            link: {type: String, default: ""},
            content: {type: String, default: ""},
            desc: {type: String, default: ""},
            tag: {
                type: Array, default: function () {
                    return []
                }
            },
            styleType: {type: String}
        }, components: {Hyper: q}, computed: {
            imgStyle: function () {
                var t = this.hasImage ? this.image : "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/img_loading.png";
                return "background-image: url(".concat(t, ")")
            }, hasImage: function () {
                return "" !== this.image
            }, hasDesc: function () {
                return "" !== this.desc
            }
        }
    }), _t = (i(360), Object(A.a)(bt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "h5share-container bg-white pointer t-left",
            class: {"share-iframe-container": "share-iframe" === t.styleType}
        }, [i("hyper", {attrs: {href: t.link}}, [i("div", {
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "image-area f-left"}, [i("div", {
            staticClass: "share-img w-100 h-100",
            class: {"bg-shrink": !t.hasImage},
            style: t.imgStyle
        })]), i("div", {
            staticClass: "text-area f-left",
            class: {"share-iframe-text": "share-iframe" === t.styleType}
        }, [i("div", {
            staticClass: "text-content ff-yahei tc-black ls-0",
            class: {middle: !t.hasDesc}
        }, [i("div", {staticClass: "text fs-14 line-clamp-1 break-all"}, [t._v(t._s(t.content))]), t.tag[0] ? i("span", {
            staticClass: "tag t-center fs-12",
            style: {background: "#" + t.tag[0].color}
        }, [t._v(t._s(t.tag[0].name))]) : t._e()]), t.hasDesc ? i("div", {staticClass: "text-desc ff-yahei tc-slate fs-12 ls-0 line-clamp-1"}, [t._v(t._s(t.desc))]) : t._e()])])])], 1)
    }), [], !1, null, "47cded4d", null).exports), wt = {
        props: {
            cover: {type: String, default: ""},
            link: {type: String, default: ""},
            title: {type: String, default: ""},
            author: {type: String, default: ""},
            desc: {type: String, default: ""},
            content: {type: String, default: ""},
            tags: null
        }, components: {Hyper: q}, computed: {
            imgStyle: function () {
                var t = this.cover || "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/img_loading.png";
                return "background-image: url(".concat(t, ")")
            }, tagInfo: function () {
                return !this.tags || this.tags.length < 1 ? {} : this.tags[0]
            }, tagText: function () {
                return this.tagInfo.name
            }, tagStyle: function () {
                return "background-color: #".concat(this.tagInfo.color, ";")
            }
        }
    }, Ct = (i(361), Object(A.a)(wt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "h5share-container bg-white pointer t-left p-rel"}, [i("hyper", {attrs: {href: t.link}}, [i("div", {
            attrs: {slot: "content"},
            slot: "content"
        }, [t.tagText ? i("div", {
            staticClass: "tag",
            style: t.tagStyle
        }, [t._v(t._s(t.tagText))]) : t._e(), i("div", {staticClass: "image-area f-left"}, [i("div", {
            staticClass: "share-img w-100 h-100",
            style: t.imgStyle
        })]), i("div", {staticClass: "text-area f-left"}, [i("div", {staticClass: "text-content ff-yahei fs-14 ls-0 line-clamp-1"}, [t._v(t._s(t.title))]), i("div", {staticClass: "text-desc ff-yahei fs-12 ls-0 line-clamp-1"}, [t._v(t._s(t.desc))]), i("div", {staticClass: "text-desc ff-yahei fs-12 ls-0 line-clamp-1"}, [t._v(t._s(t.content))])])])])], 1)
    }), [], !1, null, "1509e9aa", null).exports), xt = {
        props: {
            image: {type: String, default: ""},
            link: {type: String, default: ""},
            content: {type: String, default: ""},
            desc: {type: String, default: ""},
            styleType: {type: String},
            linkCallback: {
                type: Function, default: function () {
                }
            }
        }, components: {Hyper: q}, computed: {
            imgStyle: function () {
                var t = this.hasImage ? this.image : "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/img_loading.png";
                return "background-image: url(".concat(t, ")")
            }, hasImage: function () {
                return "" !== this.image
            }, hasDesc: function () {
                return "" !== this.desc
            }
        }
    }, kt = (i(363), Object(A.a)(xt, (function () {
        var t = this, e = t.$createElement, n = t._self._c || e;
        return n("div", {
            staticClass: "music-container bg-white pointer t-left",
            class: {"share-iframe-container": "share-iframe" === t.styleType}
        }, [n("hyper", {attrs: {href: t.link, link: t.linkCallback}}, [n("div", {
            attrs: {slot: "content"},
            slot: "content"
        }, [n("div", {staticClass: "image-area f-left p-rel"}, [n("div", {
            staticClass: "share-img w-100 h-100",
            class: {"bg-shrink": !t.hasImage},
            style: t.imgStyle
        }), n("img", {
            staticClass: "music-play-icon p-abs",
            attrs: {src: i(362)}
        })]), n("div", {
            staticClass: "text-area f-left",
            class: {"share-iframe-text": "share-iframe" === t.styleType}
        }, [n("div", {
            staticClass: "text-content ff-yahei tc-black fs-14 ls-0 line-clamp-1",
            class: {middle: !t.hasDesc}
        }, [t._v(t._s(t.content))]), t.hasDesc ? n("div", {staticClass: "text-desc ff-yahei tc-slate fs-12 ls-0"}, [t._v(t._s(t.desc))]) : t._e()])])])], 1)
    }), [], !1, null, "7d9db8c7", null).exports), It = {
        props: {
            image: {type: String, default: ""},
            link: {type: String, default: ""},
            content: {type: String, default: ""},
            desc: {type: String, default: ""}
        }, components: {Hyper: q}, computed: {
            imgStyle: function () {
                return this.hasImage ? "background-image: url(".concat(this.image, ")") : "background: #DFF7FF url(".concat(i(364), ") center/28px no-repeat;")
            }, hasImage: function () {
                return "" !== this.image
            }, hasDesc: function () {
                return "" !== this.desc
            }
        }, methods: {
            onClick: function () {
                this.$emit("click")
            }
        }
    }, St = (i(365), Object(A.a)(It, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "vote-container bg-white pointer t-left",
            on: {click: t.onClick}
        }, [i("hyper", {attrs: {href: t.link}}, [i("div", {
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "image-area f-left"}, [i("div", {
            staticClass: "share-img w-100 h-100",
            class: {"bg-shrink": !t.hasImage},
            style: t.imgStyle
        })]), i("div", {staticClass: "text-area f-left"}, [i("div", {
            staticClass: "text-content ff-yahei tc-black fs-14 ls-0 line-clamp-1",
            class: {middle: !t.hasDesc}
        }, [t._v(t._s(t.content))]), t.hasDesc ? i("div", {staticClass: "text-desc ff-yahei tc-slate fs-12 ls-0 line-clamp-1"}, [t._v(t._s(t.desc))]) : t._e(), i("div", {staticClass: "vote-btn-box"}, [i("div", {staticClass: "vote-btn"}, [t._v("投票")])])])])])], 1)
    }), [], !1, null, "9b0fce88", null).exports), Ot = {
        props: {data: {type: Object, required: !0}}, computed: {
            info: function () {
                if (this.data) {
                    var t = this.data;
                    t.origin && (t = JSON.parse(t.origin));
                    try {
                        return JSON.parse(t.image_info)
                    } catch (e) {
                        return t.image_info || {}
                    }
                }
                return {}
            }, desc: function () {
                return this.info.desc
            }, title: function () {
                return this.info.title
            }, tag: function () {
                return this.info.tag_name
            }, tagStyle: function () {
                return "background-color: ".concat(this.info.tag_color, ";")
            }, posterImg: function () {
                return function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, i = G(t);
                    return Object(d.g)(Object(m.bfsImgLink)(i, 520 * e, 152 * e))
                }(this.info.icon)
            }
        }, methods: {
            handleClick: function () {
                window.open(this.info.jump_url, "_blank")
            }
        }
    }, Tt = (i(366), Object(A.a)(Ot, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "card-subscription",
            on: {click: t.handleClick}
        }, [i("div", {staticClass: "card-subscription__desc"}, [t._v(t._s(t.desc))]), i("div", {staticClass: "card-subscription__poster"}, [i("img", {
            staticClass: "card-subscription__poster-img",
            attrs: {src: t.posterImg}
        }), i("div", {
            staticClass: "card-subscription__poster-tag",
            style: t.tagStyle
        }, [t._v(t._s(t.tag))]), i("div", {staticClass: "card-subscription__poster-title"}, [t._v(t._s(t.title))])])])
    }), [], !1, null, "3706b0bb", null).exports), Et = i(277), Pt = i.n(Et), Lt = {
        props: ["cover", "coverType", "title", "description", "contentCount", "link", "linkCallback"],
        data: function () {
            return {}
        },
        computed: {
            coverBfsUrl: function () {
                var t = "";
                return this.cover && (t = Object(m.bfsImgLink)(this.cover.replace(/^http:|^https:/, ""), null, 127)), t
            }, coverBoxStyle: function () {
                return this.coverBfsUrl ? 12 !== this.coverType ? "background-image: url(".concat(this.coverBfsUrl, ")") : "background-image: url(".concat(this.coverBfsUrl, "); filter: blur(12px)") : "background-image: url(".concat(Pt.a, "); background-size: 34px 33px;")
            }, coverImageStyle: function () {
                var t = "";
                return 12 === this.coverType && (t = "width: 127px; height: 127px; background-image: url(".concat(this.coverBfsUrl, ")")), t
            }, contentCountString: function () {
                return "".concat(this.contentCount, "个内容")
            }
        },
        watch: {},
        components: {Hyper: q},
        beforeCreate: function () {
        },
        created: function () {
        },
        beforeMount: function () {
        },
        mounted: function () {
        },
        beforeDestroy: function () {
        },
        destroyed: function () {
        },
        methods: {
            linkMethods: function () {
                "function" == typeof this.linkCallback && this.linkCallback(this.link)
            }
        }
    }, jt = (i(367), Object(A.a)(Lt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "media-list"}, [i("Hyper", {
            attrs: {
                href: t.link,
                link: t.linkMethods
            }
        }, [i("div", {
            staticClass: "content",
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "cover-box-cliper"}, [i("div", {
            staticClass: "cover-box",
            style: t.coverBoxStyle
        }), t.coverImageStyle ? i("div", {
            staticClass: "cover-image",
            style: t.coverImageStyle
        }) : t._e(), i("div", {staticClass: "media-list-icon"})]), i("div", {staticClass: "text-box"}, [i("div", {staticClass: "title"}, [t._v(t._s(t.title))]), i("div", {staticClass: "description"}, [t._v(t._s(t.description))]), i("div", {staticClass: "count-box"}, [t._v(t._s(t.contentCountString))])])])])], 1)
    }), [], !1, null, "bf1c912a", null).exports), At = {
        props: {
            isUpdate: {
                type: null, default: function () {
                    return !1
                }
            }, image: {
                type: String, default: function () {
                    return ""
                }
            }, title: {
                type: String, default: function () {
                    return ""
                }
            }, subtitle: {
                type: String, default: function () {
                    return ""
                }
            }, content: {
                type: String, default: function () {
                    return ""
                }
            }, link: {
                type: String, default: function () {
                    return ""
                }
            }, linkCallback: {
                type: Function, default: function (t) {
                    0
                }
            }
        }, data: function () {
            return {imageURL: z(this.image)}
        }, computed: {}, methods: {
            linkMethods: function () {
                this.linkCallback(this.link)
            }
        }, components: {Hyper: q}
    }, Mt = (i(368), Object(A.a)(At, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "video-container",
            class: {"can-hover": t.link}
        }, [i("hyper", {attrs: {href: t.link, link: t.linkMethods}}, [i("div", {
            staticClass: "video-wrap",
            attrs: {slot: "content"},
            slot: "content"
        }, [i("div", {staticClass: "image-area"}, [i("div", {staticClass: "types"}, [t._v("付费课程")]), i("img", {attrs: {src: t.imageURL}})]), i("div", {staticClass: "text-area"}, [i("div", {
            staticClass: "title",
            domProps: {textContent: t._s(t.title)}
        }), i("div", {
            staticClass: "content",
            class: {"is-update": t.isUpdate},
            domProps: {textContent: t._s(t.content)}
        }), t.subtitle ? i("div", {
            staticClass: "subtitle",
            class: {"is-update": t.isUpdate},
            domProps: {textContent: t._s(t.subtitle)}
        }) : t._e()])])])], 1)
    }), [], !1, null, "217e4707", null).exports), Dt = i(0);

    function Bt(t, e) {
        var i;
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (i = function (t, e) {
                if (!t) return;
                if ("string" == typeof t) return Nt(t, e);
                var i = Object.prototype.toString.call(t).slice(8, -1);
                "Object" === i && t.constructor && (i = t.constructor.name);
                if ("Map" === i || "Set" === i) return Array.from(t);
                if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return Nt(t, e)
            }(t)) || e && t && "number" == typeof t.length) {
                i && (t = i);
                var n = 0, o = function () {
                };
                return {
                    s: o, n: function () {
                        return n >= t.length ? {done: !0} : {done: !1, value: t[n++]}
                    }, e: function (t) {
                        throw t
                    }, f: o
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, a = !0, s = !1;
        return {
            s: function () {
                i = t[Symbol.iterator]()
            }, n: function () {
                var t = i.next();
                return a = t.done, t
            }, e: function (t) {
                s = !0, r = t
            }, f: function () {
                try {
                    a || null == i.return || i.return()
                } finally {
                    if (s) throw r
                }
            }
        }
    }

    function Nt(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    var Rt = {
            props: {
                text: {type: String, default: ""},
                clipText: {type: String, default: ""},
                pureText: {type: String, default: ""},
                type: {type: Number, default: 1},
                isDetail: null,
                maxLines: {type: Number, default: 4},
                lineHeight: {type: Number, default: 22},
                clickLogHandler: {
                    type: Function, default: function () {
                    }
                },
                url: {
                    type: String, default: function () {
                        return ""
                    }
                },
                isRepost: {type: Boolean, default: !1}
            }, data: function () {
                return {isMounted: !1, needClip: !1, isExpanded: !0}
            }, computed: {
                needShowMoreLines: function () {
                    return this.type === Dt.a.REPOST || this.type === Dt.a.PIC || this.type === Dt.a.WORD
                }, pureTextLength: function () {
                    return Object(h.g)(this.pureText)
                }
            }, watch: {
                text: function () {
                    this.nextTickAttachAtHrefs()
                }
            }, mounted: function () {
                var t = this;
                this.isMounted = !0, setTimeout((function () {
                    t.calcClip()
                }), 0), this.nextTickAttachAtHrefs()
            }, methods: {
                nextTickAttachAtHrefs: function () {
                    var t = this;
                    v.c.getIsNeedCardPopup() && this.$nextTick((function () {
                        t.attachAtHrefs(t.$refs.full)
                    }))
                }, attachAtHrefs: function (t) {
                    if (t) for (var e = t.children, i = 0; i < e.length; i++) {
                        var n = e[i];
                        if ("A" === n.nodeName) {
                            var o = n.href.match(/\/\/space\.bilibili\.com\/(\d+)/);
                            if (o) {
                                var r = +o[1];
                                r && Object(f.a)(r, this.$refs.foldingText, n)
                            }
                        }
                    }
                }, mouseenter: function (t) {
                    this.$emit("mouseenter", t)
                }, mouseleave: function (t) {
                    this.$emit("mouseleave", t)
                }, click: function (t) {
                    var e = t.srcElement || t.originalTarget || t.target;
                    t.target && "A" === t.target.nodeName || e.getAttribute("click-href") ? this.clickLogHandler() : (this.url && window.open(this.url), this.$emit("click", t))
                }, calcClip: function () {
                    if (!this.isDetail && this.$refs.full) {
                        this.pureText.match(/[\n↵]/g);
                        var t, e = 0, i = Bt(this.pureText.split(/[\n↵]/g));
                        try {
                            for (i.s(); !(t = i.n()).done;) {
                                var n = t.value;
                                e += Math.ceil(Object(h.g)(n) / 35)
                            }
                        } catch (t) {
                            i.e(t)
                        } finally {
                            i.f()
                        }
                        e > 6 && (this.needClip = !0, this.isExpanded = !1, this.nextTickAttachAtHrefs())
                    }
                }, triggerExpand: function () {
                    this.isExpanded = !this.isExpanded
                }, stopPropagation: function (t) {
                    t.preventDefault(), t.stopPropagation()
                }
            }
        }, $t = (i(369), Object(A.a)(Rt, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {ref: "foldingText", staticClass: "text p-rel"}, [i("div", {
                staticClass: "content",
                on: {mouseenter: t.mouseenter, mouseleave: t.mouseleave, click: t.click}
            }, [t.isMounted && t.needClip ? i("div", {
                ref: "clip",
                staticClass: "content-ellipsis",
                class: {hidden: t.isExpanded},
                domProps: {innerHTML: t._s(t.clipText)}
            }) : t._e(), i("div", {
                ref: "full",
                staticClass: "content-full",
                class: {hidden: !t.isExpanded},
                domProps: {innerHTML: t._s(t.text)}
            })]), t.needClip ? i("div", {staticClass: "btns"}, [i("div", {
                staticClass: "expand-btn",
                on: {
                    click: function (e) {
                        return e.stopPropagation(), t.triggerExpand(e)
                    }
                }
            }, [t._v(t._s(t.isExpanded ? "收起" : "展开"))])]) : t._e()])
        }), [], !1, null, "b3414e94", null).exports), Ht = {
            props: ["show", "url", "title"], data: function () {
                return {iframeShow: !1}
            }, computed: {}, watch: {
                show: function () {
                    this.updateShowStatus()
                }
            }, components: {}, beforeCreate: function () {
            }, created: function () {
                this.updateShowStatus()
            }, beforeMount: function () {
            }, mounted: function () {
                this.updateShowStatus()
            }, beforeDestroy: function () {
            }, destroyed: function () {
            }, methods: {
                onClose: function () {
                    this.$emit("close")
                }, updateShowStatus: function () {
                    var t = this;
                    this.show ? this.iframeShow = !0 : setTimeout((function () {
                        t.iframeShow = !1
                    }), 500)
                }
            }
        }, zt = (i(370), Object(A.a)(Ht, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("transition", {attrs: {name: "fade"}}, [i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.show,
                    expression: "show"
                }], staticClass: "backdrop", on: {click: t.onClose}
            }, [i("transition", {attrs: {name: "slide"}}, [i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.show,
                    expression: "show"
                }], staticClass: "extension-wrapper", on: {
                    click: function (t) {
                        t.stopPropagation()
                    }
                }
            }, [i("div", {staticClass: "title-box"}, [i("div", {staticClass: "title-text"}, [t._v(t._s(t.title))]), i("div", {
                staticClass: "close-button bp-icon-font icon-group-dynamic close-btn",
                on: {click: t.onClose}
            })]), t.iframeShow ? i("iframe", {attrs: {src: t.url, frameborder: "0"}}) : t._e()])])], 1)])
        }), [], !1, null, "21fef14f", null).exports), Ut = {
            props: ["content"], data: function () {
                return {}
            }, computed: {}, watch: {}, components: {}, beforeCreate: function () {
            }, created: function () {
            }, beforeMount: function () {
            }, mounted: function () {
            }, beforeDestroy: function () {
            }, destroyed: function () {
            }, methods: {}
        }, Ft = (i(371), Object(A.a)(Ut, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "risk-tip"}, [e("span", {staticClass: "tip-icon"}), e("span", {staticClass: "risk-tip-content"}, [this._v("\n    " + this._s(this.content) + "\n  ")])])
        }), [], !1, null, "3773de5c", null).exports), Vt = [function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "lost-tip__icon"}, [e("img", {staticClass: "icon", attrs: {src: i(372)}})])
        }], Gt = {name: "LostTip", props: ["white"]}, Wt = (i(373), Object(A.a)(Gt, (function () {
            var t = this.$createElement;
            return (this._self._c || t)("div", {
                staticClass: "lost-tip",
                class: this.white && "white"
            }, [this._m(0), this._t("default")], 2)
        }), Vt, !1, null, "2eb743de", null).exports), qt = i(113), Jt = {
            props: ["uid", "dynamicId", "likeInfo"], data: function () {
                return {}
            }, computed: {
                likeUsersList: function () {
                    return this.likeInfo && this.likeInfo.like_users || []
                }, displayText: function () {
                    return this.likeInfo && this.likeInfo.like_display_text || "赞了"
                }
            }, watch: {}, components: {}, beforeCreate: function () {
            }, created: function () {
            }, beforeMount: function () {
            }, mounted: function () {
            }, beforeDestroy: function () {
            }, destroyed: function () {
            }, methods: {}
        }, Yt = (i(374), Object(A.a)(Jt, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.likeUsersList.length,
                    expression: "likeUsersList.length"
                }], staticClass: "like-users-panel"
            }, [i("i", {staticClass: "like-icon"}), i("div", {staticClass: "users-box"}, [t._l(t.likeUsersList, (function (e, n) {
                return [i("a", {
                    key: e.uid,
                    staticClass: "like-users-list",
                    attrs: {href: "//space.bilibili.com/" + e.uid, title: e.uname, target: "_blank"}
                }, [t._v(t._s(e.uname))]), n + 1 !== t.likeUsersList.length ? [t._v("、")] : t._e()]
            }))], 2), i("span", {staticClass: "suffix-text"}, [t._v("赞了")])])
        }), [], !1, null, "9f189eb0", null).exports), Kt = (i(28), i(49), {playingVideo: null, autoplayWaitingStack: []}),
        Zt = function (t) {
            if (Kt.autoplayWaitingStack.some((function (e) {
                return e.videoId === t.videoId
            })) || Kt.autoplayWaitingStack.push({
                videoId: t.videoId,
                player: t.player
            }), Kt.autoplayWaitingStack.length > 0) {
                var e = Kt.autoplayWaitingStack.pop();
                null !== Kt.playingVideo && Kt.playingVideo.videoId === e.videoId || e.player.play()
            }
        }, Xt = function (t) {
            Kt.autoplayWaitingStack = Kt.autoplayWaitingStack.filter((function (e) {
                return e.videoId !== t
            }))
        }, Qt = function (t) {
            null !== Kt.playingVideo && Kt.playingVideo.player.pause(), Kt.playingVideo = t, Kt.autoplayWaitingStack.filter((function (e) {
                return e.videoId !== t.videoId
            }))
        }, te = function () {
            if (Kt.playingVideo = null, Kt.autoplayWaitingStack.length > 0) {
                var t = Kt.autoplayWaitingStack.pop();
                null !== Kt.playingVideo && Kt.playingVideo.videoId === t.videoId || t.player.play()
            }
        }, ee = function () {
            return Kt.playingVideo
        }, ie = i(39);

    function ne(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function oe(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    ne(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    ne(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    var re = {
        props: {
            cardInfo: {type: Object, required: !0},
            cardData: {type: Object, required: !0},
            isFake: {type: Boolean, default: !1},
            isDetail: {type: Boolean, default: !1},
            currentType: {type: Number, default: 0},
            myUid: null,
            popupDom: null,
            isGuest: null,
            spmPageTypeString: String,
            regString: {type: String, default: ""}
        },
        data: function () {
            return {
                card: Object(d.e)(this.cardInfo.card),
                originalCardInfo: {uid: 0, name: "", face: "", url: "", type_desc: "", contentArray: ""},
                originalCardInfoContent: "",
                clipOriginalCardInfoContent: "",
                repostContent: "",
                clipRepostContent: "",
                containerDOM: null,
                vcPlayer: null,
                inViewport: !1,
                vcError: !1,
                vcPlayed: !1,
                repostDescHovered: !1,
                originDescHovered: !1,
                hasFullScreen: !1,
                attentionList: h.r.getMyAttentionList(),
                TYPES: Dt.a,
                HOST: y.a,
                iframeInstance: null,
                iframeDom: null,
                justFocus: !1
            }
        },
        computed: {
            CardTypeIs: function () {
                return {
                    Vote: this.originType === Dt.a.WORD && this.originalCardInfo.voteInfo,
                    Pic: this.originType === Dt.a.PIC,
                    Video: this.originType === Dt.a.VIDEO && !this.isLivePlayback,
                    LivePlayBack: this.originType === Dt.a.VIDEO && this.isLivePlayback,
                    Collection: this.originType === Dt.a.COLLECTION,
                    Article: this.originType === Dt.a.ARTICLE,
                    Music: this.originType === Dt.a.MUSIC,
                    Bangumi: [Dt.a.BANGUMI, Dt.a.FILM, Dt.a.TV, Dt.a.DOCUMENTARY].includes(this.originType),
                    H5Share: this.originType === Dt.a.H5_SHARE && this.isSupportBizType,
                    ComicShare: this.originType === Dt.a.COMIC_SHARE && this.isSupportBizType,
                    Live: [Dt.a.LIVE_ROOM, Dt.a.LIVE, Dt.a.LIVE_PUSH].includes(this.originType) || this.originType === Dt.a.SUBSCRIPTION && "live_room" === this.cardOrigin.type,
                    Subscription: this.originType === Dt.a.SUBSCRIPTION && "live_room" !== this.cardOrigin.type,
                    MediaList: this.originType === Dt.a.MEDIA_LIST,
                    Cheese: [Dt.a.CHEESE_SERIES, Dt.a.CHEESE_UPDATE].includes(this.originType)
                }
            }, errorTips: function () {
                return this.card.item.tips
            }, needRefresh: function () {
                var t = this.cardInfo.need_refresh;
                return !(!t || 1 !== t)
            }, lostTip: function () {
                var t, e = {original: "", current: ""};
                if (null === (t = this.cardInfo) || void 0 === t ? void 0 : t.display) {
                    var i;
                    if (this.cardInfo.display.add_on_card_info) {
                        var n, o = this.cardInfo.display.add_on_card_info[0];
                        o && 6 === o.add_on_card_show_type && 1 === (null === (n = o.reserve_attach_card) || void 0 === n ? void 0 : n.state) && (e.current = "原预约信息已删除")
                    }
                    if (null === (i = this.cardInfo.display.origin) || void 0 === i ? void 0 : i.add_on_card_info) {
                        var r, a = this.cardInfo.display.origin.add_on_card_info[0];
                        a && 6 === a.add_on_card_show_type && 1 === (null === (r = a.reserve_attach_card) || void 0 === r ? void 0 : r.state) && (e.original = "原预约信息已删除")
                    }
                }
                return e
            }, getPageSpmid: function () {
                try {
                    return window.document.querySelector("[name=spm_prefix]").content
                } catch (t) {
                    return ""
                }
            }, isRepost: function () {
                return this.cardInfo.desc.type === Dt.a.REPOST
            }, isShareTag: function () {
                return 0 === this.cardInfo.desc.r_type
            }, isBangumiLike: function () {
                return -1 !== [Dt.a.FILM, Dt.a.TV, Dt.a.DOCUMENTARY, Dt.a.BANGUMI, Dt.a.COLLECTION].indexOf(this.originType)
            }, showOriginUserFocusButton: function () {
                return !this.isBangumiLike
            }, cardOrigin: function () {
                return this.isRepost ? Object(d.e)(this.card.origin) : this.card
            }, originType: function () {
                return this.isRepost ? this.cardInfo.desc.orig_type : this.cardInfo.desc.type
            }, isLivePlayback: function () {
                var t, e, i, n, o;
                return (null === (t = this.cardInfo) || void 0 === t || null === (e = t.desc) || void 0 === e || null === (i = e.origin) || void 0 === i ? void 0 : i.stype) ? 2 === this.cardInfo.desc.origin.stype : !!(null === (n = this.cardInfo) || void 0 === n || null === (o = n.desc) || void 0 === o ? void 0 : o.stype) && 2 === this.cardInfo.desc.stype
            }, isSupportBizType: function () {
                return this.cardOrigin.sketch && -1 === [].indexOf(this.cardOrigin.sketch.biz_type)
            }, isSupportCardType: function () {
                return this.originType === Dt.a.SUBSCRIPTION && "live_room" !== this.card.type || (this.originType === Dt.a.H5_SHARE || this.originType === Dt.a.COMIC_SHARE ? this.isSupportBizType : -1 !== Object.values(Dt.a).indexOf(this.originType) && this.originalCardInfo && (this.originalCardInfoContent || this.originalCardInfo.face || this.originalCardInfo.name || this.originalCardInfo.uid || this.originalCardInfo.url))
            }, userName: function () {
                return this.cardInfo.desc.user_profile.info.uname
            }, dynamicDetailUrl: function () {
                return this.isDetail ? "" : "".concat(y.a.T, "/").concat(this.cardInfo.desc.dynamic_id, "?tab=2")
            }, originDynamicDetailUrl: function () {
                return !this.isDetail || this.isRepost || this.originType !== this.TYPES.NONE && this.originType !== this.TYPES.WORD && this.originType !== this.TYPES.PIC && this.originType !== this.TYPES.H5_SHARE && this.isSupportCardType ? this.originalCardInfo.url : ""
            }, avatarStyle: function () {
                return {"background-image": "url(".concat(Object(m.bfsImgLink)(Object(d.g)(this.originalCardInfo.face), 24, 24), ")")}
            }, isFocus: function () {
                return this.attentionList.indexOf(this.originalCardInfo.uid) > -1 || this.justFocus
            }, repostRiskContent: function () {
                return this.cardData.riskTip && this.cardData.riskTip.content
            }, originRiskContent: function () {
                return this.originalCardInfo.riskTip && this.originalCardInfo.riskTip.content
            }, isSelf: function () {
                return this.originalCardInfo.uid === this.myUid
            }, hasShopCard: function () {
                return this.shopCardList.length > 0
            }, shopCardList: function () {
                return this.originalCardInfo.shopCards || []
            }, likeInfo: function () {
                return this.cardInfo.display && this.cardInfo.display.like_info || {}
            }, likeUsersPanelShow: function () {
                return this.likeInfo.like_users && this.likeInfo.like_users.length > 0
            }
        },
        components: {
            ImagesBox: H,
            CardArticle: Y,
            CardVideo: st,
            CardLive: vt,
            CardBangumi: yt,
            CardH5Share: _t,
            CardComicShare: Ct,
            CardMusic: kt,
            CardVote: St,
            CardSubscription: Tt,
            CardMediaList: jt,
            FoldingText: $t,
            RiskTip: Ft,
            LostTip: Wt,
            CardCheese: Mt,
            ShopPanel: qt.a,
            LikeUsersPanel: Yt,
            CardLivePlayback: pt
        },
        created: function () {
            var t = this;
            this.getRepostContent(), this.originalCardInfo = Object(v.h)(this.cardInfo, this.isFake, this.regString), "server" === Object({
                NODE_ENV: "production",
                BASE_URL: "/"
            }).VUE_ENV ? this.originalCardInfoContent = Object(h.k)(this.originalCardInfo.contentArray, this.originalCardInfo.renderOpts) : (Object(h.l)(this.originalCardInfo.contentArray, this.originalCardInfo.renderOpts).then((function (e) {
                t.originalCardInfoContent = e
            })), Object(h.l)(this.originalCardInfo.clipContentArray, this.originalCardInfo.renderOpts).then((function (e) {
                t.clipOriginalCardInfoContent = e
            })))
        },
        watch: {
            cardInfo: {
                handler: function () {
                    this.originalCardInfo = Object(v.h)(this.cardInfo, this.isFake, this.regString)
                }, deep: !0
            }
        },
        beforeDestroy: function () {
            Object(v.i)(window, "message", this.iframeChangeMessageHandler)
        },
        mounted: function () {
            this.containerDOM = this.findAncestor("card") || this.$el, this.originType === Dt.a.CLIP && this.initVcPlayer(), v.c.getIsNeedCardPopup() && (this.$refs.username && Object(f.a)(this.originalCardInfo.uid, this.$refs.cardcontent, this.$refs.username), this.$refs.userhead && Object(f.a)(this.originalCardInfo.uid, this.$refs.cardcontent, this.$refs.userhead)), h.b.$on(Dt.b.IFRAME_WRAPPER_CLICK, this.onWrapperClick), Object(v.a)(window, "message", this.iframeChangeMessageHandler, !1)
        },
        filters: {
            formatMinutes: function (t) {
                var e = t % 60;
                return e < 10 && (e = "0" + e), Math.floor(t / 60).toString() + ":" + e.toString()
            }
        },
        methods: {
            extendImageLogHandler: function () {
                Object(p.d)(Dt.d.CARD_BPM, Object.assign({like_show_area: this.likeUsersPanelShow ? 1 : 0}, Object(v.f)(this.cardInfo)))
            }, seeLaterLogHandler: function (t) {
                t ? Object(p.d)(Dt.d.CARD_WATCH_LATER_CANCEL, Object(v.f)(this.cardInfo)) : Object(p.d)(Dt.d.CARD_WATCH_LATER, Object(v.f)(this.cardInfo))
            }, originImageLogHandler: function () {
                Object(p.d)(Dt.d.CARD_ORIGINAL_PIC, Object(v.f)(this.cardInfo))
            }, getRepostContent: function () {
                var t = this;
                if (this.card.item) {
                    var e = Object(h.o)(this.card.item.content, {
                        ctrlJson: this.card.item.ctrl,
                        extendCtrlJson: this.cardInfo.extend_json,
                        dynamicId: this.cardInfo.desc.dynamic_id
                    }, this.regString), i = this.card.item.content;
                    i = Object(ie.a)(i, 6);
                    var n = Object(h.o)(i, {
                        ctrlJson: this.card.item.ctrl,
                        extendCtrlJson: this.cardInfo.extend_json
                    }, this.regString);
                    "server" === Object({
                        NODE_ENV: "production",
                        BASE_URL: "/"
                    }).VUE_ENV ? this.repostContent = Object(h.k)(e, {
                        ctrlJson: this.card.item.ctrl,
                        extendCtrlJson: this.cardInfo.extend_json,
                        dynamicId: this.cardInfo.desc.dynamic_id,
                        display: this.cardInfo.display
                    }) : (Object(h.l)(e, {
                        ctrlJson: this.card.item.ctrl,
                        extendCtrlJson: this.cardInfo.extend_json,
                        dynamicId: this.cardInfo.desc.dynamic_id,
                        display: this.cardInfo.display
                    }).then((function (e) {
                        t.repostContent = e
                    })), Object(h.l)(n, {
                        ctrlJson: this.card.item.ctrl,
                        extendCtrlJson: this.cardInfo.extend_json,
                        dynamicId: this.cardInfo.desc.dynamic_id,
                        display: this.cardInfo.display
                    }).then((function (e) {
                        t.clipRepostContent = e
                    })))
                }
            }, findAncestor: function (t) {
                for (var e = this.$el; e && e.classList && !e.classList.contains(t);) e = e.parentElement;
                return e
            }, iframeChangeMessageHandler: function (t) {
                var e = t.data;
                if (/^bp-dynamic-iframe-update:/.test(e)) {
                    var i = JSON.parse(e.replace(/^bp-dynamic-iframe-update:/, ""));
                    this.extensionIframeTitle = i.title
                }
            }, initVcPlayer: function () {
                var t = this;
                if (this.$refs.vcCtnr) if (window.LinkPlayer) this.afterInitVcPlayer(); else {
                    u()("//s1.hdslb.com/bfs/static/player/live/link/player-1.4.5.min.js").then((function () {
                        t.afterInitVcPlayer()
                    }))
                }
            }, afterInitVcPlayer: function () {
                var t = this, e = window.LinkPlayer;
                this.vcPlayer = new e(this.$refs.vcCtnr, {
                    videoId: this.cardOrigin.item.id,
                    playurl: Object(d.g)(this.cardOrigin.item.video_playurl) + "&rand=" + Math.floor(1e7 * Math.random()),
                    backupUrl: this.cardOrigin.item.backup_playurl || [],
                    initTime: this.cardOrigin.item.video_time,
                    endingType: 1,
                    danmakuSize: .7,
                    autoPlay: !1,
                    onInitialized: function () {
                    },
                    beforePlaying: function () {
                        Object(p.d)(Dt.d.CARD_VC_PLAY, Object(v.f)(t.cardInfo)), Qt({
                            videoId: t.cardOrigin.item.id,
                            player: t.vcPlayer
                        }), t.vcPlayed = !0
                    },
                    onPaused: function () {
                        te()
                    },
                    onEnded: function () {
                        te()
                    },
                    onError: function () {
                        t.vcError = !0
                    }
                }), this.vcPlayer.volume && this.vcPlayer.volume(0), this.registerVcEvents()
            }, playVc: function () {
                this.vcPlayer && this.vcPlayer.play && this.vcPlayer.play()
            }, registerVcEvents: function () {
                var t = this;
                h.b.$on(Dt.b.SCROLL, (function () {
                    t.handleScroll()
                })), this.handleScroll()
            }, isInViewport: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = this.$refs.vcCtnr;
                if (!e) return !1;
                var i = e.getBoundingClientRect().top, n = e.offsetHeight, o = window.innerHeight;
                return i + n + t <= o && i - t > 0
            }, handleScroll: function () {
                var t = this;
                if ("SafariMobile" !== Object(d.d)()) if (this.isInViewport() && !this.inViewport) this.inViewport = !0, setTimeout((function () {
                    t.inViewport && Zt({videoId: t.cardOrigin.item.id, player: t.vcPlayer})
                }), 800); else if (!this.isInViewport() && this.inViewport) {
                    var e = ee();
                    this.inViewport = !1, null !== e && e.videoId === this.cardOrigin.item.id && setTimeout((function () {
                        t.isFullscreen() || t.vcPlayer.pause()
                    }), 100), Xt(this.cardOrigin.item.id)
                }
            }, isFullscreen: function () {
                return !!(document.fullscreen || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement)
            }, originDescMouseEnter: function () {
                this.originalCardInfo.url && this.originDynamicDetailUrl && (this.originDescHovered = !0)
            }, originDescMouseLeave: function () {
                this.originDescHovered = !1
            }, repostDescMouseEnter: function () {
                this.dynamicDetailUrl && this.dynamicDetailUrl && (this.repostDescHovered = !0)
            }, repostDescMouseLeave: function () {
                this.repostDescHovered = !1
            }, detailLogHandler: function () {
                this.dynamicDetailUrl && Object(p.d)(Dt.d.CARD_CLICK, Object.assign({
                    like_show_area: this.likeUsersPanelShow ? 1 : 0,
                    card_type: Object(p.a)(Dt.a.REPOST).card_type,
                    card_id: this.cardInfo.desc.dynamic_id,
                    tag_type: v.c.getCurrentType()
                }, this.isGuest ? {nologin: 1} : {}))
            }, focusHandler: function () {
                var t = this;
                return oe(c.a.mark((function e() {
                    return c.a.wrap((function (e) {
                        for (; ;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Object(m.quickLogin)((function () {
                                    Object(p.d)(Dt.d.LOGIN_SUCCESS, {from: t.spmPageTypeString})
                                }));
                            case 2:
                                if (e.sent) {
                                    e.next = 5;
                                    break
                                }
                                return e.abrupt("return");
                            case 5:
                                if (!t.isFocus) {
                                    e.next = 8;
                                    break
                                }
                                return t.bpPopup({
                                    title: "取消关注",
                                    content: "真的要取消对 ".concat(t.originalCardInfo.name, " 的关注吗？"),
                                    button: {confirm: "取消关注", cancel: "点错了~"}
                                }).onConfirm((function (e) {
                                    t.bpapi({
                                        method: "post",
                                        url: "".concat(y.a.API_MAIN, "/x/relation/modify"),
                                        data: {act: 2, fid: t.originalCardInfo.uid, spmid: t.getPageSpmid, re_src: 0}
                                    }).then((function () {
                                        t.justFocus = !1, h.r.deleteFromMyAttentionList(t.originalCardInfo.uid), t.linkMsg(e.confirmBtn, "取消了对 ".concat(t.originalCardInfo.name, " 的关注"), "success"), e.close()
                                    }), function () {
                                        var i = oe(c.a.mark((function i(n) {
                                            return c.a.wrap((function (i) {
                                                for (; ;) switch (i.prev = i.next) {
                                                    case 0:
                                                        t.linkMsg(t.$refs.follow, n.msg, n.type), e.close();
                                                    case 2:
                                                    case"end":
                                                        return i.stop()
                                                }
                                            }), i)
                                        })));
                                        return function (t) {
                                            return i.apply(this, arguments)
                                        }
                                    }())
                                })).onCancel((function (t) {
                                    t.close()
                                })), e.abrupt("return");
                            case 8:
                                t.bpapi({
                                    method: "post",
                                    url: "".concat(y.a.API_MAIN, "/x/relation/modify"),
                                    data: {act: 1, fid: t.originalCardInfo.uid, spmid: t.getPageSpmid, re_src: 0}
                                }).then((function () {
                                    t.justFocus = !0, h.r.insertToMyAttentionList(t.originalCardInfo.uid), t.linkMsg(t.$refs.follow, "关注成功", "success")
                                }), function () {
                                    var e = oe(c.a.mark((function e(i) {
                                        return c.a.wrap((function (e) {
                                            for (; ;) switch (e.prev = e.next) {
                                                case 0:
                                                    t.linkMsg(t.$refs.follow, i.msg, i.type);
                                                case 1:
                                                case"end":
                                                    return e.stop()
                                            }
                                        }), e)
                                    })));
                                    return function (t) {
                                        return e.apply(this, arguments)
                                    }
                                }());
                            case 9:
                            case"end":
                                return e.stop()
                        }
                    }), e)
                })))()
            }, repostLogHandler: function () {
                Object(p.d)(Dt.d.CARD_ATCLICK, Object(v.f)(this.cardInfo))
            }, originNameLogHandler: function () {
                Object(p.d)(Dt.d.CARD_SHARE_NICKNAME, this.originalCardInfo.name)
            }, originCardLogHandler: function () {
                this.originalCardInfo.url && (Object(p.d)(Dt.d.CARD_CLICK, Object.assign({like_show_area: this.likeUsersPanelShow ? 1 : 0}, Object(v.f)(this.cardInfo), this.isGuest ? {nologin: 1} : {})), this.currentType === Dt.a.HOT && this.bpapi({
                    method: "post",
                    url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                    data: {report_type: 6, uid: h.r.getUid(), dynamic_id: this.cardInfo.desc.dynamic_id}
                }))
            }, onWrapperClick: function (t, e) {
                if (!e || e === this.cardInfo.desc.dynamic_id) {
                    var i = t.srcElement || t.originalTarget || t.target, n = i.getAttribute("click-href"),
                        o = i.getAttribute("click-title"), r = i.getAttribute("shop-item-id");
                    if (r) {
                        var a = Object(v.f)(this.cardInfo, {item_id: r});
                        Object(p.d)(Dt.d.ITEM_CLICK, a), t.stopPropagation()
                    } else n && o && (t.preventDefault(), t.stopPropagation(), this.showIframe(n, o))
                }
            }, onVoteCardClick: function () {
                this.showIframe(this.originalCardInfo.voteInfo.url, "投票")
            }, initIframe: function () {
                var t = new o.a({
                    template: '<extension-iframe :show="extensionIframeShown" :url="extensionIframeUrl" :title="extensionIframeTitle" @close="closeIframe"></extension-iframe>',
                    components: {ExtensionIframe: zt},
                    data: function () {
                        return {extensionIframeUrl: "", extensionIframeShown: !1, extensionIframeTitle: ""}
                    },
                    methods: {closeIframe: this.closeIframe}
                });
                this.iframeInstance = t
            }, showIframe: function (t, e) {
                this.initIframe();
                var i = this.popupDom || this.$refs.iframeDom, n = document.createElement("div");
                i.appendChild(n), this.iframeInstance.extensionIframeShown = !0, this.iframeInstance.extensionIframeUrl = t, this.iframeInstance.extensionIframeTitle = e, this.iframeDom = this.iframeInstance.$mount(n).$el, Object(p.d)(this.originalCardInfo.hasLottery ? Dt.d.LOTTERY_RETWEET : this.originalCardInfo.voteInfo ? Dt.d.POLLCLICK : void 0, Object(v.f)(this.cardInfo))
            }, closeIframe: function () {
                var t = this;
                this.iframeInstance && (this.iframeInstance.extensionIframeShown = !1, setTimeout((function () {
                    t.iframeDom.parentNode.removeChild(t.iframeDom), t.iframeInstance.$destroy(), t.iframeInstance = null
                }), 200))
            }, gotoDetail: function () {
                var t = this.dynamicDetailUrl;
                this.needRefresh && (this.isDetail ? location.reload(!0) : window.open(t))
            }
        }
    }, ae = (i(375), Object(A.a)(re, (function () {
        var t = this, e = t.$createElement, n = t._self._c || e;
        return n("div", {
            ref: "cardcontent",
            staticClass: "card-content",
            on: {click: t.onWrapperClick}
        }, [t.isRepost && t.repostRiskContent ? n("risk-tip", {attrs: {content: t.repostRiskContent}}) : t._e(), t.isRepost && t.repostContent ? n("folding-text", {
            staticClass: "description",
            class: {active: t.repostDescHovered},
            attrs: {
                text: t.repostContent,
                "clip-text": t.clipRepostContent,
                "pure-text": t.repostContent ? t.card.item.content : "",
                type: t.TYPES.REPOST,
                "is-detail": t.isDetail,
                "click-log-handler": t.repostLogHandler,
                url: t.dynamicDetailUrl
            },
            on: {mouseenter: t.repostDescMouseEnter, mouseleave: t.repostDescMouseLeave, click: t.detailLogHandler}
        }) : t._e(), n("div", {
            staticClass: "post-content",
            class: {repost: t.isRepost},
            attrs: {"data-ori-did": t.cardInfo.desc.orig_dy_id}
        }, [t.originType === t.TYPES.NONE ? n("div", {staticClass: "deleted"}, [n("p", {staticClass: "tc-slate p-rel"}, [n("i", {staticClass: "bp-icon-font icon-gantan-01 deleted-icon"}), n("span", {
            staticClass: "deleted-text",
            on: {click: t.gotoDetail}
        }, [t._v(t._s(t.errorTips))])])]) : t.isSupportCardType ? n("div", {staticClass: "original-card-content"}, [t.isRepost && !t.showOriginUserFocusButton ? n("div", {staticClass: "original-poster"}, [n("a", {
            staticClass: "username d-i-block",
            attrs: {href: t.originalCardInfo.title_url, target: "_blank"},
            on: {click: t.originNameLogHandler}
        }, [t._v(t._s(t.originalCardInfo.name))]), n("div", {staticClass: "original-poster-tip"}, [t._v(t._s(t.originalCardInfo.type_desc))])]) : t._e(), t.isRepost && t.showOriginUserFocusButton ? n("div", {staticClass: "up-info"}, [n("a", {
            ref: "userhead",
            staticClass: "up-info-avatar",
            style: t.avatarStyle,
            attrs: {href: t.HOST.SPACE + "/" + t.originalCardInfo.uid + "/dynamic", target: "_blank"},
            on: {click: t.originNameLogHandler}
        }), n("a", {
            ref: "username",
            staticClass: "username d-i-block up-info-name",
            attrs: {href: t.HOST.SPACE + "/" + t.originalCardInfo.uid + "/dynamic", target: "_blank"},
            on: {click: t.originNameLogHandler}
        }, [t._v(t._s(t.originalCardInfo.name))]), n("div", {staticClass: "up-info-tip"}, [t._v(t._s(t.originalCardInfo.type_desc))]), t.isSelf || !t.justFocus && t.isFocus ? t._e() : n("button", {
            ref: "follow",
            staticClass: "up-focus-btn",
            class: {"is-focus": t.isFocus},
            on: {click: t.focusHandler}
        }, [t._v(t._s(t.isFocus ? "已关注" : "关注"))])]) : t._e(), t.originRiskContent ? n("risk-tip", {attrs: {content: t.originRiskContent}}) : t._e(), t.originalCardInfoContent && t.originalCardInfoContent ? n("folding-text", {
            staticClass: "description",
            class: {active: t.originDescHovered},
            attrs: {
                text: t.originalCardInfoContent,
                "clip-text": t.clipOriginalCardInfoContent,
                "pure-text": t.originalCardInfo.pureText,
                type: t.originType,
                "is-detail": t.isDetail,
                "is-repost": t.isRepost,
                "click-log-handler": t.repostLogHandler,
                url: t.originDynamicDetailUrl
            },
            on: {mouseenter: t.originDescMouseEnter, mouseleave: t.originDescMouseLeave, click: t.originCardLogHandler}
        }) : t._e(), t.CardTypeIs.Vote ? n("card-vote", {
            attrs: {
                content: t.originalCardInfo.voteInfo.title,
                desc: t.originalCardInfo.voteInfo.desc
            }, on: {click: t.onVoteCardClick}
        }) : t._e(), [t.CardTypeIs.Pic ? n("images-box", {
            attrs: {
                "extend-callback": t.extendImageLogHandler,
                "origin-callback": t.originImageLogHandler,
                images: t.originalCardInfo.images,
                parentDOM: t.containerDOM,
                "show-img-tag": !0,
                "dynamic-id": t.cardInfo.desc.dynamic_id,
                "spm-page-type-string": t.spmPageTypeString
            }
        }) : t.CardTypeIs.Video ? n("card-video", {
            attrs: {
                "see-later-callback": t.seeLaterLogHandler,
                "link-callback": t.originCardLogHandler,
                preview: !0,
                image: t.originalCardInfo.image,
                title: t.originalCardInfo.title,
                content: t.originalCardInfo.desc,
                aid: t.originalCardInfo.aid,
                duration: t.originalCardInfo.duration,
                view: t.originalCardInfo.view,
                danmaku: t.originalCardInfo.danmaku,
                link: t.originalCardInfo.url,
                "need-pay": t.originalCardInfo.needPay,
                "is-cooperation": t.originalCardInfo.isCooperation
            }
        }) : t.CardTypeIs.Collection ? n("card-video", {
            attrs: {
                "see-later-callback": t.seeLaterLogHandler,
                "link-callback": t.originCardLogHandler,
                preview: !0,
                tag: t.originalCardInfo.tag,
                image: t.originalCardInfo.cover,
                title: t.originalCardInfo.title,
                content: t.originalCardInfo.desc,
                aid: t.originalCardInfo.aid,
                duration: t.originalCardInfo.duration,
                view: t.originalCardInfo.play_count,
                danmaku: t.originalCardInfo.bullet_count,
                link: t.originalCardInfo.url,
                "need-pay": t.originalCardInfo.needPay,
                "is-cooperation": t.originalCardInfo.isCooperation
            }
        }) : t.CardTypeIs.LivePlayBack ? n("card-live-playback", {
            attrs: {
                "see-later-callback": t.seeLaterLogHandler,
                "link-callback": t.originCardLogHandler,
                preview: !0,
                image: t.originalCardInfo.image,
                title: t.originalCardInfo.title,
                content: t.originalCardInfo.desc,
                aid: t.originalCardInfo.aid,
                duration: t.originalCardInfo.duration,
                view: t.originalCardInfo.view,
                danmaku: t.originalCardInfo.danmaku,
                link: t.originalCardInfo.url,
                "need-pay": t.originalCardInfo.needPay,
                "is-cooperation": t.originalCardInfo.isCooperation
            }
        }) : t.CardTypeIs.Clip ? n("div", {staticClass: "p-rel vc-ctnr"}, [n("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.vcPlayed,
                expression: "!vcPlayed"
            }],
            staticClass: "vc-cover",
            style: {backgroundImage: "url(" + t.originalCardInfo.cover + ")"},
            on: {click: t.playVc}
        }, [n("span", {staticClass: "duration"}, [t._v(t._s(t._f("formatMinutes")(t.originalCardInfo.duration)))]), n("div", {staticClass: "play-area"}, [n("img", {
            staticClass: "play-btn",
            attrs: {src: i(344)}
        })])]), n("div", {
            ref: "vcCtnr",
            staticClass: "vc-video"
        })]) : t.CardTypeIs.Article ? n("card-article", {
            attrs: {
                "link-callback": t.originCardLogHandler,
                images: t.originalCardInfo.images,
                title: t.originalCardInfo.title,
                content: t.originalCardInfo.desc,
                link: t.originalCardInfo.url
            }
        }) : t.CardTypeIs.Music ? n("card-music", {
            attrs: {
                "link-callback": t.originCardLogHandler,
                link: t.originalCardInfo.url,
                image: t.originalCardInfo.cover,
                content: t.originalCardInfo.title,
                desc: t.originalCardInfo.desc
            }
        }) : t.CardTypeIs.Bangumi ? n("card-bangumi", {
            attrs: {
                "link-callback": t.originCardLogHandler,
                image: t.originalCardInfo.cover,
                title: t.originalCardInfo.title,
                content: t.originalCardInfo.desc,
                view: t.originalCardInfo.play_count,
                danmaku: t.originalCardInfo.bullet_count,
                link: t.originalCardInfo.url,
                tags: t.originalCardInfo.tags
            }
        }) : t.CardTypeIs.H5Share ? n("card-h5-share", {
            attrs: {
                link: t.originalCardInfo.target_url,
                image: t.originalCardInfo.cover,
                content: t.originalCardInfo.title,
                desc: t.originalCardInfo.desc,
                tag: t.originalCardInfo.tag
            }
        }) : t.CardTypeIs.ComicShare ? n("card-comic-share", {
            attrs: {
                link: t.originalCardInfo.target_url,
                cover: t.originalCardInfo.cover,
                title: t.originalCardInfo.title,
                content: t.originalCardInfo.tagsText,
                author: t.originalCardInfo.author,
                desc: t.originalCardInfo.desc,
                tags: t.originalCardInfo.tag
            }
        }) : t.CardTypeIs.Live ? n("card-live", {
            attrs: {
                link: t.originalCardInfo.url,
                "cover-url": t.originalCardInfo.cover,
                "show-view-num": t.originalCardInfo.show_view_num,
                "view-num": t.originalCardInfo.view_num,
                title: t.originalCardInfo.title,
                "area-name": t.originalCardInfo.area_name,
                status: t.originalCardInfo.status,
                "link-callback": t.originCardLogHandler
            }
        }) : t.CardTypeIs.Subscription ? n("card-subscription", {attrs: {data: t.card}}) : t.CardTypeIs.MediaList ? n("card-media-list", {
            attrs: {
                link: t.originalCardInfo.url,
                cover: t.originalCardInfo.cover,
                "cover-type": t.originalCardInfo.coverType,
                title: t.originalCardInfo.title,
                description: t.originalCardInfo.description,
                "content-count": t.originalCardInfo.contentCount,
                "link-callback": t.originCardLogHandler
            }
        }) : t.CardTypeIs.Cheese ? n("card-cheese", {
            attrs: {
                "link-callback": t.originCardLogHandler,
                image: t.originalCardInfo.image,
                title: t.originalCardInfo.title,
                subtitle: t.originalCardInfo.subtitle,
                content: t.originalCardInfo.desc,
                link: t.originalCardInfo.url,
                "is-update": t.originType === t.TYPES.CHEESE_UPDATE
            }
        }) : t._e(), t.hasShopCard ? n("shop-panel", {
            attrs: {
                "shop-card-list": t.shopCardList,
                "is-repost": t.isRepost,
                "card-info": t.cardInfo
            }
        }) : t._e(), t.originalCardInfo.originAttachCard ? n("shop-panel", {
            attrs: {
                "shop-card-list": t.originalCardInfo.originAttachCard,
                "is-repost": t.isRepost,
                "card-info": t.cardInfo
            }
        }) : t._e(), t.lostTip.original ? n("lost-tip", {attrs: {white: !0}}, [t._v(t._s(t.lostTip.original))]) : t._e()]], 2) : n("div", {staticClass: "not-support"}, [t._m(0)])]), t.originalCardInfo.attachCard ? n("shop-panel", {
            attrs: {
                "shop-card-list": t.originalCardInfo.attachCard,
                "is-repost": !1,
                "card-info": t.cardInfo
            }
        }) : t._e(), t.lostTip.current ? n("lost-tip", [t._v(t._s(t.lostTip.current))]) : t._e(), t.likeUsersPanelShow ? n("like-users-panel", {
            attrs: {
                uid: t.myUid,
                "dynamic-id": t.cardInfo.desc.dynamic_id,
                "like-info": t.likeInfo
            }
        }) : t._e(), n("div", {ref: "iframeDom"})], 1)
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("p", {staticClass: "tc-slate p-rel"}, [e("i", {staticClass: "bp-icon-font icon-jinz-01 forbidden-icon"}), e("span", {staticClass: "forbidden-text"}, [this._v("暂不支持此类动态显示")])])
    }], !1, null, "edcecd92", null).exports);
    i(78);
    var se = i(66), ce = i(22), le = i(115);

    function ue(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var de = {
        data: function () {
            return {
                loading: !1,
                boxText: "",
                wordLength: 0,
                maxLength: 233,
                isExceed: !1,
                sendDynId: "",
                emojiBoxShown: !1,
                isChildForward: !1,
                isMounted: !1,
                atItems: [],
                contentAtItems: [],
                loginInfo: h.r.getMyLoginInfo(),
                userInfo: h.r.getMyUserInfo(),
                pageType: v.c.getPageType()
            }
        }, props: {
            textareaWidth: {type: Number, default: 0}, forwInfo: {
                type: Object, default: function () {
                    return {content: "", atUsers: []}
                }
            }, cardInfo: {type: Object}, feedCurrentType: {type: Number, default: 0}
        }, components: {EmojiBox: se.a, AtPopup: le.a}, methods: {
            getAreaHeight: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 180, e = this.$refs.textarea,
                    i = 40, n = 0;
                this.$nextTick((function () {
                    e.style.cssText += "height: ".concat(i, "px;");
                    var o = (n = e.scrollHeight > i ? t > e.scrollHeight ? e.scrollHeight : t : 25) >= t ? "auto" : "hidden";
                    e.style.cssText += "height: ".concat(n, "px; overflow: ").concat(o, ";")
                }))
            }, sendMsg: function () {
                var t = this;
                if (Object(p.d)(Dt.d.CARD_SHARE_2, Object(v.f)(this.cardInfo)), this.loginInfo.isLogin && !this.isExceed && !this.loading) {
                    var e = Object(ce.c)(this.boxText);
                    0 === e.length && (e = "转发动态");
                    var i = {
                        uid: h.r.getUid(),
                        dynamic_id: this.sendDynId,
                        content: e,
                        extension: JSON.stringify({emoji_type: 1})
                    }, n = h.a.generateAtParams(e, this.contentAtItems, this.atItems), o = n.atUids, r = n.ctrl;
                    i.at_uids = o, i.ctrl = r;
                    var a = {url: y.a.API_VC + "/dynamic_repost/v1/dynamic_repost/repost", method: "post", data: i};
                    this.loading = !0, this.bpapi(a).then((function (i) {
                        if (t.loading = !1, 0 === i.data.result) t.atItems = [], t.contentAtItems = [], t.$nextTick((function () {
                            h.b.$emit(Dt.b.INSERT_FORWARDING, {
                                extend_json: JSON.stringify({from: {emoji_type: 1}}),
                                desc: {
                                    timestamp: Math.floor((new Date).getTime() / 1e3),
                                    uid: h.r.getUid(),
                                    user_profile: {info: {uname: t.userInfo.card.name, face: t.userInfo.card.face}},
                                    dynamic_id: i.data.dynamic_id
                                },
                                card: JSON.stringify({item: {content: e}})
                            }, t.cardInfo.desc.dynamic_id, t.isChildForward)
                        })), setTimeout((function () {
                            t.linkMsg(t.$refs.submitbtn, "发送成功", "success")
                        }), 500), t.boxText = "", t.feedCurrentType === Dt.a.HOT && t.bpapi({
                            method: "post",
                            url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                            data: {report_type: 3, uid: h.r.getUid(), dynamic_id: t.cardInfo.desc.dynamic_id}
                        }), h.b.$emit(Dt.b.SET_TOP, t.cardInfo.desc.dynamic_id); else {
                            if (2 === i.data.result) return Object(m.showVerifyPopup)(t);
                            t.linkMsg(t.$refs.submitbtn, i.data.errmsg, "caution")
                        }
                    }), (function (e) {
                        t.loading = !1, t.linkMsg(t.$refs.submitbtn, e.msg, e.type)
                    }))
                }
            }, quickLogin: function () {
                return (t = c.a.mark((function t() {
                    return c.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Object(m.quickLogin)();
                            case 2:
                            case"end":
                                return t.stop()
                        }
                    }), t)
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            ue(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            ue(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })();
                var t
            }, textareaMove: function (t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    i = arguments.length > 2 ? arguments[2] : void 0;
                if (e = e || 0, i = i || 0, t.createTextRange) {
                    var n = t.createTextRange();
                    n.collapse(!0), n.moveStart("character", e), n.moveEnd("character", i), n.select()
                } else {
                    var o = 0 === i ? e : i;
                    t.setSelectionRange(e, o), t.focus()
                }
            }, forwardHandler: function (t, e) {
                var i = this;
                if (e === this.cardInfo.desc.dynamic_id) {
                    this.isChildForward = t.isChildForward, this.boxText = t.comment, this.sendDynId = t.dynId, this.contentAtItems = t.atUsers;
                    var n = this.$refs.textarea;
                    if (!n) return;
                    this.$nextTick((function () {
                        i.textareaMove(n, 0, 0)
                    }))
                }
            }, validate: function () {
                return !this.emojiBoxShown
            }, selectHandler: function (t) {
                var e = this.boxText, i = this.$refs.textarea.selectionEnd, n = e.substring(0, i), o = e.substring(i),
                    r = n.lastIndexOf("@");
                n = n.substring(0, r + 1), this.boxText = "".concat(n).concat(t.uname, " ").concat(o), this.atItems.push(t)
            }, logHandler: function () {
                Object(p.d)(Dt.d.PUBLISH_AT_LIST_SHOW, Object(v.f)(this.cardInfo))
            }
        }, watch: {
            boxText: function () {
                this.getAreaHeight(), this.wordLength = this.boxText.length, this.isExceed = this.wordLength > this.maxLength, 0 === this.wordLength && (this.sendDynId = this.cardInfo.desc.dynamic_id, this.isChildForward = !1)
            }
        }, mounted: function () {
            var t = this;
            this.isMounted = !0;
            var e = this.$refs.textarea;
            this.loginInfo.isLogin && "" === this.boxText && this.cardInfo.desc.type === Dt.a.REPOST && (this.boxText = this.forwInfo.content, this.contentAtItems = this.forwInfo.atUsers, this.$nextTick((function () {
                t.textareaMove(e, 0, 0)
            }))), this.$nextTick((function () {
                e && t.loginInfo.isLogin && e.focus()
            })), this.sendDynId = this.cardInfo.desc.dynamic_id, this.getAreaHeight(), h.b.$on(Dt.b.FORWARD_DYNAMIC, this.forwardHandler)
        }
    }, he = (i(376), Object(A.a)(de, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "f-left textarea-container"}, [t.loginInfo.isLogin ? t._e() : i("div", {
            staticClass: "comm-nologin",
            style: {width: t.textareaWidth + "px"}
        }, [t._v("请先"), i("a", {
            staticClass: "loginBtn",
            on: {click: t.quickLogin}
        }, [t._v("登录")]), t._v("后转发 (・ω・)")]), i("textarea", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: t.boxText,
                expression: "boxText"
            }],
            ref: "textarea",
            staticClass: "textarea",
            style: {width: t.textareaWidth + "px"},
            attrs: {spellcheck: "false", placeholder: "请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。"},
            domProps: {value: t.boxText},
            on: {
                input: function (e) {
                    e.target.composing || (t.boxText = e.target.value)
                }
            }
        }), t.isMounted ? i("at-popup", {
            attrs: {
                "input-elm": t.$refs.textarea,
                "select-handler": t.selectHandler,
                validate: t.validate,
                "log-handler": t.logHandler
            }
        }) : t._e(), i("div", {staticClass: "comm-tool f-clear"}, [i("div", {
            ref: "emojiTrigger",
            staticClass: "comm-emoji f-left",
            class: {exceed: t.isExceed || !t.loginInfo.isLogin},
            on: {
                click: function (e) {
                    t.emojiBoxShown = t.loginInfo.isLogin && !0
                }
            }
        }, [i("i", {staticClass: "dynamic-comm-icon icon-face"}), i("span", {staticClass: "comm-text"}, [t._v("表情")]), t.emojiBoxShown ? i("emoji-box", {
            staticClass: "bp-emoji-box",
            attrs: {
                field: t.$refs.textarea,
                "frozen-elements": [t.$refs.textarea, t.$refs.emojiTrigger],
                "emoji-type": ["kaomojis", "dynamicEmojis"],
                "spm-type": t.pageType
            },
            on: {
                close: function (e) {
                    t.emojiBoxShown = !1
                }
            }
        }) : t._e()], 1), i("div", {
            ref: "submitbtn",
            staticClass: "comm-submit f-right",
            class: {exceed: t.isExceed || !t.loginInfo.isLogin},
            on: {click: t.sendMsg}
        }, [t._v("转发")]), i("div", {staticClass: "comm-word f-right"}, [i("span", {class: {exceed: t.isExceed}}, [t._v(t._s(t.wordLength))]), i("span", [t._v("/" + t._s(t.maxLength))])])])], 1)
    }), [], !1, null, "61311d32", null).exports), fe = (i(377), i(65), i(114));

    function pe(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var me = {
        data: function () {
            return {
                loading: !1,
                boxText: "",
                wordLength: 0,
                maxLength: 233,
                isExceed: !1,
                sendDynId: "",
                emojiBoxShown: !1,
                isChildForward: !1,
                atItems: [],
                contentAtItems: [],
                loginInfo: h.r.getMyLoginInfo(),
                userInfo: h.r.getMyUserInfo(),
                pageType: v.c.getPageType()
            }
        }, props: {
            textareaWidth: {type: Number, default: 0}, forwInfo: {
                type: Object, default: function () {
                    return {content: "", atUsers: []}
                }
            }, cardInfo: {type: Object}, feedCurrentType: {type: Number, default: 0}
        }, components: {EmojiBox: se.a, AtPopup: fe.a}, methods: {
            getAreaHeight: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 180, e = this.$refs.textarea,
                    i = 40, n = 0;
                this.$nextTick((function () {
                    e.style.cssText += "height: ".concat(i, "px;");
                    var o = (n = e.scrollHeight > i ? t > e.scrollHeight ? e.scrollHeight : t : 25) >= t ? "auto" : "hidden";
                    e.style.cssText += "height: ".concat(n, "px; overflow: ").concat(o, ";")
                }))
            }, sendMsg: function () {
                var t = this;
                if (Object(p.d)(Dt.d.CARD_SHARE_2, Object(v.f)(this.cardInfo)), this.loginInfo.isLogin && !this.isExceed && !this.loading) {
                    var e = Object(ce.c)(this.boxText);
                    0 === e.length && (e = "转发动态");
                    var i = {
                        uid: h.r.getUid(),
                        dynamic_id: this.sendDynId,
                        content: e,
                        extension: JSON.stringify({emoji_type: 1})
                    }, n = h.a.generateAtParams(e, this.contentAtItems, this.atItems), o = n.atUids, r = n.ctrl;
                    i.at_uids = o, i.ctrl = r;
                    var a = {url: y.a.API_VC + "/dynamic_repost/v1/dynamic_repost/repost", method: "post", data: i};
                    this.loading = !0, this.bpapi(a).then((function (i) {
                        if (t.loading = !1, 0 === i.data.result) t.atItems = [], t.contentAtItems = [], t.$nextTick((function () {
                            h.b.$emit(Dt.b.INSERT_FORWARDING, {
                                extend_json: JSON.stringify({from: {emoji_type: 1}}),
                                desc: {
                                    timestamp: Math.floor((new Date).getTime() / 1e3),
                                    uid: h.r.getUid(),
                                    user_profile: {info: {uname: t.userInfo.card.name, face: t.userInfo.card.face}},
                                    dynamic_id: i.data.dynamic_id
                                },
                                card: JSON.stringify({item: {content: e}})
                            }, t.cardInfo.desc.dynamic_id, t.isChildForward)
                        })), setTimeout((function () {
                            t.linkMsg(t.$refs.submitbtn, "发送成功", "success")
                        }), 500), t.boxText = "", t.feedCurrentType === Dt.a.HOT && t.bpapi({
                            method: "post",
                            url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                            data: {report_type: 3, uid: h.r.getUid(), dynamic_id: t.cardInfo.desc.dynamic_id}
                        }), h.b.$emit(Dt.b.SET_TOP, t.cardInfo.desc.dynamic_id); else {
                            if (2 === i.data.result) return Object(m.showVerifyPopup)(t);
                            t.linkMsg(t.$refs.submitbtn, i.data.errmsg, "caution")
                        }
                    }), (function (e) {
                        t.loading = !1, t.linkMsg(t.$refs.submitbtn, e.msg, e.type)
                    }))
                }
            }, quickLogin: function () {
                return (t = c.a.mark((function t() {
                    return c.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Object(m.quickLogin)();
                            case 2:
                            case"end":
                                return t.stop()
                        }
                    }), t)
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            pe(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            pe(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })();
                var t
            }, textareaMove: function (t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    i = arguments.length > 2 ? arguments[2] : void 0;
                if (e = e || 0, i = i || 0, t.createTextRange) {
                    var n = t.createTextRange();
                    n.collapse(!0), n.moveStart("character", e), n.moveEnd("character", i), n.select()
                } else {
                    var o = 0 === i ? e : i;
                    t.setSelectionRange(e, o), t.focus()
                }
            }, forwardHandler: function (t, e) {
                var i = this;
                if (e === this.cardInfo.desc.dynamic_id) {
                    this.isChildForward = t.isChildForward, this.boxText = t.comment, this.sendDynId = t.dynId, this.contentAtItems = t.atUsers;
                    var n = this.$refs.textarea;
                    if (!n) return;
                    this.$nextTick((function () {
                        i.textareaMove(n, 0, 0)
                    }))
                }
            }, validate: function () {
                return !this.emojiBoxShown
            }, selectHandler: function (t) {
                var e = this.boxText, i = this.$refs.textarea.selectionEnd, n = e.substring(0, i), o = e.substring(i),
                    r = n.lastIndexOf("@"), a = n.substring(r + 1, i);
                n = n.substring(0, r + 1), this.boxText = "".concat(n).concat(t.uname, " ").concat(o);
                var s = this.atItems.findIndex((function (t) {
                    return t.uname === a
                }));
                s > -1 && this.atItems.splice(s, 1), 20 !== this.atItems.length ? this.atItems.push(t) : this.linkMsg(this.$refs.textarea, "最多支持@ 20位用户", "caution")
            }, logHandler: function () {
                Object(p.d)(Dt.d.PUBLISH_AT_LIST_SHOW, Object(v.f)(this.cardInfo))
            }, handleKeydown: function (t) {
                var e = this;
                if (8 === t.keyCode) {
                    var i = this.boxText, n = this.$refs.textarea.selectionEnd, o = i.substring(0, n),
                        r = i.substring(n), a = o.lastIndexOf("@");
                    if (-1 === a) return;
                    var s = o.substring(a + 1, n);
                    if (/\s/.test(s[s.length - 1]) || /\s/.test(s)) return;
                    var c = this.atItems.findIndex((function (t) {
                        return t.uname === s
                    }));
                    if (-1 === c) return;
                    o = o.substring(0, a), this.boxText = "".concat(o).concat(r), t.preventDefault(), this.atItems.splice(c, 1), this.$nextTick((function () {
                        e.$refs.atPopup.forceHide()
                    }))
                }
            }, checkAtItems: function (t) {
                if ("" !== t) {
                    for (var e = [], i = 0; i < t.length; i++) if ("@" === t[i]) {
                        var n = "";
                        t:for (var o = i + 1; o < t.length && t[o]; o++) {
                            if (/\s/.test(t[o])) {
                                e.push(n), i = o;
                                break t
                            }
                            n += t[o]
                        }
                    }
                } else this.atItems = []
            }, requestAt: function (t, e) {
                var i = this;
                return new Promise((function (n, o) {
                    var r = {uid: h.r.getUid()};
                    e && (r.keyword = e), i.bpapi({url: t, method: "get", data: r}).then(n).catch(o)
                }))
            }
        }, watch: {
            boxText: function (t) {
                this.getAreaHeight(), this.wordLength = this.boxText.length, this.isExceed = this.wordLength > this.maxLength, 0 === this.wordLength && (this.sendDynId = this.cardInfo.desc.dynamic_id, this.isChildForward = !1), this.checkAtItems(t)
            }
        }, mounted: function () {
            var t = this, e = this.$refs.textarea;
            this.loginInfo.isLogin && "" === this.boxText && this.cardInfo.desc.type === Dt.a.REPOST && (this.boxText = this.forwInfo.content, this.contentAtItems = this.forwInfo.atUsers, this.$nextTick((function () {
                t.textareaMove(e, 0, 0)
            }))), this.$nextTick((function () {
                e && t.loginInfo.isLogin && e.focus()
            })), this.sendDynId = this.cardInfo.desc.dynamic_id, this.getAreaHeight(), e.addEventListener("keydown", this.handleKeydown), h.b.$on(Dt.b.FORWARD_DYNAMIC, this.forwardHandler)
        }, destroyed: function () {
            this.$refs.textarea.removeEventListener("keydown", this.handleKeydown)
        }
    }, ve = (i(380), Object(A.a)(me, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "f-left textarea-container"}, [t.loginInfo.isLogin ? t._e() : i("div", {
            staticClass: "comm-nologin",
            style: {width: t.textareaWidth + "px"}
        }, [t._v("请先"), i("a", {
            staticClass: "loginBtn",
            on: {click: t.quickLogin}
        }, [t._v("登录")]), t._v("后转发 (・ω・)")]), i("textarea", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: t.boxText,
                expression: "boxText"
            }],
            ref: "textarea",
            staticClass: "textarea",
            style: {width: t.textareaWidth + "px"},
            attrs: {spellcheck: "false", placeholder: "请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。"},
            domProps: {value: t.boxText},
            on: {
                input: function (e) {
                    e.target.composing || (t.boxText = e.target.value)
                }
            }
        }), i("at-popup", {
            ref: "atPopup",
            attrs: {"input-el": t.$refs.textarea, "before-show": t.validate, request: t.requestAt},
            on: {
                select: function (e) {
                    var i = e.item, n = e.matchString;
                    return t.selectHandler(i, n)
                }, active: t.logHandler
            }
        }), i("div", {staticClass: "comm-tool f-clear"}, [i("div", {
            ref: "emojiTrigger",
            staticClass: "comm-emoji f-left",
            class: {exceed: t.isExceed || !t.loginInfo.isLogin},
            on: {
                click: function (e) {
                    t.emojiBoxShown = t.loginInfo.isLogin && !0
                }
            }
        }, [i("i", {staticClass: "dynamic-comm-icon icon-face"}), i("span", {staticClass: "comm-text"}, [t._v("表情")]), t.emojiBoxShown ? i("emoji-box", {
            staticClass: "bp-emoji-box",
            attrs: {
                field: t.$refs.textarea,
                "frozen-elements": [t.$refs.textarea, t.$refs.emojiTrigger],
                "emoji-type": ["kaomojis", "dynamicEmojis"],
                "spm-type": t.pageType
            },
            on: {
                close: function (e) {
                    t.emojiBoxShown = !1
                }
            }
        }) : t._e()], 1), i("div", {
            ref: "submitbtn",
            staticClass: "comm-submit f-right",
            class: {exceed: t.isExceed || !t.loginInfo.isLogin},
            on: {click: t.sendMsg}
        }, [t._v("转发")]), i("div", {staticClass: "comm-word f-right"}, [i("span", {class: {exceed: t.isExceed}}, [t._v(t._s(t.wordLength))]), i("span", [t._v("/" + t._s(t.maxLength))])])])], 1)
    }), [], !1, null, "ef7573de", null).exports), ge = {
        data: function () {
            return {text: ""}
        }, props: {
            forwData: {
                type: Object, default: function () {
                    return {}
                }
            }, cardInfo: {type: Object}, clickLogHandler: {
                type: Function, default: function () {
                }
            }
        }, methods: {
            getUserInfoUrl: function () {
                return "".concat(y.a.SPACE, "/").concat(this.uid, "/dynamic")
            }, onUserInfoClick: function (t) {
                var e = "head" === t ? Dt.d.CARD_HEAD : Dt.d.CARD_NICKNAME,
                    i = Object.assign(Object(v.f)(this.cardInfo), {jumpfrom: 3});
                Object(p.d)(e, i)
            }, toBfsImg: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "//static.hdslb.com/images/member/noface.gif",
                    e = arguments.length > 1 ? arguments[1] : void 0, i = arguments.length > 2 ? arguments[2] : void 0;
                return Object(d.g)(Object(m.bfsImgLink)(t, e, i))
            }, forwardChildDynamic: function () {
                if (!h.r.getMyLoginInfo().isLogin) return Object(m.quickLogin)(), this.linkMsg(this.$refs.submitbtn, "请先登陆", "info");
                var t = {uid: this.uid, uname: this.uname}, e = this.getAtUserList(this.comment, this.ctrl, t);
                h.b.$emit(Dt.b.FORWARD_DYNAMIC, {
                    dynId: "".concat(this.dynamicId),
                    comment: "//@".concat(this.uname, ":").concat(this.comment),
                    isChildForward: !0,
                    atUsers: e
                }, this.cardInfo.desc.dynamic_id)
            }, getAtUserList: function (t, e, i) {
                var n = [i];
                if (!e || "" === e) return n;
                var o = Object(d.e)(e);
                return Array.isArray(o) || (o = []), o.forEach((function (e) {
                    var i = {uid: ~~e.data, uname: t.substr(e.location + 1, e.length - 1)};
                    0 === n.filter((function (t) {
                        return t.uid === i.uid
                    })).length && n.push(i)
                })), n
            }, click: function (t) {
                t.target && "A" === t.target.nodeName && this.clickLogHandler()
            }, initText: function () {
                var t = this, e = Object(d.e)(this.cardInfo.extend_json),
                    i = Object(d.e)((this.forwData || {}).extend_json), n = {vote: e.vote, lott: e.lott, from: i.from},
                    o = JSON.stringify(n),
                    r = Object(h.o)(this.comment, {ctrlJson: this.ctrl, extendCtrlJson: o, dynamicId: this.dynamicId});
                Object(h.l)(r, {ctrlJson: this.ctrl, extendCtrlJson: o, dynamicId: this.dynamicId}).then((function (e) {
                    t.text = e, v.c.getIsNeedCardPopup() && t.$nextTick((function () {
                        t.attachAtHrefs()
                    }))
                }))
            }, attachAtHrefs: function () {
                for (var t = this.$refs.text.children, e = 0; e < t.length; e++) {
                    var i = t[e];
                    if ("A" === i.nodeName) {
                        var n = i.href.match(/\/\/space\.bilibili\.com\/(\d+)/);
                        if (n) {
                            var o = +n[1];
                            o && Object(f.a)(o, this.$refs.wrap, i)
                        }
                    }
                }
            }
        }, computed: {
            getPublishTime: function () {
                return Object(v.d)(this.forwData.desc.timestamp)
            }, uid: function () {
                return this.forwData.desc.uid
            }, uname: function () {
                return this.forwData.desc.user_profile.info.uname
            }, ctrl: function () {
                return this.forwData.extend_json && JSON.stringify(JSON.parse(this.forwData.extend_json).ctrl) || ""
            }, face: function () {
                return this.forwData.desc.user_profile.info.face
            }, dynamicId: function () {
                return this.forwData.desc.dynamic_id
            }, comment: function () {
                try {
                    return JSON.parse(this.forwData.card).item.content || ""
                } catch (t) {
                    return ""
                }
            }
        }, mounted: function () {
            this.initText(), v.c.getIsNeedCardPopup() && (Object(f.a)(this.uid, this.$refs.wrap, this.$refs.userhead), Object(f.a)(this.uid, this.$refs.wrap, this.$refs.username))
        }
    }, ye = (i(381), Object(A.a)(ge, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "wrap",
            staticClass: "dynamic-list-item-wrap f-clear"
        }, [i("div", {staticClass: "f-left"}, [i("div", {
            ref: "userhead",
            staticClass: "forw-face"
        }, [i("a", {
            staticClass: "c-pointer",
            attrs: {href: t.getUserInfoUrl("head"), target: "_blank"},
            on: {
                click: function (e) {
                    return t.onUserInfoClick("head")
                }
            }
        }, [i("img", {
            staticClass: "forw-head",
            attrs: {src: t.toBfsImg(t.face, 32, 32)}
        })])])]), i("div", {staticClass: "item-detail f-left"}, [i("div", {staticClass: "item-user"}, [i("a", {
            ref: "username",
            staticClass: "user-name c-pointer",
            attrs: {href: t.getUserInfoUrl("name"), target: "_blank"},
            on: {
                click: function (e) {
                    return t.onUserInfoClick("name")
                }
            }
        }, [t._v(t._s(t.uname))])]), i("div", {
            ref: "text",
            staticClass: "text",
            domProps: {innerHTML: t._s(t.text)},
            on: {click: t.click}
        }), i("div", {staticClass: "info"}, [i("span", {staticClass: "time"}, [t._v(t._s(t.getPublishTime))]), t.dynamicId ? i("a", {
            ref: "submitbtn",
            staticClass: "forw-submit f-right",
            on: {click: t.forwardChildDynamic}
        }, [t._v("转发")]) : t._e()])])])
    }), [], !1, null, "78a08664", null).exports), be = {}, _e = (i(382), Object(A.a)(be, (function () {
        var t = this.$createElement;
        this._self._c;
        return this._m(0)
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "comm-loading"}, [e("span", {staticClass: "loading-icon"}), e("span", [this._v("加载中……")])])
    }], !1, null, "740f9d96", null).exports), we = (i(383), {
        props: {
            pageType: {type: String, required: !0}, cardInfo: {
                type: Object, default: function () {
                }
            }, feedCurrentType: {type: Number, default: 0}, cardData: {
                type: Object, default: function () {
                }
            }
        }, data: function () {
            return {
                isLoading: !1,
                isLoaded: !1,
                isLoadingMore: !1,
                offset: 0,
                firstCount: 5,
                forwInfo: {content: "", atUsers: []},
                list: [],
                hasMore: !0,
                loginInfo: h.r.getMyLoginInfo(),
                userInfo: h.r.getMyUserInfo(),
                fallbackOldVersion: !1
            }
        }, components: {forwSendBoxNew: ve, forwSendBox: he, loading: _e, forwListItem: ye}, methods: {
            toBfsImg: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "//static.hdslb.com/images/member/noface.gif",
                    e = arguments.length > 1 ? arguments[1] : void 0, i = arguments.length > 2 ? arguments[2] : void 0;
                return Object(d.g)(Object(m.bfsImgLink)(t, e, i))
            }, getForwardingList: function () {
                var t = this;
                if (this.hasMore && !this.isLoading && !this.isLoadingMore) {
                    this.isLoading = !0;
                    var e = {
                        url: y.a.API_VC + "/dynamic_repost/v1/dynamic_repost/repost_detail",
                        method: "get",
                        data: {dynamic_id: this.cardInfo.desc.dynamic_id_str, offset: this.offset || void 0}
                    };
                    this.bpapi(e).then((function (e) {
                        var i = e.data;
                        i.items && 0 !== i.total || (i.items = []), 0 === t.offset && (t.isDetailPage || (i.items.length > t.firstCount && (i.has_more = !0), i.items = i.items.slice(0, t.firstCount))), t.offset = i.offset, t.list = t.list.concat(i.items), t.hasMore = i.has_more, t.isLoading = !1, t.isLoaded = !0, t.isLoadingMore = !1
                    }), (function (e) {
                        t.linkMsg(t.$refs.foraArea, e.msg, e.type), t.isLoading = !1, t.isLoaded = !0, t.isLoadingMore = !1
                    }))
                }
            }, loadMore: function () {
                if (this.hasMore && !this.isLoading && !this.isLoadingMore && this.isLoaded) {
                    if (Object(p.d)(Dt.d.CARD_SHARE_3, Object(v.f)(this.cardInfo)), !this.isDetailPage) return window.open(this.cardData.more_forw_url);
                    this.getForwardingList()
                }
            }, getAtUserList: function (t, e, i) {
                var n = [i];
                if (!e || "" === e) return n;
                var o = Object(d.e)(e);
                return Array.isArray(o) || (o = []), o.forEach((function (e) {
                    var i = {uid: ~~e.data, uname: t.substr(e.location + 1, e.length - 1)};
                    0 === n.filter((function (t) {
                        return t.uid === i.uid
                    })).length && n.push(i)
                })), n
            }, clickLogHandler: function () {
                Object(p.d)(Dt.d.CARD_RT_ATCLICK, Object(v.f)(this.cardInfo))
            }
        }, computed: {
            isDetailPage: function () {
                return this.pageType === Dt.c.DETAIL
            }, isTagPage: function () {
                return this.pageType === Dt.c.TAG
            }
        }, beforeMount: function () {
            var t = Object(d.d)(), e = -1 !== t.indexOf("IE"), i = -1 !== t.indexOf("TheWorld");
            this.fallbackOldVersion = e || i
        }, mounted: function () {
            var t = this;
            if (this.cardInfo.desc.type === Dt.a.REPOST) {
                var e = Object(d.e)(this.cardInfo.card);
                if (e) {
                    var i = e.item.content, n = {
                        uid: this.cardInfo.desc.user_profile.info.uid,
                        uname: this.cardInfo.desc.user_profile.info.uname
                    };
                    this.forwInfo.atUsers = h.a.generateAtUsers(i, e.item.ctrl, n), this.forwInfo.content = "//@".concat(this.cardInfo.desc.user_profile.info.uname, ":").concat(i)
                }
            }
            this.getForwardingList(this.offset), h.b.$on(Dt.b.INSERT_FORWARDING, (function (e, i, n) {
                t.cardInfo.desc.dynamic_id !== i || Dt.a.REPOST === t.cardInfo.desc.type && !0 === n || (t.list.unshift(e), v.b.repostAdd(t.cardInfo), h.b.$emit(Dt.b.STORAGE_UPDATE, t.cardInfo))
            })), h.b.$on(Dt.b.FORWARDING_SCROLL, (function () {
                t.$refs.loadMore && t.isDetailPage && function (t) {
                    if ("undefined" == typeof window) return !1;
                    var e = t.getBoundingClientRect().top;
                    return e + t.offsetHeight <= window.innerHeight && e > 0
                }(t.$refs.loadMore) && t.loadMore()
            }))
        }, beforeDestroy: function () {
            h.b.$off(Dt.b.INSERT_FORWARDING), h.b.$off(Dt.b.FORWARDING_SCROLL)
        }
    }), Ce = (i(384), Object(A.a)(we, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "foraArea",
            staticClass: "forw-area"
        }, [t.isLoading ? i("div", {staticClass: "forw-loading-box"}, [i("loading")], 1) : t._e(), t.isLoaded ? i("div", {staticClass: "forw-main"}, [i("div", {staticClass: "forw-send f-clear"}, [i("div", {staticClass: "f-left"}, [i("div", {staticClass: "forw-face"}, [i("img", {
            staticClass: "forw-head",
            attrs: {src: t.toBfsImg(t.userInfo.card.face, 32, 32)}
        })])]), t.fallbackOldVersion ? i("forw-send-box", {
            attrs: {
                "textarea-width": 470,
                "forw-info": t.forwInfo,
                "card-info": t.cardInfo,
                "feed-current-type": t.feedCurrentType
            }
        }) : i("forw-send-box-new", {
            attrs: {
                "textarea-width": 470,
                "forw-info": t.forwInfo,
                "card-info": t.cardInfo,
                "feed-current-type": t.feedCurrentType
            }
        })], 1), i("div", {staticClass: "forw-list"}, t._l(t.list, (function (e, n) {
            return i("forw-list-item", {
                key: String(Math.random()),
                attrs: {"forw-data": e, "card-info": t.cardInfo, "click-log-handler": t.clickLogHandler}
            })
        })), 1)]) : t._e(), i("div", {
            staticClass: "forw-more",
            class: {"forw-more-tag": t.isTagPage}
        }, [t.isLoadingMore ? i("loading", [t._v("加载中...")]) : [t.hasMore ? i("a", {
            ref: "loadMore",
            staticClass: "more",
            on: {click: t.loadMore}
        }, [t._v("查看更多转发")]) : i("a", {class: {nomore: !t.hasMore}}, [t._v("没有更多啦(〜￣△￣)〜")])]], 2)])
    }), [], !1, null, "b2249404", null).exports), xe = (i(42), i(57)), ke = {
        props: {show: null, title: String, hideButton: Boolean, disabled: null},
        components: {BpPopup: xe.a},
        methods: {
            onConfirm: function (t) {
                this.$emit("onConfirm", t)
            }, onCancel: function (t) {
                this.$emit("onCancel", t)
            }
        }
    }, Ie = (i(385), i(386), Object(A.a)(ke, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("transition", {attrs: {name: "im-popup-fade"}}, [t.show ? i("div", {staticClass: "im-popup"}, [t.hideButton ? t._e() : i("bp-popup", {
            staticClass: "im-popup-shell",
            attrs: {show: t.show, title: t.title, onConfirm: t.onConfirm, onCancel: t.onCancel, disabled: t.disabled}
        }, [i("div", {staticClass: "content"}, [t._t("default")], 2)]), t.hideButton ? i("bp-popup", {
            staticClass: "im-popup-shell hide-button",
            staticStyle: {width: "auto !important", padding: "0", margin: "0"},
            attrs: {show: t.show, title: t.title, onConfirm: t.onConfirm, onCancel: t.onCancel, button: !1}
        }, [i("div", {staticClass: "split-line"}), i("div", {
            staticClass: "content",
            staticStyle: {padding: "0"}
        }, [t._t("default")], 2)]) : t._e()], 1) : t._e()])
    }), [], !1, null, "53efcfd2", null).exports), Se = {
        props: ["checked", "value", "name"], data: function () {
            return {}
        }, computed: {}, watch: {}, components: {}, beforeCreate: function () {
        }, created: function () {
        }, beforeMount: function () {
        }, mounted: function () {
        }, beforeDestroy: function () {
        }, destroyed: function () {
        }, methods: {
            onClick: function (t) {
                this.$emit("click", t)
            }
        }
    }, Oe = (i(387), Object(A.a)(Se, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("label", {staticClass: "type-selector"}, [i("input", {
            staticClass: "radio",
            attrs: {name: t.name, type: "radio"},
            domProps: {value: t.value, checked: t.checked},
            on: {click: t.onClick}
        }), t.checked ? i("span", {staticClass: "radio-selected"}) : t._e(), t.checked ? t._e() : i("span", {staticClass: "radio-default"}), t._t("default")], 2)
    }), [], !1, null, "1f7f31f2", null).exports), Te = {
        props: {show: null, types: Array, accusedUid: [String, Number], objectId: [String, Number]}, data: function () {
            return {
                type: -1,
                reportContent: "",
                maxNum: 60,
                reportTypeList: [{type: 4, name: "垃圾广告"}, {type: 7, name: "话题不相关"}, {type: 8, name: "引战"}, {
                    type: 1,
                    name: "色情"
                }, {type: 5, name: "人身攻击"}, {type: 3, name: "违法信息"}, {type: 0, name: "其他"}]
            }
        }, computed: {
            showList: function () {
                var t = this;
                return this.types ? this.reportTypeList.filter((function (e) {
                    return t.types.includes(e.type)
                })) : this.reportTypeList
            }, tooMuch: function () {
                return this.reportContent.length > this.maxNum
            }, active: function () {
                return !!(this.type && this.type > 0 || 0 === this.type && this.reportContent.trim())
            }
        }, components: {ImPopup: Ie, ImRadio: Oe}, methods: {
            onConfirm: function () {
                this.active ? this.reportIt() : this.linkMsg(this.$refs.popup, "请输入举报内容", "caution", !0)
            }, onCancel: function () {
                this.$emit("cancel")
            }, reportIt: function () {
                var t = this;
                return this.bpapi({
                    url: "//api.vc.bilibili.com/bplus_report/v1/Report/add",
                    data: {
                        biz_code: this.bizCode || 7,
                        module: this.module || 1202,
                        accused_uid: this.accusedUid,
                        object_id: this.objectId,
                        reason_type: this.type,
                        reason_desc: 0 === this.type ? this.reportContent : void 0
                    },
                    method: "post"
                }).then((function () {
                    t.linkMsg(t.$refs.popup, "举报成功", "success", !0), t.$emit("success")
                }), (function (e) {
                    t.linkMsg(t.$refs.popup, "举报失败，".concat(e.msg), "error", !0)
                }))
            }
        }
    }, Ee = (i(388), Object(A.a)(Te, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("im-popup", {
            staticClass: "report-popup",
            attrs: {show: t.show, title: "我要举报", disabled: !t.active},
            on: {onConfirm: t.onConfirm, onCancel: t.onCancel}
        }, [i("div", {
            ref: "popup",
            staticClass: "content-text"
        }, [t._v("请选择举报的理由：")]), i("div", {staticClass: "selector-box"}, t._l(t.showList, (function (e) {
            return i("im-radio", {
                key: e.type,
                class: {"other-reason": 0 === e.type},
                attrs: {checked: e.type === t.type, value: e.type, name: "report-type"},
                on: {
                    click: function (i) {
                        t.type = e.type
                    }
                }
            }, [t._v(t._s(e.name))])
        })), 1), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: 0 === t.type,
                expression: "type === 0"
            }], staticClass: "report-tip"
        }, [t._v("为帮助审核人员更快处理，请补充问题类型和出现位置等详细信息")]), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: 0 === t.type,
                expression: "type === 0"
            }], staticClass: "input-box report-input"
        }, [i("textarea", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: t.reportContent,
                expression: "reportContent"
            }],
            staticClass: "textarea",
            attrs: {maxlength: t.maxNum, autofocus: "autofocus", placeholder: "举报内容", max: "50"},
            domProps: {value: t.reportContent},
            on: {
                input: function (e) {
                    e.target.composing || (t.reportContent = e.target.value)
                }
            }
        }), i("div", {staticClass: "indicator"}, [i("span", {class: {"too-much": t.tooMuch}}, [t._v(t._s(t.reportContent.length))]), t._v("/"), i("span", [t._v(t._s(t.maxNum))])])])])
    }), [], !1, null, "f55b66b8", null).exports);
    o.a.use(Object(r.a)()), o.a.use(a.a), o.a.use(K.b);
    var Pe = Ee, Le = (i(389), Object(A.a)({}, (function () {
        var t = this.$createElement;
        this._self._c;
        return this._m(0)
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "skeleton"}, [e("div", {staticClass: "skeleton-head"}), e("div", {staticClass: "skeleton-body"}, [e("div", {staticClass: "first-line"}, [e("div", {staticClass: "skeleton-user-name"}), e("div", {staticClass: "skeleton-focusbtn"})]), e("div", {staticClass: "skeleton-time"}), e("div", {staticClass: "skeleton-content"})])])
    }], !1, null, "17bb0413", null).exports), je = i(232), Ae = i.n(je), Me = {
        props: {
            src: {type: String},
            id: {type: String, default: "svga-player"},
            autoplay: {type: Boolean, default: !0}
        }, mounted: function () {
            this.playUrl(this.src)
        }, watch: {
            src: function (t) {
                this.playUrl(t)
            }
        }, methods: {
            playUrl: function (t) {
                var e = this;
                if (t) {
                    var i = new Ae.a.Player("#" + this.id), n = new Ae.a.Parser("#" + this.id);
                    i.loops = 1, n.load(t.replace(/^http:/, "https:"), (function (t) {
                        e.$emit("start"), i.setVideoItem(t), e.autoplay && i.startAnimation()
                    })), i.onFinished((function () {
                        e.$emit("finish")
                    }))
                } else this.$emit("finish")
            }
        }
    }, De = (i(390), Object(A.a)(Me, (function () {
        var t = this.$createElement;
        return (this._self._c || t)("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: this.src,
                expression: "src"
            }], staticClass: "svga-player", attrs: {id: this.id}
        })
    }), [], !1, null, null, null).exports), Be = i(278), Ne = i.n(Be);
    i(391);

    function Re(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function $e(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    Re(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    Re(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    var He = {
        data: function () {
            return {
                showMorePanel: !1,
                isUnfocus: "undefined" == typeof window || this.cardInfo.isUnfocus,
                detailLink: "".concat(y.a.T, "/").concat(this.cardInfo.desc.dynamic_id, "?tab=2"),
                isTransmitHover: !1,
                isCommentHover: !1,
                isPraiseHover: !1,
                currentTop: 0,
                showForwardingPanelData: !1,
                showCommentPanelData: !1,
                isInThisCard: !1,
                chromeScaleFix: !1,
                lazyLoaded: !1,
                emojiInited: !1,
                isShowLog: !1,
                attentionList: h.r.getMyAttentionList(),
                date: this.getNewDate(),
                reportPopupShow: !1,
                reportDid: "",
                reportUid: "",
                hasInitComment: !1,
                scrollContainer: null,
                canRender: !0,
                HOST: y.a,
                svgaPlayerShown: !1,
                svgaPlayerStart: !1,
                isLovedTemp: -1,
                updatePraiseLoading: !1,
                isAnimate: !1,
                foldIndex: -1
            }
        },
        props: {
            cardInfo: {type: Object, required: !0},
            isSelf: {type: Boolean, required: !0},
            isDraft: {type: Boolean, default: !1},
            isNeedCardPopup: {type: Boolean, default: !0},
            idx: {type: Number, default: 0},
            defaultTab: {type: Number},
            pageType: {type: String},
            scrollDom: {},
            currentType: {type: Number, default: 0},
            topicName: {type: String},
            popupDom: null,
            disableLazyLoad: {type: Boolean, default: !1},
            foldItems: null,
            ifJumpAfterLogin: {
                type: Boolean, default: function () {
                    return !0
                }
            },
            regString: {type: String, default: ""},
            limitedFoldInfo: {
                type: Array, default: function () {
                    return []
                }
            }
        },
        components: {CardContent: ae, Forwarding: Ce, ReportPopup: Pe, CardSkeleton: Le, SvgaPlayer: De},
        created: function () {
            v.c.setCurrentType(this.currentType), v.c.setIsNeedCardPopup(this.isNeedCardPopup), v.c.setPageType(this.pageType)
        },
        watch: {
            "cardData.face": {
                handler: function (t) {
                    t && (this.$nextTick(this.updateAvatar), this.lazyLoaded = !0)
                }, immediate: !0
            }, currentType: function (t) {
                v.c.setCurrentType(t)
            }, lazyLoaded: function (t) {
                t && (this.initCardRich(), this.cardInfo.foldType && Object(p.d)(Dt.d.FOLD_SHOW, this.cardInfo.foldType))
            }, emojiInited: function (t) {
                var e = this;
                t && (this.canRender = !1, this.$nextTick((function () {
                    e.canRender = !0
                })))
            }
        },
        mounted: function () {
            var t = this;
            this.scrollContainer = this.scrollDom || window, Object(h.i)().then((function () {
                t.emojiInited = !0
            })), window.devicePixelRatio >= 1.1 && window.devicePixelRatio <= 1.2 && (this.chromeScaleFix = !0), this.initBus(), this.initEvent(), this.lazyLoaded = this.isInViewport(), (this.isHotTab || this.isTagPage) && (this.isUnfocus = -1 === this.attentionList.indexOf(this.cardInfo.desc.uid)), 1 === this.defaultTab ? this.onTransmitClick() : 2 === this.defaultTab && this.onCommentClick(), m.bus.$on("ShowBvConfigUpdated", (function () {
                t.canRender = !1, t.$nextTick((function () {
                    t.canRender = !0
                }))
            })), this.updateAvatar()
        },
        beforeDestroy: function () {
            h.b.$off(Dt.b.MORE_PANEL_CLOSE, this.morePanelClose)
        },
        methods: {
            hasFolded: function () {
                var t = this, e = !1;
                return this.limitedFoldInfo.forEach((function (i, n) {
                    i.foldKey === t.cardInfo.foldKey && (e = !0, t.foldIndex = n)
                })), e
            }, handleExpandCards: function () {
                this.$emit("expandCards", this.foldIndex)
            }, userHeadPendant: function () {
                var t = this.cardInfo.desc.user_profile;
                return t && t.pendant ? d.c ? t.pendant.image_enhance || t.pendant.image || "" : (t.pendant.image_enhance_frame && (this.isAnimate = !0), t.pendant.image_enhance_frame || t.pendant.image || "") : ""
            }, updateAvatar: function () {
                !this.isBangumiLike && this.cardInfo.desc && this.cardInfo.desc.dynamic_id && new Ne.a({}).append({
                    avatar: this.cardData.face,
                    pendent: this.userHeadPendant(),
                    avatarWidth: 48,
                    iconType: this.verifyIconType,
                    pendentWidth: this.avatarStepWidth,
                    isAnimate: this.isAnimate,
                    duration: 2,
                    customIcon: "big-vip" === this.verifyIconType && this.cardInfo.desc.user_profile.vip.avatar_subscript_url || ""
                }, document.getElementById("dynamicId_".concat(this.cardInfo.desc.dynamic_id)), "dynamicId_".concat(this.cardInfo.desc.dynamic_id))
            }, numberFormat: m.numberFormat.autoParse, initCommentComponent: function (t) {
                var e = this;
                window.bbComment ? this.commentComponentCallback() : u()("//s1.hdslb.com/bfs/seed/jinkela/commentpc/comment.min.js").then((function () {
                    e.commentComponentCallback()
                }))
            }, commentComponentCallback: function () {
                var t = this;
                this.hasInitComment = !0;
                var e = location.hash.match(/reply(\d+)/), i = {
                    oid: this.cardData.comment_oid,
                    pageType: this.cardData.comment_id,
                    noPage: !this.isDetailPage,
                    dynamicRepost: !0,
                    smallPager: !0,
                    pageSize: 10,
                    jumpId: e && e[1],
                    contentMaxLength: 233
                };
                if (window.bbComment) {
                    var n = new bbComment(this.$refs.bbcomment, i);
                    n.on("commentSent", (function () {
                        Object(p.d)(Dt.d.CARD_COMMENT_2, Object(v.f)(t.cardInfo))
                    })), n.on("pageLoaded", (function () {
                        Object(p.d)(Dt.d.CARD_COMMENT_3, Object(v.f)(t.cardInfo))
                    })), n.on("clickSpace", (function (e) {
                        var i = "face" === e ? Dt.d.CARD_HEAD : Dt.d.CARD_NICKNAME,
                            n = Object.assign(Object(v.f)(t.cardInfo), {jumpfrom: 2});
                        Object(p.d)(i, n)
                    })), this.isDetailPage || n.on("moreLinkClick", (function () {
                        window.open(t.cardData.more_comment_url)
                    })), n.on("dynamicRepost", (function (e) {
                        var i = {
                            url: y.a.API_VC + "/dynamic_repost/v1/dynamic_repost/reply",
                            method: "post",
                            data: {
                                uid: h.r.getUid(),
                                type: 1,
                                rid: t.cardInfo.desc.dynamic_id,
                                content: e,
                                repost_code: 3e4,
                                from: "create.comment",
                                extension: JSON.stringify({emoji_type: 1})
                            }
                        };
                        t.bpapi(i).then((function (e) {
                            0 === e.data.result ? (t.boxText = "", t.tranIsCheck = !1, t.feedCurrentType === Dt.a.HOT && t.uid && t.bpapi({
                                method: "post",
                                url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                                data: {report_type: 3, uid: h.r.getUid(), dynamic_id: t.cardInfo.desc.dynamic_id}
                            }), n.trigger("repostSuc", e)) : n.trigger("repostFail", e)
                        }), (function (t) {
                            n.trigger("repostError", t)
                        }))
                    }))
                }
            }, initCardRich: function () {
                var t = this;
                !this.isBangumiLike && v.c.getIsNeedCardPopup() && this.$nextTick((function () {
                    t.$refs.username && Object(f.a)(t.cardInfo.desc.uid, t.$refs.card, t.$refs.username), t.$refs.userhead && Object(f.a)(t.cardInfo.desc.uid, t.$refs.card, t.$refs.userhead)
                }))
            }, inThisCard: function () {
                this.isInThisCard = !0
            }, outThisCard: function () {
                this.isInThisCard = !1
            }, morePanelClose: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                    e = t !== this.cardInfo.desc.dynamic_id;
                e ? this.showMorePanel = !1 : this.onMoreClick()
            }, initEvent: function () {
                var t = this;
                document.body.addEventListener("click", (function () {
                    t.showMorePanel = !1
                }), !1), this.$refs.morePanel && this.$refs.morePanel.addEventListener("click", (function (t) {
                    t.stopPropagation()
                }), !1), this.$refs.buttonArea && this.$refs.buttonArea.addEventListener("click", (function (e) {
                    h.b.$emit(Dt.b.MORE_PANEL_CLOSE, t.cardInfo.desc.dynamic_id, t.cardInfo.desc.type, t.cardInfo.desc.uid), e.stopPropagation()
                }), !1), Object(v.a)(this.scrollContainer, "scroll", this.scrollHandler)
            }, scrollHandler: function () {
                var t = this.scrollContainer.scrollTop;
                h.b.$emit(Dt.b.SCROLL, t, this.scrollContainer), h.b.$emit(Dt.b.FORWARDING_SCROLL), h.b.$emit(Dt.b.COMM_SCROLL)
            }, isInViewport: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = this.$refs.card;
                if (!e) return !1;
                if (this.lazyLoaded) return !0;
                var i = e.getBoundingClientRect().top, n = window.innerHeight;
                return i < n + 400 + t
            }, clickHeadLog: function () {
                Object(p.d)(Dt.d.CARD_HEAD, Object.assign(Object(v.f)(this.cardInfo), {jumpfrom: 1}))
            }, clickNameLog: function () {
                Object(p.d)(Dt.d.CARD_NICKNAME, Object.assign(Object(v.f)(this.cardInfo), {jumpfrom: 1}))
            }, onSetTopClick: function () {
                var t = this;
                this.cardData.isSetTop ? (Object(p.d)(Dt.d.CARD_MORE_TOP, Object(v.f)(this.cardInfo)), this.bpapi({
                    method: "post",
                    url: y.a.API_VC + "/dynamic_mix/v1/dynamic_mix/space_top_rm",
                    data: {dynamic_id: this.cardInfo.desc.dynamic_id}
                }).then((function (t) {
                    window.location.reload()
                }), (function (e) {
                    t.linkMsg(t.$refs.setTopRef, "取消置顶失败，请稍后重试", e.type)
                }))) : (Object(p.d)(Dt.d.CARD_MORE_UNTOP, Object(v.f)(this.cardInfo)), this.bpapi({
                    method: "post",
                    url: y.a.API_VC + "/dynamic_mix/v1/dynamic_mix/space_top_set",
                    data: {dynamic_id: this.cardInfo.desc.dynamic_id}
                }).then((function (t) {
                    window.location.reload()
                }), (function (e) {
                    t.linkMsg(t.$refs.setTopRef, "置顶失败，请稍后重试", e.type)
                })))
            }, onDeleteClick: function () {
                var t = this;
                this.bpPopup({
                    title: "删除动态",
                    content: "确定要删除此条动态吗？",
                    button: {confirm: "删除", cancel: "我点错了"}
                }).onConfirm((function (e) {
                    t.bpapi({
                        method: "post",
                        url: "".concat(y.a.API_VC, "/dynamic_svr/v1/dynamic_svr/rm_dynamic"),
                        data: {dynamic_id: t.isFakeCard ? t.cardInfo.did : t.cardInfo.desc.dynamic_id},
                        throttleInterval: 5e3
                    }).then((function (i) {
                        t.linkMsg(e.confirmBtn, "删除成功", i.type), e.close(), t.delete()
                    }), (function (i) {
                        t.linkMsg(e.confirmBtn, i.msg, i.type)
                    }))
                })).onCancel((function (e) {
                    t.showMorePanel = !1, e.close()
                }))
            }, onUncollectClick: function () {
                var t = this;
                this.card && this.card.collection && this.card.collection.id ? this.bpPopup({
                    title: "取消收藏",
                    content: "确定取消收藏吗？",
                    button: {confirm: "取消收藏", cancel: "再想想"}
                }).onConfirm((function (e) {
                    t.bpapi({
                        method: "post",
                        url: "".concat(y.a.API_MAIN, "/x/v3/fav/resource/unfav-all"),
                        data: {type: 21, rid: t.card.collection.id}
                    }).then((function (i) {
                        t.linkMsg(e.confirmBtn, "取消收藏成功", i.type), e.close(), t.delete()
                    }), (function (i) {
                        t.linkMsg(e.confirmBtn, i.msg, i.type)
                    }))
                })).onCancel((function (e) {
                    t.showMorePanel = !1, e.close()
                })) : this.linkMsg(this.$refs.uncollectRef, "取消收藏失败，缺少合集id", "caution")
            }, onUnsubscribeClick: function () {
                var t = this;
                this.bpapi({
                    method: "post",
                    url: "".concat(y.a.API_MAIN, "/x/v1/tunnel/notify/close"),
                    data: {oid: this.cardInfo.desc.rid}
                }).then((function (e) {
                    t.delete()
                }), (function (e) {
                    t.showMorePanel = !1, t.linkMsg(t.$refs.unsubscribeRef, e.msg, e.type)
                }))
            }, onUnfocusClick: function (t) {
                var e = this;
                return $e(c.a.mark((function i() {
                    var n;
                    return c.a.wrap((function (i) {
                        for (; ;) switch (i.prev = i.next) {
                            case 0:
                                return e.isHotTab && Object(p.d)(Dt.d.HOTFOLLOW, Object.assign(Object(v.f)(e.cardInfo), e.isGuestPage ? {nologin: 1} : {})), e.isDetailPage && Object(p.d)(Dt.d.DETAIL_FOLLOW_CLICK, Object.assign(Object(v.f)(e.cardInfo), e.isGuestPage ? {nologin: 1} : {})), i.next = 4, Object(m.quickLogin)((function () {
                                    e.ifJumpAfterLogin ? (Object(p.d)(Dt.d.LOGIN_SUCCESS, {from: e.spmPageTypeString}), window.location.replace("https://t.bilibili.com/".concat(e.cardInfo.desc.dynamic_id))) : window.location.reload()
                                }));
                            case 4:
                                if (i.sent) {
                                    i.next = 7;
                                    break
                                }
                                return i.abrupt("return");
                            case 7:
                                n = t.target, e.isUnfocus ? e.bpapi({
                                    method: "post",
                                    url: "".concat(y.a.API_MAIN, "/x/relation/modify"),
                                    data: {act: 1, fid: e.cardInfo.desc.uid, spmid: e.getPageSpmid, re_src: 0}
                                }).then((function (t) {
                                    e.setUnfocusStatus(!1), e.linkMsg(n, "关注成功！", t.type), e.showMorePanel = !1, h.r.insertToMyAttentionList(e.cardInfo.desc.uid), e.isHotTab && e.uid && (Object(p.d)(Dt.d.HOTFOLLOW, Object.assign(Object(v.f)(e.cardInfo), e.isGuestPage ? {nologin: 1} : {})), e.bpapi({
                                        method: "post",
                                        url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                                        data: {
                                            report_type: 5,
                                            uid: e.uid,
                                            dynamic_id: e.cardInfo.desc.dynamic_id,
                                            count: 1
                                        }
                                    }))
                                }), (function (t) {
                                    e.showMorePanel = !1, e.linkMsg(n, t.msg, t.type)
                                })) : e.bpPopup({
                                    title: "取消关注",
                                    content: "真的要取消对 ".concat(e.cardInfo.desc.user_profile.info.uname, " 的关注吗？"),
                                    button: {confirm: "取消关注", cancel: "点错了~"}
                                }).onConfirm((function (t) {
                                    e.bpapi({
                                        method: "post",
                                        url: "".concat(y.a.API_MAIN, "/x/relation/modify"),
                                        data: {act: 2, fid: e.cardInfo.desc.uid, spmid: e.getPageSpmid, re_src: 0}
                                    }).then((function (i) {
                                        e.setUnfocusStatus(!0), e.linkMsg(t.confirmBtn, "取消了对 ".concat(e.cardInfo.desc.user_profile.info.uname, " 的关注"), i.type), e.showMorePanel = !1, t.close(), h.r.deleteFromMyAttentionList(e.cardInfo.desc.uid), e.isHotTab && e.uid && e.bpapi({
                                            method: "post",
                                            url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                                            data: {
                                                report_type: 5,
                                                uid: e.uid,
                                                dynamic_id: e.cardInfo.desc.dynamic_id,
                                                count: -1
                                            }
                                        })
                                    }), (function (i) {
                                        t.close(), e.linkMsg(t.confirmBtn, i.msg, i.type)
                                    }))
                                })).onCancel((function (t) {
                                    e.showMorePanel = !1, t.close()
                                }));
                            case 9:
                            case"end":
                                return i.stop()
                        }
                    }), i)
                })))()
            }, setUnfocusStatus: function (t) {
                h.b.$emit(Dt.b.UNFOCUS, this.cardInfo, t), this.updateAllStorage(this.cardInfo, t)
            }, updateAllStorage: function (t, e) {
                var i = this;
                Dt.e.forEach((function (n) {
                    var o = "dynamic_cards_".concat(i.uid, "_").concat(n.type), r = h.q.get(o);
                    if (r) {
                        var a = Object(d.e)(r) || [];
                        a.forEach((function (i) {
                            i.desc.uid === t.desc.uid && (i.isUnfocus = e)
                        })), h.q.set(o, a)
                    }
                }))
            }, unfocusHandler: function (t, e) {
                t.desc.uid === this.cardInfo.desc.uid && (this.cardInfo.isUnfocus = e, this.isUnfocus = e)
            }, onReportClick: function () {
                var t = this;
                return $e(c.a.mark((function e() {
                    return c.a.wrap((function (e) {
                        for (; ;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Object(m.quickLogin)((function () {
                                    t.ifJumpAfterLogin ? (Object(p.d)(Dt.d.LOGIN_SUCCESS, {from: t.spmPageTypeString}), window.location.replace("https://t.bilibili.com")) : window.location.reload()
                                }));
                            case 2:
                                if (e.sent) {
                                    e.next = 5;
                                    break
                                }
                                return e.abrupt("return");
                            case 5:
                                t.reportUid = t.cardInfo.desc.uid, t.reportDid = t.cardInfo.desc.dynamic_id, t.reportPopupShow = !0;
                            case 8:
                            case"end":
                                return e.stop()
                        }
                    }), e)
                })))()
            }, onReportSucess: function () {
                this.reportPopupShow = !1
            }, onReportCancel: function () {
                this.reportPopupShow = !1
            }, onMoreClick: function () {
                this.showMorePanel = !this.showMorePanel
            }, onTransmitHover: function () {
                this.isTransmitHover = !0
            }, onTransmitLeave: function () {
                this.isTransmitHover = !1
            }, onCommentHover: function () {
                this.isCommentHover = !0
            }, onCommentLeave: function () {
                this.isCommentHover = !1
            }, onPraiseHover: function () {
                this.isPraiseHover = !0
            }, onPraiseLeave: function () {
                this.isPraiseHover = !1
            }, onTransmitClick: function () {
                var t = this;
                return $e(c.a.mark((function e() {
                    return c.a.wrap((function (e) {
                        for (; ;) switch (e.prev = e.next) {
                            case 0:
                                if (t.showForwardingPanelData ? Object(p.d)(Dt.d.CARD_SHARE_0, Object.assign(Object(v.f)(t.cardInfo), t.isGuestPage ? {nologin: 1} : {})) : Object(p.d)(Dt.d.CARD_SHARE_1, Object.assign(Object(v.f)(t.cardInfo), t.isGuestPage ? {nologin: 1} : {})), !t.isGuestPage) {
                                    e.next = 7;
                                    break
                                }
                                return e.next = 4, Object(m.quickLogin)((function () {
                                    t.ifJumpAfterLogin ? (Object(p.d)(Dt.d.LOGIN_SUCCESS, {from: t.spmPageTypeString}), window.location.replace("https://t.bilibili.com/".concat(t.cardInfo.desc.dynamic_id, "?tab=1"))) : window.location.reload()
                                }));
                            case 4:
                                if (e.sent) {
                                    e.next = 7;
                                    break
                                }
                                return e.abrupt("return");
                            case 7:
                                if (!t.isDeletedDyn) {
                                    e.next = 9;
                                    break
                                }
                                return e.abrupt("return", t.linkMsg(t.$refs.transmitRef, "禁止转发", "caution"));
                            case 9:
                                t.showForwardingPanelData = !t.showForwardingPanelData, t.showCommentPanelData = !1;
                            case 11:
                            case"end":
                                return e.stop()
                        }
                    }), e)
                })))()
            }, onCommentClick: function () {
                var t = this;
                return $e(c.a.mark((function e() {
                    return c.a.wrap((function (e) {
                        for (; ;) switch (e.prev = e.next) {
                            case 0:
                                if (t.showCommentPanelData ? Object(p.d)(Dt.d.CARD_COMMENT_0, Object.assign(Object(v.f)(t.cardInfo), t.isGuestPage ? {nologin: 1} : {})) : Object(p.d)(Dt.d.CARD_COMMENT_1, Object.assign(Object(v.f)(t.cardInfo), t.isGuestPage ? {nologin: 1} : {})), !t.isGuestPage) {
                                    e.next = 7;
                                    break
                                }
                                return e.next = 4, Object(m.quickLogin)((function () {
                                    t.ifJumpAfterLogin ? (Object(p.d)(Dt.d.LOGIN_SUCCESS, {from: t.spmPageTypeString}), window.location.replace("https://t.bilibili.com/".concat(t.cardInfo.desc.dynamic_id, "?tab=2"))) : window.location.reload()
                                }));
                            case 4:
                                if (e.sent) {
                                    e.next = 7;
                                    break
                                }
                                return e.abrupt("return");
                            case 7:
                                t.showCommentPanelData = !t.showCommentPanelData, t.showForwardingPanelData = !1, t.hasInitComment || t.initCommentComponent();
                            case 10:
                            case"end":
                                return e.stop()
                        }
                    }), e)
                })))()
            }, onPraiseClick: function () {
                var t = this;
                return $e(c.a.mark((function e() {
                    var i;
                    return c.a.wrap((function (e) {
                        for (; ;) switch (e.prev = e.next) {
                            case 0:
                                return (i = 1 === t.isLoved) ? Object(p.d)(Dt.d.CARD_LIKE_0, Object(v.f)(t.cardInfo)) : Object(p.d)(Dt.d.CARD_LIKE_1, Object.assign(Object(v.f)(t.cardInfo), t.isGuestPage ? {nologin: 1} : {})), e.next = 4, Object(m.quickLogin)((function () {
                                    t.ifJumpAfterLogin ? (Object(p.d)(Dt.d.LOGIN_SUCCESS, {from: t.spmPageTypeString}), window.location.replace("https://t.bilibili.com/".concat(t.cardInfo.desc.dynamic_id))) : window.location.reload()
                                }));
                            case 4:
                                if (e.sent) {
                                    e.next = 7;
                                    break
                                }
                                return e.abrupt("return");
                            case 7:
                                t.handlePraiseStatus(i);
                            case 8:
                            case"end":
                                return e.stop()
                        }
                    }), e)
                })))()
            }, handlePraiseStatus: function (t) {
                if (this.updatePraiseLoading) this.linkMsg(this.$refs.praiseBtn, "点击得太快啦，小电视反应不过来了呢", "caution"); else {
                    if (t) this.isLovedTemp = 0, this.cardInfo.desc.like = this.cardInfo.desc.like - 1; else if (this.isLovedTemp = 1, this.cardInfo.desc.like = this.cardInfo.desc.like + 1, this.loveAnimationUrl) return void (this.svgaPlayerShown = !0);
                    this.updatePraiseStatus(t)
                }
            }, updatePraiseStatus: function (t) {
                var e = this;
                this.updatePraiseLoading = !0, this.bpapi({
                    method: "post",
                    url: y.a.API_VC + "/dynamic_like/v1/dynamic_like/thumb",
                    data: {uid: this.uid, dynamic_id: this.cardInfo.desc.dynamic_id, up: t ? 2 : 1}
                }).then((function (i) {
                    e.updatePraiseLoading = !1, t || e.linkMsg(e.$refs.praiseBtn, "点赞成功", "success"), e.isHotTab && e.uid && e.bpapi({
                        method: "post",
                        url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                        data: {report_type: 2, uid: e.uid, dynamic_id: e.cardInfo.desc.dynamic_id, count: t ? -1 : 1}
                    }), h.b.$emit(Dt.b.STORAGE_UPDATE, e.cardInfo)
                }), (function (i) {
                    e.updatePraiseLoading = !1, t ? (e.isLovedTemp = 1, e.cardInfo.desc.like = e.cardInfo.desc.like + 1) : (e.isLovedTemp = 0, e.cardInfo.desc.like = e.cardInfo.desc.like - 1), e.linkMsg(e.$refs.praiseBtn, i.msg, i.type)
                }))
            }, editDraft: function () {
                Object(p.d)(Dt.d.TIMER_EDIT, ""), this.$emit("edit-draft")
            }, sendDraft: function () {
                var t = this;
                Object(p.d)(Dt.d.TIMER_PUBLISH, ""), this.bpapi({
                    method: "post",
                    url: "".concat(y.a.API_VC, "/dynamic_draft/v1/dynamic_draft/publish_now"),
                    data: {draft_id: this.cardInfo.desc.draft_id},
                    throttleInterval: 5e3
                }).then((function (e) {
                    t.linkMsg(t.$refs.sendNowBtn, "发送成功", e.type), t.delete()
                }), (function (e) {
                    t.linkMsg(t.$refs.sendNowBtn, e.msg, e.type)
                }))
            }, deleteDraft: function () {
                var t = this;
                Object(p.d)(Dt.d.TIMER_DELETE, ""), this.bpPopup({
                    title: "删除动态",
                    content: "确认删除此定时发布的动态吗？",
                    button: {confirm: "删除", cancel: "我点错了"}
                }).onConfirm((function (e) {
                    t.bpapi({
                        method: "post",
                        url: "".concat(y.a.API_VC, "/dynamic_draft/v1/dynamic_draft/rm_draft"),
                        data: {draft_id: t.cardInfo.desc.draft_id},
                        throttleInterval: 5e3
                    }).then((function (i) {
                        t.linkMsg(e.confirmBtn, "删除成功", i.type), e.close(), t.delete()
                    }), (function (i) {
                        t.linkMsg(e.confirmBtn, i.msg, i.type)
                    }))
                })).onCancel((function (t) {
                    t.close()
                }))
            }, initBus: function () {
                var t = this, e = function () {
                    var e = window.innerHeight;
                    if (t.lazyLoaded = t.isInViewport(e), t.isInViewport(e) && !t.isShowLog && t.lazyLoaded) {
                        var i = [], n = Object(v.f)(t.cardInfo);
                        (t.cardData.hasLottery || t.originCardData.hasLottery) && i.push("lottery_retweet"), (t.cardData.hasVote || t.originCardData.hasVote) && i.push("poll");
                        var o = i.join(","),
                            r = Object.assign({like_show_area: t.likeUsersPanelShow ? 1 : 0}, n, t.isGuestPage ? {nologin: 1} : {});
                        if (o && (r = Object.assign(r, {card_content: o})), t.isTagPage && (r = Object.assign(r, {tagname: t.topicName})), t.cardInfo.desc.dynamic_id && "-1" !== t.cardInfo.desc.dynamic_id) {
                            if (Object(p.d)(Dt.d.CARD_SHOW, r), t.cardInfo.desc.type === Dt.a.REPOST) {
                                var a = Object(v.g)(t.cardInfo);
                                Object(p.d)(Dt.d.CARD_SHOW, Object.assign(r, a))
                            }
                            t.isHotTab && t.uid && t.bpapi({
                                method: "post",
                                url: "".concat(y.a.API_VC, "/dynamic_report/v1/dynamic_report/rcmd_report"),
                                data: {report_type: 1, uid: t.uid, dynamic_id: t.cardInfo.desc.dynamic_id}
                            })
                        }
                        t.isShowLog = !0
                    }
                };
                h.b.$on(Dt.b.SCROLL, e), h.b.$on(Dt.b.SET_TOP, (function (e) {
                    e === t.cardInfo.desc.dynamic_id && (t.currentTop = t.$el.getBoundingClientRect().top)
                })), h.b.$on(Dt.b.LOCATE_CARD_EL, (function (e) {
                    e === t.cardInfo.desc.dynamic_id && (document.documentElement.scrollTop = Object(h.h)(t.$el) - t.currentTop)
                })), h.b.$on(Dt.b.UNFOCUS, this.unfocusHandler), h.b.$on(Dt.b.STORAGE_UPDATE, this.storageUpdateHandler), h.b.$on(Dt.b.MORE_PANEL_CLOSE, this.morePanelClose), h.b.$on(Dt.b.LOAD_NOTICE, this.updatePublishTime), h.b.$on(Dt.b.REMOVE_SCROLL, (function () {
                    h.b.$off(Dt.b.SCROLL, e), Object(v.i)(t.scrollContainer, "scroll", t.scrollHandler)
                })), (this.isHotTab || this.isTagPage) && h.b.$on(Dt.b.ATTENTION_LIST_UPDATE, (function () {
                    t.attentionList = h.r.getMyAttentionList(), t.isUnfocus = -1 === t.attentionList.indexOf(t.cardInfo.desc.uid)
                }))
            }, delete: function () {
                var t = this;
                Dt.e.forEach((function (e) {
                    e.type !== Dt.a.ALL && e.type !== t.cardInfo.desc.type || h.q.delete("dynamic_cards_".concat(t.uid, "_").concat(e.type), t.cardInfo)
                })), this.$emit("delete", this.cardInfo)
            }, getNewDate: function () {
                return new Date
            }, storageUpdateHandler: function (t) {
                var e = this;
                this.cardInfo.desc.dynamic_id === t.desc.dynamic_id && Dt.e.forEach((function (i) {
                    i.type !== Dt.a.ALL && i.type !== t.desc.type || h.q.replace("dynamic_cards_".concat(e.uid, "_").concat(i.type), t)
                }))
            }, updatePublishTime: function () {
                this.date = this.getNewDate()
            }, onWrapperClick: function (t) {
                h.b.$emit(Dt.b.IFRAME_WRAPPER_CLICK, t, this.cardInfo.desc.dynamic_id)
            }, onUnfold: function () {
                Object(p.d)(Dt.d.FOLD_CLICK, this.cardInfo.foldType), this.$emit("unfold", {
                    index: this.idx,
                    ids: this.cardInfo.allIds || []
                })
            }, getFoldUserAvatarStyle: function (t) {
                var e = t.face || "//static.hdslb.com/images/member/noface.gif";
                return {backgroundImage: "url(".concat(Object(m.bfsImgLink)(e, 30, 30).replace(/^http:/, ""), ")")}
            }, onSvgaStart: function () {
                var t = this;
                setTimeout((function () {
                    t.svgaPlayerStart = !0
                }), 0)
            }, onSvgaFinish: function () {
                this.svgaPlayerShown = !1, this.svgaPlayerStart = !1, this.updatePraiseStatus(!1)
            }
        },
        computed: {
            usernameColor: function () {
                if (this.isYearlyVip) {
                    var t, e, i, n,
                        o = null === (t = this.cardInfo) || void 0 === t || null === (e = t.desc) || void 0 === e || null === (i = e.user_profile) || void 0 === i || null === (n = i.vip) || void 0 === n ? void 0 : n.nickname_color;
                    if (o) return "color: ".concat(o, ";")
                }
                return ""
            }, isRealSelf: function () {
                return this.cardInfo.desc.type === Dt.a.CHEESE_SERIES || this.cardInfo.desc.type === Dt.a.CHEESE_UPDATE ? this.uid === this.cardData.uid : this.isSelf
            }, isShowCard: function () {
                return this.disableLazyLoad || this.lazyLoaded
            }, isShowButtonBar: function () {
                return this.cardData.comment_id > 0 && !this.isDraft
            }, cardData: function () {
                return this.canRender ? Object(v.e)(this.cardInfo) : {}
            }, getPageSpmid: function () {
                try {
                    return window.document.querySelector("[name=spm_prefix]").content
                } catch (t) {
                    return ""
                }
            }, originCardData: function () {
                return Object(v.h)(this.cardInfo)
            }, uid: function () {
                return h.r.getMyLoginInfo().isLogin ? h.r.getMyLoginInfo().mid : 0
            }, card: function () {
                return Object(d.e)(this.cardInfo.card)
            }, isHotTab: function () {
                return this.currentType === Dt.a.HOT
            }, cardStyle: function () {
                return {
                    "min-height": this.lazyLoaded ? "" : "150px",
                    "margin-top": 0 !== this.idx || this.isDetailPage ? "8px" : "0",
                    border: this.isGamePage && 0 === this.idx || this.isMainPage ? "" : "1px solid #eee"
                }
            }, showForwardingPanel: function () {
                return 1 === this.defaultTab && !this.showCommentPanelData && !this.isDeletedDyn || this.showForwardingPanelData
            }, showCommentPanel: function () {
                return 2 === this.defaultTab && !this.showForwardingPanelData || this.showCommentPanelData
            }, isDeletedDyn: function () {
                var t = this.cardInfo.desc.type === Dt.a.REPOST ? this.card.item.orig_type : this.cardInfo.desc.type;
                return Dt.a.NONE === t
            }, isCheeseSeries: function () {
                var t = this.cardInfo.desc.type === Dt.a.REPOST ? this.card.item.orig_type : this.cardInfo.desc.type;
                return Dt.a.CHEESE_SERIES === t
            }, isCheeseUpdate: function () {
                var t = this.cardInfo.desc.type === Dt.a.REPOST ? this.card.item.orig_type : this.cardInfo.desc.type;
                return Dt.a.CHEESE_UPDATE === t
            }, userHead: function () {
                return Object(m.bfsImgLink)(Object(d.g)(this.cardData.face), 48, 48)
            }, isDetailPage: function () {
                return this.pageType === Dt.c.DETAIL
            }, isMainPage: function () {
                return this.pageType === Dt.c.MAIN
            }, isSpacePage: function () {
                return this.pageType === Dt.c.SPACE
            }, isTagPage: function () {
                return this.pageType === Dt.c.TAG
            }, isGamePage: function () {
                return this.pageType === Dt.c.GAME
            }, isGuestPage: function () {
                return this.pageType === Dt.c.GUEST
            }, isLivePage: function () {
                return this.pageType === Dt.c.LIVE
            }, setTopText: function () {
                return this.cardData.isSetTop ? "取消置顶" : "置顶"
            }, attentionText: function () {
                return this.isUnfocus ? "关注" : "取消关注"
            }, spmPageTypeString: function () {
                return this.isGuestPage ? "nologin" : this.isMainPage ? "dt" : this.isDetailPage ? "detail" : this.isSpacePage ? "space" : this.isTagPage ? "topic" : this.isLivePage ? "live" : ""
            }, isPersonalIdentity: function () {
                return this.cardInfo.desc && this.cardInfo.desc.user_profile && this.cardInfo.desc.user_profile.card && this.cardInfo.desc.user_profile.card.official_verify && 0 === this.cardInfo.desc.user_profile.card.official_verify.type
            }, isCompanyIdentity: function () {
                return this.cardInfo.desc && this.cardInfo.desc.user_profile && this.cardInfo.desc.user_profile.card && this.cardInfo.desc.user_profile.card.official_verify && 1 === this.cardInfo.desc.user_profile.card.official_verify.type
            }, isBigVip: function () {
                return this.cardInfo.desc.user_profile && this.cardInfo.desc.user_profile.vip && this.cardInfo.desc.user_profile.vip.vipType > 0 && 1 === this.cardInfo.desc.user_profile.vip.vipStatus
            }, isYearlyVip: function () {
                return this.isBigVip && 2 === this.cardInfo.desc.user_profile.vip.vipType
            }, verifyIconType: function () {
                return !this.isBigVip || this.isPersonalIdentity || this.isCompanyIdentity ? this.isCompanyIdentity ? "business" : this.isPersonalIdentity ? "personal" : "" : "big-vip"
            }, avatarStepWidth: function () {
                var t = this.cardInfo.desc.user_profile;
                try {
                    return !d.c && t.pendant.image_enhance_frame ? 3240 : 81
                } catch (t) {
                    return 81
                }
            }, isBigCardDecorator: function () {
                var t = this.cardInfo.desc.user_profile;
                return !(!t || !t.decorate_card) && !!(t.decorate_card.card_url && t.decorate_card.fan && t.decorate_card.fan.is_fan && 3 === t.decorate_card.item_type)
            }, fansCardNumText: function () {
                if (!this.isBigCardDecorator) return "";
                var t = this.cardInfo.desc.user_profile.decorate_card.fan.number;
                return this.cardInfo.desc.user_profile.decorate_card.fan.num_desc || "" || "000000".concat(t).substring(String(t).length)
            }, fansCardTextColorStyle: function () {
                if (!this.isBigCardDecorator) return "";
                var t = this.cardInfo.desc.user_profile.decorate_card.fan.color;
                return "color: ".concat(t, ";")
            }, cardDecoratorStyle: function () {
                var t = this.cardInfo.desc.user_profile;
                if (!t || !t.decorate_card || !t.decorate_card.card_url) return "";
                var e = "";
                this.showFocusButton && (e = "right: 107px;"), this.isBigCardDecorator && (e = "".concat(e, " width: 146px; height: 44px;"));
                var i = t.decorate_card.card_url;
                return "background-image: url(".concat(i.replace(/^http?:/, ""), "); ").concat(e, ";")
            }, cardDecoratorTitle: function () {
                var t = this.cardInfo.desc.user_profile;
                return t && t.decorate_card && t.decorate_card.name ? t.decorate_card.name : ""
            }, showFocusButton: function () {
                return (this.isHotTab || this.isTagPage) && !this.isRealSelf && !this.isCheeseUpdate
            }, showSetTopButton: function () {
                return this.isSelf && this.pageType == Dt.c.SPACE
            }, showMoreButton: function () {
                return (this.showDeleteButton || this.showAttentionButton || this.showReportButton || this.showSetTopButton) && !this.isDraft
            }, showUnsubscribeButton: function () {
                return this.cardInfo.desc.type === Dt.a.SUBSCRIPTION
            }, showUncollectButton: function () {
                return this.cardInfo.desc.type === Dt.a.COLLECTION
            }, showDeleteButton: function () {
                var t = this.cardInfo.desc.type;
                return this.isRealSelf && !this.isHotTab && (t === Dt.a.REPOST || t === Dt.a.WORD || t === Dt.a.PIC || t === Dt.a.H5_SHARE || t === Dt.a.CLIP || t === Dt.a.COMIC_SHARE)
            }, showAttentionButton: function () {
                var t = this.cardInfo.desc.type === Dt.a.SUBSCRIPTION;
                return !(this.isRealSelf || this.isHotTab || this.pageType !== Dt.c.MAIN || this.isBangumiLike || this.showFocusButton || this.isCheeseUpdate || t)
            }, showReportButton: function () {
                var t = this.cardInfo.desc.type;
                return !this.isRealSelf && -1 === [Dt.a.DRAMA, Dt.a.BANGUMI, Dt.a.PGC_BANGUMI, Dt.a.FILM, Dt.a.TV, Dt.a.GUOCHUANG, Dt.a.DOCUMENTARY, Dt.a.HOT].indexOf(t)
            }, disabledDraftButton: function () {
                return 1 === this.cardInfo.desc.draft_status
            }, publishTime: function () {
                var t = this.cardInfo.desc.type,
                    e = this.cardInfo.display && this.cardInfo.display.usr_action_txt || "";
                if (t === Dt.a.LIVE_PUSH) return e || "直播了";
                if (t === Dt.a.SUBSCRIPTION) return e = "live_room" === this.card.type ? "直播了 · " : "", "".concat(e, "来自我的预约");
                var i = this.cardInfo.desc.type === Dt.a.COLLECTION, n = this.date, o = Object(h.d)(n, "yyyy-MM-dd"),
                    r = n.getTime(), a = i ? 1e3 * this.card.pubdate : 1e3 * this.cardInfo.desc.timestamp,
                    s = new Date(a);
                if (this.isDraft) return Object(h.d)(s, "yyyy-MM-dd") === o ? "今天 " + Object(h.d)(s, "hh:mm") : Object(h.d)(s, "MM-dd hh:mm");
                var c = r - a, l = Math.floor(c / 6e4), u = Math.floor(l / 60),
                    d = new Date(o + " 00:00:00").getTime() - 864e5,
                    f = new Date(Object(h.d)(n, "yyyy") + "-01-01").getTime();
                return u < 1 && l <= 1 ? "刚刚" : u < 1 && l > 1 && l < 60 ? "".concat(l, " 分钟前") : u >= 1 && u < 24 ? "".concat(u, " 小时前") : a >= d ? "昨天 " + Object(h.d)(s, "hh:mm") : a >= f ? Object(h.d)(s, "MM-dd") : Object(h.d)(s, "yyyy-MM-dd")
            }, publishAction: function () {
                if (!this.isBangumiLike) return "";
                var t = "更新了";
                if (this.cardInfo.desc.type === Dt.a.COLLECTION) {
                    t = this.cardInfo.display && this.cardInfo.display.usr_action_txt ? this.cardInfo.display.usr_action_txt : "更新了合集", t = "".concat(this.card.collection && this.card.collection.name || "").concat(t)
                }
                return "".concat(" ").concat(t)
            }, isBangumi: function () {
                return -1 !== [Dt.a.BANGUMI, Dt.a.PGC_BANGUMI].indexOf(this.cardInfo.desc.type)
            }, isBangumiLike: function () {
                return -1 !== [Dt.a.FILM, Dt.a.TV, Dt.a.DOCUMENTARY, Dt.a.BANGUMI, Dt.a.PGC_BANGUMI, Dt.a.GUOCHUANG, Dt.a.COLLECTION].indexOf(this.cardInfo.desc.type)
            }, isFakeCard: function () {
                return this.cardInfo.desc.dynamic_id < 0
            }, focusButtonStyle: function () {
                return this.showMoreButton ? "right: 48px" : "right: 16px"
            }, morePanelStyle: function () {
                return this.isTagPage ? "right: -9px" : "right: 5px"
            }, showFoldUsers: function () {
                return 2 === this.cardInfo.foldType
            }, foldAllIds: function () {
                return this.cardInfo.allIds
            }, foldUserList: function () {
                var t = this;
                if (!this.foldItems) return [];
                var e = {}, i = [];
                return this.foldAllIds.forEach((function (i) {
                    var n = t.foldItems[i].desc.user_profile;
                    e[n.info.uid] = n
                })), Object.keys(e).forEach((function (t) {
                    i.push(e[t])
                })), i
            }, showFoldUserInfoList: function () {
                var t = this.foldUserList.slice(0, 4), e = [];
                return t.forEach((function (t) {
                    e.push(t.info)
                })), e
            }, foldText: function () {
                var t = "", e = this.foldAllIds;
                switch (this.cardInfo.foldType) {
                    case 1:
                        e.length > 1 && (t = "展开".concat(e.length - 1, "条相关动态"));
                        break;
                    case 2:
                        var i = this.showFoldUserInfoList.length;
                        t = i > 1 ? "等".concat(i, "人转发了此动态") : "转发了此动态";
                        break;
                    case 3:
                        t = "展开".concat(e.length - 1, "条相关动态")
                }
                return t
            }, isLoved: function () {
                return this.isLovedTemp > -1 ? this.isLovedTemp : this.cardInfo.desc.is_liked
            }, extendJsonLikeIcon: function () {
                return Object(d.e)(this.cardInfo.extend_json).like_icon || {}
            }, notLovedIconUrl: function () {
                return this.extendJsonLikeIcon.start_url || ""
            }, lovedIconUrl: function () {
                return this.extendJsonLikeIcon.end_url || ""
            }, loveAnimationUrl: function () {
                return this.extendJsonLikeIcon.action_url || ""
            }, customLikeIconStaticStyle: function () {
                return this.isPraiseHover || this.isLoved ? this.lovedIconUrl ? "background-image: url(".concat(this.lovedIconUrl, ");") : "" : this.notLovedIconUrl ? "background-image: url(".concat(this.notLovedIconUrl, ");") : ""
            }, likeUsersPanelShow: function () {
                return this.cardInfo.display && this.cardInfo.display.like_info && this.cardInfo.display.like_info.like_users && this.cardInfo.display.like_info.like_users.length > 0
            }
        }
    }, ze = (i(392), i(393), Object(A.a)(He, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", [t.hasFolded() ? i("div", {
            staticClass: "folded-card",
            on: {click: t.handleExpandCards}
        }, [i("span", {staticClass: "fold-text"}, [t._v(t._s(t.limitedFoldInfo[t.foldIndex].foldMsg))]), i("span", {staticClass: "fold-arrow"})]) : i("div", {
            ref: "card",
            staticClass: "card",
            class: {"chrome-scale-1-1": t.chromeScaleFix},
            style: t.cardStyle,
            attrs: {"data-did": t.cardInfo.desc.dynamic_id},
            on: {click: t.onWrapperClick, mouseenter: t.inThisCard, mouseleave: t.outThisCard}
        }, [t.isShowCard && t.isBangumiLike ? i("a", {
            ref: "userhead",
            staticClass: "user-head c-pointer",
            style: {backgroundImage: "url(" + t.userHead + ")", "border-radius": t.isBangumiLike ? "12px" : "50%"},
            attrs: {href: t.cardData.name_url, target: "_blank"},
            on: {click: t.clickHeadLog}
        }) : t._e(), t.isBangumiLike ? t._e() : i("a", {
            ref: "userhead",
            staticClass: "user-head c-pointer avatar-comp",
            attrs: {target: "_blank", id: "dynamicId_" + t.cardInfo.desc.dynamic_id, href: t.cardData.name_url},
            on: {click: t.clickHeadLog}
        }), t.isShowCard ? t._e() : i("card-skeleton"), t.isShowCard && t.canRender ? i("div", {
            staticClass: "main-content",
            style: {"padding-bottom": t.isShowButtonBar ? "0" : "24px"}
        }, [t.isBangumiLike && t.cardData.bangumi_desc ? [t.cardData.bangumi_url ? i("a", {
            staticClass: "d-i-block type-label c-pointer",
            attrs: {href: t.cardData.bangumi_url, target: "_blank"}
        }, [t._v(t._s(t.cardData.bangumi_desc))]) : i("div", {staticClass: "d-i-block type-label c-default"}, [t._v(t._s(t.cardData.bangumi_desc))])] : t._e(), i("div", {staticClass: "user-name fs-16 ls-0 d-i-block"}, [i("a", {
            ref: "username",
            staticClass: "c-pointer",
            style: t.usernameColor,
            attrs: {href: t.cardData.name_url, target: "_blank"},
            on: {click: t.clickNameLog}
        }, [t._v(t._s(t.cardData.name))])]), i("div", {staticClass: "time fs-12 ls-0 tc-slate"}, [t.isBangumiLike || t.isDetailPage || t.isFakeCard ? i("span", [t._v(t._s(t.publishTime))]) : i("a", {
            staticClass: "detail-link tc-slate",
            attrs: {href: t.cardData.detail_url, target: "_blank"}
        }, [t._v(t._s(t.publishTime))]), i("span", [t._v(t._s(t.publishAction))])]), i("card-content", {
            ref: "cardContent",
            attrs: {
                "card-info": t.cardInfo,
                "card-data": t.cardData,
                "is-fake": t.isFakeCard,
                "my-uid": t.uid,
                "is-detail": t.isDetailPage,
                "current-type": t.currentType,
                "popup-dom": t.popupDom,
                "is-guest": t.isGuestPage,
                "spm-page-type-string": t.spmPageTypeString,
                regString: t.regString
            }
        }), t.isDraft && t.cardInfo.desc.error_msg ? i("div", {staticClass: "error-msg fs-14 ls-0"}, [i("i", {staticClass: "icon-error"}, [t._v("​")]), t._v("定时发布失败，" + t._s(t.cardInfo.desc.error_msg) + "\n      ")]) : t._e(), !t.isFakeCard && t.isShowButtonBar ? i("div", {staticClass: "button-bar tc-slate"}, [i("div", {
            staticClass: "single-button c-pointer",
            on: {click: t.onTransmitClick, mouseenter: t.onTransmitHover, mouseleave: t.onTransmitLeave}
        }, [i("span", {
            staticClass: "text-bar",
            class: {selected: t.showForwardingPanel || t.isTransmitHover}
        }, [i("i", {
            staticClass: "bp-svg-icon single-icon",
            class: {transmit: !t.showForwardingPanel, "transmit-hover": t.showForwardingPanel || t.isTransmitHover}
        }), i("span", {
            ref: "transmitRef",
            staticClass: "text-offset"
        }, [t._v("\n              " + t._s(t.cardInfo.desc.repost ? t.numberFormat(t.cardInfo.desc.repost) : "转发") + "\n            ")])])]), i("div", {
            staticClass: "single-button c-pointer",
            on: {click: t.onCommentClick, mouseenter: t.onCommentHover, mouseleave: t.onCommentLeave}
        }, [i("span", {
            staticClass: "text-bar",
            class: {selected: t.showCommentPanel || t.isCommentHover}
        }, [i("i", {
            staticClass: "bp-svg-icon single-icon",
            class: {comment: !t.showCommentPanel, "comment-hover": t.showCommentPanel || t.isCommentHover}
        }), i("span", {staticClass: "text-offset"}, [t._v("\n              " + t._s(t.cardData.comment_count ? t.numberFormat(t.cardData.comment_count) : "评论") + "\n            ")])])]), i("div", {
            ref: "praiseBtn",
            staticClass: "single-button c-pointer p-rel",
            on: {click: t.onPraiseClick, mouseenter: t.onPraiseHover, mouseleave: t.onPraiseLeave}
        }, [i("span", {
            staticClass: "text-bar",
            class: {selected: 1 === t.isLoved || t.isPraiseHover}
        }, [t.customLikeIconStaticStyle ? t._e() : i("i", {
            staticClass: "custom-like-icon",
            class: {zan: !t.isLoved, "zan-hover": 1 === t.isLoved, "zan-a-hover": t.isPraiseHover}
        }), t.customLikeIconStaticStyle ? i("i", {
            staticClass: "custom-like-icon",
            style: t.customLikeIconStaticStyle
        }) : t._e(), i("span", {
            staticClass: "text-offset",
            domProps: {textContent: t._s(t.cardInfo.desc.like < 1 ? "赞" : t.numberFormat(t.cardInfo.desc.like))}
        })]), t.svgaPlayerShown ? i("svga-player", {
            staticClass: "svga-position",
            attrs: {src: t.loveAnimationUrl, id: "svga-" + t.cardInfo.desc.dynamic_id},
            on: {start: t.onSvgaStart, finish: t.onSvgaFinish}
        }) : t._e()], 1)]) : t._e(), t.isFakeCard && !t.isDraft ? i("div", {staticClass: "button-bar tc-slate"}, [t._m(0), t._m(1), t._m(2)]) : t._e()], 2) : t._e(), t.cardDecoratorStyle ? i("div", {
            staticClass: "card-decorator",
            style: t.cardDecoratorStyle,
            attrs: {title: t.cardDecoratorTitle}
        }, [t.isBigCardDecorator ? i("div", {
            staticClass: "fans-card-text",
            style: t.fansCardTextColorStyle
        }, [t._v(t._s(t.fansCardNumText))]) : t._e()]) : t._e(), t.showFocusButton && t.isShowCard ? i("div", {
            staticClass: "focus-btn p-abs c-pointer",
            style: t.focusButtonStyle,
            on: {click: t.onUnfocusClick}
        }, [t.isUnfocus ? i("div", {staticClass: "unfocus t-center w-100 h-100"}, [i("p", {staticClass: "unfocus-text fs-14"}, [t._v("+ 关注")])]) : i("div", {staticClass: "focus t-center w-100 h-100"}, [i("p", {staticClass: "focus-text fs-14"}, [t._v("已关注")])])]) : t._e(), t.showMoreButton ? [i("div", {
            ref: "buttonArea",
            staticClass: "button-area c-pointer"
        }, [i("div", {staticClass: "more-button bp-icon-font icon-more-1"})]), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.showMorePanel,
                expression: "showMorePanel"
            }], ref: "morePanel", staticClass: "more-panel fs-14 ls-0", class: t.isTagPage && "tag"
        }, [t.showSetTopButton ? i("p", {
            ref: "setTopRef",
            staticClass: "child-button c-pointer",
            on: {click: t.onSetTopClick}
        }, [t._v(t._s(t.setTopText))]) : t._e(), t.showDeleteButton ? i("p", {
            ref: "deleteRef",
            staticClass: "child-button c-pointer",
            on: {click: t.onDeleteClick}
        }, [t._v("删除")]) : t._e(), t.showUncollectButton ? i("p", {
            ref: "uncollectRef",
            staticClass: "child-button c-pointer",
            on: {click: t.onUncollectClick}
        }, [t._v("取消收藏")]) : t._e(), t.showUnsubscribeButton ? i("p", {
            ref: "unsubscribeRef",
            staticClass: "child-button c-pointer",
            on: {click: t.onUnsubscribeClick}
        }, [t._v("不感兴趣")]) : t._e(), t.showAttentionButton ? i("p", {
            staticClass: "child-button c-pointer",
            on: {click: t.onUnfocusClick}
        }, [t._v(t._s(t.attentionText))]) : t._e(), t.showReportButton ? i("p", {
            ref: "reportRef",
            staticClass: "child-button c-pointer",
            on: {click: t.onReportClick}
        }, [t._v("举报")]) : t._e()])] : t._e(), t.isDraft ? [i("div", {staticClass: "button-group fs-12 ls-0 t-center"}, [i("p", {
            staticClass: "draft-button",
            on: {click: t.editDraft}
        }, [t._v("编辑")]), i("p", {
            ref: "sendNowBtn",
            staticClass: "draft-button",
            on: {click: t.sendDraft}
        }, [t._v("\n          " + t._s(t.disabledDraftButton ? "发送中" : "立即发送") + "\n        ")]), i("p", {
            staticClass: "draft-button",
            on: {click: t.deleteDraft}
        }, [t._v("删除")]), t.disabledDraftButton ? i("div", {staticClass: "disabled"}) : t._e()])] : t._e(), i("report-popup", {
            attrs: {
                show: t.reportPopupShow,
                "object-id": t.reportDid,
                "accused-uid": t.reportUid
            }, on: {success: t.onReportSucess, cancel: t.onReportCancel}
        }), t.showForwardingPanel && !t.isFakeCard ? i("div", {staticClass: "panel-area"}, [i("forwarding", {
            attrs: {
                "page-type": t.pageType,
                "feed-current-type": t.currentType,
                "card-info": t.cardInfo,
                "card-data": t.cardData
            }
        })], 1) : t._e(), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.showCommentPanel && !t.isFakeCard,
                expression: "showCommentPanel && !isFakeCard"
            }], ref: "bbcomment", staticClass: "panel-area"
        }), t.foldText ? i("div", {staticClass: "fold-box"}, [i("div", {
            staticClass: "fold-hoverable",
            on: {click: t.onUnfold}
        }, [t.showFoldUsers ? i("div", {staticClass: "fold-users"}, t._l(t.showFoldUserInfoList, (function (e, n) {
            return i("div", {
                key: n,
                staticClass: "fold-user-avatar",
                style: t.getFoldUserAvatarStyle(e),
                attrs: {title: e.uname}
            })
        })), 0) : t._e(), i("span", {staticClass: "fold-text"}, [t._v(t._s(t.foldText))]), i("span", {staticClass: "fold-arrow"})])]) : t._e()], 2)])
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "single-button"}, [e("i", {staticClass: "bp-svg-icon transmit-disable single-icon"}), e("span", [this._v("--")])])
    }, function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "single-button"}, [e("i", {staticClass: "bp-svg-icon comment-disable single-icon"}), e("span", [this._v("--")])])
    }, function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "single-button"}, [e("i", {staticClass: "bp-svg-icon zan-disable single-icon"}), e("span", [this._v("--")])])
    }], !1, null, "240e4acb", null).exports);
    i(394);
    o.a.use(Object(r.a)()), o.a.use(a.a), o.a.use(K.b);
    e.a = ze
}, function (t, e, i) {
    "use strict";
    i(17), i(11), i(30), i(6);
    var n = {
        props: {
            topOffset: {type: Number, default: 0},
            innerTopOffset: {type: Number, default: 0},
            distanceFromTop: {type: Number, default: 8},
            distanceFromBottom: {type: Number, default: 8}
        }, data: function () {
            return {
                notSupportSticky: !1,
                position: "static",
                contenterHeight: 0,
                contentOffset: 0,
                stickyThreshold: 0,
                stickyTop: !1
            }
        }, computed: {
            containerStyle: function () {
                return {"min-height": "".concat(this.contenterHeight, "px")}
            }, mTopStyle: function () {
                return {marginTop: "".concat(this.contentOffset, "px")}
            }, contentStyle: function () {
                return {
                    top: this.stickyTop ? "".concat(this.stickyThreshold, "px") : null,
                    bottom: this.stickyTop ? null : "".concat(this.stickyThreshold, "px"),
                    position: this.position
                }
            }
        }, mounted: function () {
            var t = navigator.userAgent.match(/Edge\/\d+\.\d+/) && "function" == typeof window.StyleMedia;
            if (this.notSupportSticky = t || !(window.CSS && CSS.supports && CSS.supports("position", "sticky")), !this.notSupportSticky) {
                this.updatePositioning(), window.addEventListener("scroll", this.scheduleUpdatePositioning);
                this.$refs.container.getBoundingClientRect();
                var e = window.scrollY;
                this.lastScroll = e
            }
        }, beforeDestroy: function () {
            window.removeEventListener("scroll", this.scheduleUpdatePositioning)
        }, methods: {
            scheduleUpdatePositioning: function () {
                this.timeout && window.cancelAnimationFrame(this.timeout), this.timeout = window.requestAnimationFrame(this.updatePositioning)
            }, updatePositioning: function (t) {
                var e = this.$refs.content, i = this.$refs.container, n = (this.$refs.mtop, window.scrollY),
                    o = n - this.lastScroll;
                if (!Math.abs(o) < .5 || t) {
                    this.lastScroll = n;
                    var r = e.getBoundingClientRect(), a = i.getBoundingClientRect(), s = window.innerHeight, c = o > 0;
                    if (this.contenterHeight = Math.max(s, r.height), r.height < s) this.position = this.notSupportSticky ? "static" : "sticky", this.stickyTop = !0, this.contentOffset = 0, this.stickyThreshold = this.distanceFromTop; else {
                        var l = n + a.top, u = Math.max(r.top - a.top, 0), d = window.devicePixelRatio || 1,
                            h = c !== this.stickyTop, f = r.bottom - s + this.distanceFromBottom <= 1 / d,
                            p = l - r.top <= 1 / d;
                        if (c && f || !c && p) this.position = "fixed", this.stickyTop = p, this.stickyThreshold = p ? l : this.distanceFromBottom, this.contentOffset = u; else {
                            var m = s - r.height - this.distanceFromBottom, v = s - r.height;
                            this.position = this.notSupportSticky ? "static" : "sticky", this.stickyTop = c, this.stickyThreshold = c ? m : v, this.contentOffset = h ? u : this.contentOffset
                        }
                    }
                }
            }
        }
    }, o = (i(460), i(1)), r = Object(o.a)(n, (function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {
            ref: "container",
            staticClass: "adaptive-scroll",
            style: this.containerStyle
        }, [e("div", {ref: "mtop", style: this.mTopStyle}), e("div", {
            ref: "content",
            staticClass: "scroll-content",
            style: this.contentStyle
        }, [this._t("default")], 2)])
    }), [], !1, null, "08ab5c2b", null);
    e.a = r.exports
}, function (t, e, i) {
    "use strict";
    i(12), i(27);
    var n = i(106), o = i.n(n), r = i(34);
    i(36), i(506);

    function a() {
        var t = C(["\n      stroke: currentColor;\n      stroke-width: 1.4 !important;\n      fill: none;\n    "]);
        return a = function () {
            return t
        }, t
    }

    function s() {
        var t = C(["\n      stroke: currentColor;\n      fill: none;\n    "]);
        return s = function () {
            return t
        }, t
    }

    function c() {
        var t = C(["\n            stroke: #ffa726;\n            fill: #ffa726;\n          "]);
        return c = function () {
            return t
        }, t
    }

    function l() {
        var t = C(["\n            fill: none;\n            stroke: #cccccc;\n          "]);
        return l = function () {
            return t
        }, t
    }

    function u() {
        var t = C(["\n        .border {\n          fill: #fff;\n        }\n        .content {\n          fill: ", ";\n        }\n      "]);
        return u = function () {
            return t
        }, t
    }

    function d() {
        var t = C(["\n            .border {\n              fill: #d0d7dd;\n            }\n            .content {\n              fill: #e3e8ec;\n              fill-opacity: 0.3;\n            }\n            .dot {\n              fill: none;\n            }\n          "]);
        return d = function () {
            return t
        }, t
    }

    function h() {
        var t = C(["\n            .border,\n            .dot {\n              fill: #23ade5;\n            }\n            .content {\n              fill: none;\n            }\n          "]);
        return h = function () {
            return t
        }, t
    }

    function f() {
        var t = C(["\n            .highlight,\n            .content,\n            .heart {\n              fill: none;\n            }\n            .border {\n              fill: #999;\n            }\n          "]);
        return f = function () {
            return t
        }, t
    }

    function p() {
        var t = C(["\n            .highlight {\n              fill: #fff;\n            }\n            .content {\n              fill: #ffd876;\n            }\n            .border,\n            .heart {\n              fill: #db8b20;\n            }\n          "]);
        return p = function () {
            return t
        }, t
    }

    function m() {
        var t = C(["\n      .mark {\n        fill: #ea5c82;\n      }\n      .border {\n        fill: #ff94b1;\n      }\n      .content {\n        fill: #fff;\n      }\n    "]);
        return m = function () {
            return t
        }, t
    }

    function v() {
        var t = C(["\n        .fill {\n          fill: ", ";\n        }\n        .border {\n          fill: ", ";\n        }\n      "]);
        return v = function () {
            return t
        }, t
    }

    function g() {
        var t = C(["\n        fill: ", ";\n      "]);
        return g = function () {
            return t
        }, t
    }

    function y() {
        var t = C(["\n            .border {\n              fill: #999;\n            }\n            .content,\n            .content-star,\n            .highlight {\n              fill: none;\n            }\n          "]);
        return y = function () {
            return t
        }, t
    }

    function b() {
        var t = C(["\n            .content {\n              fill: #fff;\n            }\n            .content-star {\n              fill: #ffd876;\n            }\n            .border,\n            .highlight {\n              fill: #db8b20;\n            }\n          "]);
        return b = function () {
            return t
        }, t
    }

    function _() {
        var t = C(["\n        stroke: currentColor;\n        fill: none;\n        .path-2 {\n          stroke: currentColor;\n          fill: none;\n        }"]);
        return _ = function () {
            return t
        }, t
    }

    function w() {
        var t = C(["\n        stroke: currentColor;\n        fill: none;\n        .path-2 {\n          opacity: 0;\n          fill: none;\n\n        }"]);
        return w = function () {
            return t
        }, t
    }

    function C(t, e) {
        return e || (e = t.slice(0)), Object.freeze(Object.defineProperties(t, {raw: {value: Object.freeze(e)}}))
    }

    var x = {
        add: {
            viewBox: "0 0 40 40",
            shape: '<path d="M22.9,17.1V2.8a2.9,2.9,0,0,0-5.8,0V17.1H2.8a2.9,2.9,0,0,0,0,5.8H17.1V37.2A2.82,2.82,0,0,0,20,40a2.88,2.88,0,0,0,2.9-2.8V22.9H37.2A2.82,2.82,0,0,0,40,20a2.88,2.88,0,0,0-2.8-2.9Z"/>'
        },
        "arrow-left": {
            viewBox: "0 0 20 20",
            shape: '<g transform="translate(0,-277)"><path d="m 6.1595699,286.54933 8.6409671,8.11208 c 0.26595,0.24967 0.26595,0.65166 0,0.90134 -0.265949,0.24967 -0.694158,0.24967 -0.960108,0 l -8.6409667,-8.11208 c -0.2659497,-0.24967 -0.2659497,-0.65167 0,-0.90134 0.2659497,-0.24967 0.6941577,-0.24967 0.9601076,0 z m -0.9601076,0 8.6409667,-8.11208 c 0.26595,-0.24967 0.694159,-0.24967 0.960108,0 0.26595,0.24968 0.26595,0.65168 0,0.90134 l -8.6409671,8.11208 c -0.2659499,0.24967 -0.6941579,0.24967 -0.9601076,0 -0.2659497,-0.24967 -0.2659497,-0.65167 0,-0.90134 z"/></g>'
        },
        "arrow-right": {
            viewBox: "0 0 20 20",
            shape: '<g transform="translate(0,-277)"><path d="m 13.84043,286.54933 -8.6409675,8.11208 c -0.26595,0.24967 -0.26595,0.65166 0,0.90134 0.265949,0.24967 0.694158,0.24967 0.960108,0 l 8.6409665,-8.11208 c 0.26595,-0.24967 0.26595,-0.65167 0,-0.90134 -0.265949,-0.24967 -0.694157,-0.24967 -0.960107,0 z m 0.960107,0 -8.6409665,-8.11208 c -0.26595,-0.24967 -0.694159,-0.24967 -0.960108,0 -0.26595,0.24968 -0.26595,0.65168 0,0.90134 l 8.6409675,8.11208 c 0.26595,0.24967 0.694158,0.24967 0.960107,0 0.26595,-0.24967 0.26595,-0.65167 0,-0.90134 z"/></g>'
        },
        "bell-empty": {
            shape: '\n      <path d="M2.49999639,12.5 C3.16666305,12.5 3.49999639,11.8333333 3.49999639,10.5 L3.49999639,7.5 C3.49999639,5.01471863 5.51471501,3 7.99999639,3 C10.4852778,3 12.4999964,5.01471863 12.4999964,7.5 L12.4999964,10.5 C12.4999964,11.8333333 12.8333263,12.5 13.4999861,12.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M7.00022411,3 L7.00022411,2 C7.00022411,1.44771525 7.44793936,1 8.00022411,1 C8.55250886,1 9.00022411,1.44771525 9.00022411,2 L9.00022411,3" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M5.9999938,13 C5.9999938,14.1045695 6.89542338,15 7.9999938,15 C9.1045601,15 9.9999938,14.1045695 9.9999938,13" stroke-linecap="round" stroke-linejoin="round"></path>\n      <line x1="2.49999742" y1="12.5" x2="13.4999861" y2="12.5" stroke-linecap="round" stroke-linejoin="round"></line>\n      <line  class="path-2" x1="2.49999639" y1="3.5" x2="13.5002241" y2="14.5" stroke-linecap="round" stroke-linejoin="round"></line>\n    ',
            style: function (t) {
                return "active" === (t.type || "default") ? Object(r.a)(w()) : Object(r.a)(_())
            }
        },
        "bell-full": {
            viewBox: "0 0 16 16",
            shape: '<path d="M8.92463374,1.78708136 C10.326202,2.03214939 11.5270583,2.86089597 12.2674576,4.01357591 L2.65785937,13.293457 L1.43819541,13.293457 C1.30779891,13.293457 1.18256131,13.2425165 1.08918684,13.1514976 C0.891446521,12.9587454 0.887402774,12.6421888 1.08015488,12.4444485 L3.05749512,10.4159368 L3.05749512,6.7121582 C3.05749512,4.26953696 4.80902697,2.2360079 7.12463379,1.79902792 L7.12463379,0.887304664 C7.12463379,0.390248402 7.5275775,-0.0126953125 8.02463377,-0.0126953125 C8.52169003,-0.0126953125 8.92463374,0.390248402 8.92463374,0.887304664 L8.92463374,1.78708136 Z M12.8759223,5.37221736 C12.9942553,5.79866279 13.0574951,6.24802527 13.0574951,6.7121582 L13.0574951,10.7198864 L14.5493504,12.4689868 C14.6265333,12.5594786 14.6689308,12.6745202 14.6689308,12.793457 C14.6689308,13.0695994 14.4450732,13.293457 14.1689308,13.293457 L4.6732385,13.293457 L12.8759223,5.37221736 Z M6,14 L10,14 C10,15.1045695 9.1045695,16 8,16 C6.8954305,16 6,15.1045695 6,14 Z"></path>'
        },
        close: {
            viewBox: "0 0 40 40",
            shape: '<path d="M13.4,9.4L4.9,0.8C3.8-0.3,2-0.3,0.8,0.8c-1.1,1.1-1.1,2.9,0,4.1l8.5,8.5 c1.1,1.1,2.9,1.1,4.1,0C14.6,12.3,14.6,10.5,13.4,9.4z M39.1,35.1l-8.6-8.5c-1.1-1.1-2.9-1.1-4,0s-1.1,3,0,4.1l8.6,8.5 c1.1,1.1,2.9,1.1,4,0C40.3,38.1,40.3,36.3,39.1,35.1z M35.1,0.8L0.8,35.2c-1.1,1.1-1.1,2.9,0,4s2.9,1.1,4,0L39.2,4.9 c1.1-1.1,1.1-2.9,0-4C38.1-0.3,36.3-0.3,35.1,0.8z"/>'
        },
        "close-circle": {
            viewBox: "0 0 10 10",
            shape: '<path d="M 5,1 A 3.9998191,4.0002721 0 0 0 1,4.999547 3.9998191,4.0002721 0 0 0 5,9 3.9998191,4.0002721 0 0 0 9,4.999547 3.9998191,4.0002721 0 0 0 5,1 Z M 2.6572333,2.450017 a 0.21966575,0.21969062 0 0 1 0.1684401,0.0643 L 5,4.688889 7.1743264,2.514317 a 0.21966575,0.21969062 0 0 1 0.3106183,0.310654 l -2.174327,2.174572 2.174327,2.175478 A 0.21966575,0.21969062 0 0 1 7.1743264,7.485675 L 5,5.310196 2.8256734,7.485675 A 0.2199608,0.21998571 0 0 1 2.5141498,7.175021 L 4.6893818,4.999543 2.5141498,2.824971 A 0.21966575,0.21969062 0 0 1 2.6572333,2.450012 Z"/>'
        },
        collection: {
            viewBox: "0 0 40 40",
            shape: '\n      <path\n        class="content"\n        d="M20,33.8,11.2,37c-1.9.7-3.3-.4-3.2-2.4l.5-9.2L2.5,18c-1.3-1.5-.7-3.2,1.2-3.7l9.2-2.4L18,4c1.1-1.7,2.8-1.7,3.9,0L27,12l9.2,2.4c1.9.5,2.5,2.2,1.2,3.7l-6,7.4.5,9.2c.1,2-1.3,3.1-3.2,2.4Z"\n        />\n      <path\n        class="content-star"\n        d="M23.6,33.1l-6.4,2.3c-1.9.7-3.3-.4-3.2-2.4l.4-6.6-4.3-5.3c-1.3-1.6-.7-3.2,1.2-3.7l6.6-1.7,3.7-5.8c1.1-1.7,2.9-1.7,3.9,0l3.7,5.8,6.6,1.7c1.9.5,2.5,2.2,1.2,3.7l-4.3,5.3.4,6.6c.1,2-1.3,3.1-3.2,2.4Z"\n        />\n      <path\n        class="border"\n        d="M19.4,32.1a2.44,2.44,0,0,1,1.2,0l8.8,3.2c.7.2.8.1.8-.6l-.5-9.2a2,2,0,0,1,.4-1.3l6-7.4c.4-.5.4-.6-.3-.8l-9.2-2.4a2.1,2.1,0,0,1-1.1-.8l-5.1-8c-.4-.6-.5-.6-.9,0l-5.1,8a1.55,1.55,0,0,1-1.1.8L4.1,16c-.6.2-.7.3-.3.8l6,7.4a2,2,0,0,1,.4,1.3l-.5,9.2c0,.7.1.8.8.6Zm-7.6,6.7a4,4,0,0,1-5.6-4.2l.5-8.5L1.1,19.3a3.93,3.93,0,0,1,2.2-6.6l8.5-2.2L16.5,3a4,4,0,0,1,7,0l4.8,7.4,8.5,2.2A3.94,3.94,0,0,1,39,19.2L33.4,26l.5,8.5a4,4,0,0,1-5.6,4.2l-8.2-3Z"\n        />\n      <path\n        class="highlight"\n        d="M 32.572266 0.9375 A 1.78 1.78 0 0 0 30.900391 2.3007812 L 29.699219 7.0996094 A 1.71 1.71 0 0 0 31 9.3007812 A 1.78 1.78 0 0 0 33.199219 8 L 34.400391 3.1992188 A 1.71 1.71 0 0 0 33.099609 1 A 1.78 1.78 0 0 0 32.572266 0.9375 z M 38.146484 4.6601562 A 1.7902514 1.7902514 0 0 0 36.699219 5.4003906 L 34.900391 7.8007812 A 1.7902514 1.7902514 0 0 0 37.800781 9.9003906 L 39.599609 7.5 A 1.7902514 1.7902514 0 0 0 38.146484 4.6601562 z M 19.882812 13.996094 A 2 2 0 0 0 19.800781 14 C 15.600781 14.6 12.700781 17.4 12.300781 21.5 A 1.811077 1.811077 0 1 0 15.900391 21.900391 C 16.100391 19.500391 17.700781 17.999609 20.300781 17.599609 A 1.81 1.81 0 0 0 21.900391 15.599609 A 2 2 0 0 0 19.882812 13.996094 z "\n        />\n    ',
            style: function (t) {
                return "active" === (t.type || "default") ? Object(r.a)(b()) : Object(r.a)(y())
            }
        },
        comment: {
            viewBox: "0 0 40 40",
            shape: '<path d="M14.46,3.33H25.58c7.64,0,13.9,6,13.9,13.33S33.22,30,25.58,30h-.76l-7.28,6.67-2-6.67H14.46C6.81,30,.56,24,.56,16.67S6.81,3.33,14.46,3.33ZM36.7,16.67A10.91,10.91,0,0,0,25.58,6H14.46A10.91,10.91,0,0,0,3.34,16.67,10.91,10.91,0,0,0,14.46,27.33h3.19l.58,1.93.72,2.42,4-3.62.81-.74h1.88A10.91,10.91,0,0,0,36.7,16.67Z"/>',
            style: function (t) {
                var e = t.type || "default";
                return Object(r.a)(g(), {active: "#fb7299", disabled: "#dadada", default: "#999"}[e])
            }
        },
        "danmu-a": {
            viewBox: "0 0 40 40",
            shape: '<path d="M32.86,2.84A7.08,7.08,0,0,1,40,10V30a7.08,7.08,0,0,1-7.14,7.15H7.14A7.08,7.08,0,0,1,0,30V10A7.08,7.08,0,0,1,7.14,2.84ZM37.14,30V10A4.21,4.21,0,0,0,32.86,5.7H7.14A4.21,4.21,0,0,0,2.86,10V30A4.21,4.21,0,0,0,7.14,34.3H32.86A4.21,4.21,0,0,0,37.14,30ZM7.86,17.14V14.28h2.86v2.86Zm2.86,8.58V22.86h2.86v2.86Zm5.71,0V22.86H32.14v2.86Zm-2.86-8.58V14.28H30.71v2.86Z"/>'
        },
        dianzan: {
            viewBox: "0 0 40 40",
            shape: '\n      <title>点赞</title>\n      <path\n        class="fill"\n        d="m 35.140937,15.170116 h -12.92 l 0.28,-2.92 0.42,-5.1400001 a 1.28,1.28 0 0 0 -1,-1.53 1.12,1.12 0 0 0 -1.25,0.42 l -6.36,8.1700001 -0.83,1.11 h -8.34 a 2,2 0 0 0 -0.83,0.28 2.29,2.29 0 0 0 -1.25,2.08 v 14.88 a 2,2 0 0 0 0.42,1.25 2,2 0 0 0 2.08,1.11 h 23.33 a 2.36,2.36 0 0 0 1.39,-0.41 3.6,3.6 0 0 0 2.08,-2.78 l 4.44,-14.59 2.5,0.56 -2.5,-0.56 a 2.4,2.4 0 0 0 -0.14,-1.39 2.91,2.91 0 0 0 -1.52,-0.54 l 0.28,-2.5 z"\n        />\n      <path\n        class="border"\n        d="M 21.402578,2.9572256 A 3.91,3.91 0 0 0 18.609609,4.1701163 L 11.810781,12.66035 H 5.5607807 a 8.43,8.43 0 0 0 -2.5,0.689454 4.91,4.91 0 0 0 -2.49999999,4.310546 v 14.859375 a 5.66,5.66 0 0 0 0.68945299,2.5 4.52,4.52 0 0 0 4.310547,2.361329 H 28.859609 a 6.37,6.37 0 0 0 6,-4.861329 l 4.451172,-14.71875 A 4.38,4.38 0 0 0 38.750234,14.330272 4.14,4.14 0 0 0 35.420156,12.66035 H 25.000234 l 0.25,-5.5605462 a 3.91,3.91 0 0 0 -1.25,-3.1894531 3.91,3.91 0 0 0 -2.597656,-0.9531251 z m 0.1875,2.5703126 a 1.12,1.12 0 0 1 0.330078,0.052734 1.28,1.28 0 0 1 1,1.5292969 l -0.419922,5.1406259 -0.279297,2.919921 h 12.919922 a 2.91,2.91 0 0 1 1.519531,0.539062 2.4,2.4 0 0 1 0.140625,1.390626 l -4.441406,14.589843 a 3.6,3.6 0 0 1 -2.080078,2.78125 2.36,2.36 0 0 1 -1.388672,0.410157 H 5.5607807 a 2,2 0 0 1 -2.080078,-1.111329 2,2 0 0 1 -0.419922,-1.25 V 17.640819 a 2.29,2.29 0 0 1 1.25,-2.080078 2,2 0 0 1 0.830078,-0.28125 h 5.8398443 v 19.580078 h 2.5 V 15.279491 l 0.830078,-1.109375 6.359375,-8.1699216 a 1.12,1.12 0 0 1 0.919922,-0.4726562 z"\n        />\n    ',
            style: function (t) {
                var e = t.type || "default";
                return Object(r.a)(v(), "active-fill" === e ? "#ffd9e5" : "none", {
                    active: "#fb7299",
                    "active-fill": "#fb7299",
                    disabled: "#dadada",
                    default: "#999"
                }[e])
            }
        },
        emoji: {
            viewBox: "0 0 24 24",
            shape: '<path d="M2.4,9.1v7.7a4.4,4.4,0,0,0,4.39,4.4H17.21a4.4,4.4,0,0,0,4.39-4.4V9.1a4.4,4.4,0,0,0-4.39-4.4H6.79A4.4,4.4,0,0,0,2.4,9.1Zm13.51,2.18,2.54-1.93a.59.59,0,0,0,.11-.84.6.6,0,0,0-.84-.12l-3.2,2.43a.6.6,0,0,0-.11.84.57.57,0,0,0,.16.15L17.7,14a.6.6,0,0,0,.83-.15.61.61,0,0,0-.15-.84Zm-7.82,0L5.62,13a.61.61,0,0,0-.15.84A.6.6,0,0,0,6.3,14l3.13-2.17a.57.57,0,0,0,.16-.15.6.6,0,0,0-.11-.84L6.28,8.39a.6.6,0,0,0-.84.12.59.59,0,0,0,.11.84ZM16.56,3.5h.65A5.6,5.6,0,0,1,22.8,9.1v7.7a5.6,5.6,0,0,1-5.59,5.6H6.79A5.6,5.6,0,0,1,1.2,16.8V9.1A5.6,5.6,0,0,1,6.79,3.5h.65l-1.06-2A.7.7,0,1,1,7.62.83L9,3.5h6L16.38.86a.7.7,0,0,1,1.24.66ZM12,18.5a3.52,3.52,0,0,0,3.34-2.45A.82.82,0,0,0,14.58,15H9.42a.81.81,0,0,0-.76,1.06A3.48,3.48,0,0,0,12,18.5Z"/>'
        },
        "emoji-face": {
            viewBox: "0 0 16 16",
            shape: '\n      <path d="M8,0.5 C12.1321656,0.5 15.5,3.86783439 15.5,8 C15.5,12.1321656 12.1321656,15.5 8,15.5 C3.86783439,15.5 0.5,12.1321656 0.5,8 C0.5,3.86783439 3.86783439,0.5 8,0.5 Z M8,1.42966262 C4.37937394,1.42966262 1.42966262,4.37937394 1.42966262,8 C1.42966262,11.6206261 4.37937394,14.5703374 8,14.5703374 C11.6206261,14.5703374 14.5703374,11.6206261 14.5703374,8 C14.5703374,4.37937394 11.6206261,1.42966262 8,1.42966262 Z M10.6512739,9.80334395 C10.7468153,9.62420382 10.9737261,9.5406051 11.1528662,9.6361465 C11.3320064,9.7316879 11.4156051,9.95859873 11.3200637,10.1377389 C11.2006369,10.3765924 10.9617834,10.6871019 10.5676752,11.0095541 C9.91082803,11.5230892 9.06289809,11.8335987 8,11.8335987 C6.93710191,11.8335987 6.08917197,11.5230892 5.43232484,11.0095541 C5.03821656,10.6871019 4.79936306,10.3765924 4.67993631,10.1377389 C4.5843949,9.94665605 4.65605096,9.7316879 4.84713376,9.6361465 C5.03821656,9.5406051 5.25318471,9.62420382 5.34872611,9.80334395 C5.36066879,9.83917197 5.40843949,9.89888535 5.46815287,9.98248408 C5.57563694,10.1257962 5.71894904,10.281051 5.89808917,10.4243631 C6.42356688,10.8423567 7.10429936,11.0931529 8,11.0931529 C8.89570064,11.0931529 9.5883758,10.8423567 10.1019108,10.4243631 C10.2691083,10.281051 10.4243631,10.1377389 10.5318471,9.98248408 C10.6035032,9.89888535 10.6393312,9.8272293 10.6512739,9.80334395 Z M10.9097208,5.12181529 C11.4789094,5.12181529 11.9422024,5.58510831 11.9422024,6.15429687 C11.9422024,6.72348544 11.4789094,7.18677846 10.9097208,7.18677846 C10.3405323,7.18677846 9.87723925,6.72348544 9.87723925,6.15429687 C9.87723925,5.58510831 10.3405323,5.12181529 10.9097208,5.12181529 Z M4.90255523,5.12181529 C5.4717438,5.12181529 5.93503682,5.58510831 5.93503682,6.15429687 C5.93503682,6.72348544 5.4717438,7.18677846 4.90255523,7.18677846 C4.33336667,7.18677846 3.87007365,6.72348544 3.87007365,6.15429687 C3.87007365,5.58510831 4.33336667,5.12181529 4.90255523,5.12181529 Z" fill-rule="nonzero"></path>\n    '
        },
        error: {
            viewBox: "0 0 40 40",
            shape: '\n      <path class="content" d="M20,37.33A17.33,17.33,0,1,0,2.67,20,17.33,17.33,0,0,0,20,37.33Z"/>\n      <path class="border" d="M20,40A20,20,0,1,1,40,20,20,20,0,0,1,20,40Zm0-2.67A17.33,17.33,0,1,0,2.67,20,17.33,17.33,0,0,0,20,37.33Z"/>\n      <path class="mark" d="M17.33,10.68a2.67,2.67,0,1,1,5.33,0V21.32a2.67,2.67,0,1,1-5.33,0ZM20,32a2.67,2.67,0,1,1,2.67-2.67A2.67,2.67,0,0,1,20,32Z"/>\n    ',
            style: function () {
                return Object(r.a)(m())
            }
        },
        "gantan-01": {
            viewBox: "0 0 40 40",
            shape: '\n      <path d="M20,27.12A2.85,2.85,0,1,0,22.85,30,2.84,2.84,0,0,0,20,27.12Z"/>\n      <path d="M35.73,15.68C32.1,9.16,25.82,1.54,20,1.49S7.91,9,4.27,15.53C2.71,18.32-2.13,27.83,1.08,33c2.57,4.1,11.4,5.56,19,5.56h.41C27.81,38.46,36.54,37,39,32.93,42.06,27.88,37.27,18.45,35.73,15.68Zm.35,15.48c-1.16,1.91-6.91,3.88-15.65,3.94-8.14,0-15-1.61-16.46-4s-.05-8,3.29-13.95c3.92-7,9.39-12.29,12.74-12.29h0c3.32,0,8.79,5.37,12.72,12.43C36,23.27,37.41,28.95,36.07,31.15Z"/>\n      <path d="M20,10a2.84,2.84,0,0,0-2.85,2.85v8.55a2.85,2.85,0,0,0,5.7,0V12.88A2.84,2.84,0,0,0,20,10Z"/>\n    '
        },
        good: {
            viewBox: "0 0 40 40",
            shape: '\n      <path\n        class="highlight"\n        d="M35.1,13.8c-1.3-.3-4.7-.3-9.6-.5,0-1,.3-2.1.3-3.6,0-4.2-3.1-7.8-5.7-7.8a3.5,3.5,0,0,0-3.4,3.4A9.2,9.2,0,0,1,12,13.6a3,3,0,0,0-1,.5h0a3.2,3.2,0,0,0-2.3-.8H5.2a3.5,3.5,0,0,0-3.4,3.4V34.9a3.5,3.5,0,0,0,3.4,3.4H8.6a3.35,3.35,0,0,0,3.1-2.1H12a28.53,28.53,0,0,0,4.7,1,21.11,21.11,0,0,0,6.8,1h6.2a4.86,4.86,0,0,0,4.2-2.1,5.21,5.21,0,0,0,.5-1.3,2.54,2.54,0,0,0,0-2.1,4.27,4.27,0,0,0,1.8-2.9,4.1,4.1,0,0,0,0-3.1,4.58,4.58,0,0,0,1.6-3.1,3,3,0,0,0-.5-2.6,4.9,4.9,0,0,0,1-2.6v-.8a4.3,4.3,0,0,0-3.2-3.8Z"\n        />\n      <path\n        class="content"\n        d="M35.5,17.4c-1.1-.2-4-.2-8.2-.4,0-.9.2-1.8.2-3.1,0-3.5-2.6-6.6-4.9-6.6a3,3,0,0,0-2.9,2.9,7.89,7.89,0,0,1-4,7.1,3.92,3.92,0,0,0-.9.4h0a2.82,2.82,0,0,0-2-.7H9.9A3,3,0,0,0,7,19.9V35.4a3,3,0,0,0,2.9,2.9H13a2.8,2.8,0,0,0,2.6-1.8h.2c.7.2,1.5.4,4,.9a19.06,19.06,0,0,0,5.7.9h5.3a4,4,0,0,0,3.5-1.8,7,7,0,0,0,.4-1.1,2.74,2.74,0,0,0,0-1.8,3.82,3.82,0,0,0,1.5-2.4,3.79,3.79,0,0,0,0-2.6A3.41,3.41,0,0,0,37.5,26a2.78,2.78,0,0,0-.4-2.2,4.31,4.31,0,0,0,.9-2.2V21a3.24,3.24,0,0,0-2.5-3.6Z"\n        />\n      <path\n        class="border"\n        d="M12.7,34.4c.8.2,1.9.5,4.2.9.2,0,.3.1.5.2a21.62,21.62,0,0,0,5.9.8h6.2A2.84,2.84,0,0,0,32,35.2a4.33,4.33,0,0,0,.4-1.1l.1-.2a3.2,3.2,0,0,0-.1-.7,1.77,1.77,0,0,1,.8-2.1,1.34,1.34,0,0,0,.6-.7c.1-.3.2-.5.5-1.3a3.07,3.07,0,0,0,0-1.9,1.76,1.76,0,0,1,.7-2.1c.3-.2.6-.8.8-2a1.19,1.19,0,0,0-.3-1.1,1.82,1.82,0,0,1,0-2c.6-.9.7-1.2.7-1.6v-.8a2.32,2.32,0,0,0-1.7-2.1c-.5-.1-1.4-.1-3.1-.2-.4,0-2.3-.1-2.8-.1-1.2,0-2.3-.1-3.4-.2a1.77,1.77,0,0,1-1.7-1.8,15.26,15.26,0,0,1,.1-1.8,12.13,12.13,0,0,0,.1-1.8c0-3-2.3-6-3.9-6a1.64,1.64,0,0,0-1.6,1.6,10.77,10.77,0,0,1-5.6,9.9h-.1V34.4ZM9.1,36.3V15.1H5.2a1.64,1.64,0,0,0-1.6,1.6V34.9a1.64,1.64,0,0,0,1.6,1.6H8.6A.76.76,0,0,1,9.1,36.3ZM14.8,5.2A5.29,5.29,0,0,1,20,0c3.9,0,7.5,4.7,7.5,9.6a12.1,12.1,0,0,1-.1,1.9,7.57,7.57,0,0,1,1.5.1c.5,0,2.4.1,2.8.1,2,.1,3,.2,3.7.3A5.93,5.93,0,0,1,40,17.7v.8a4.69,4.69,0,0,1-.8,2.7,3.89,3.89,0,0,1,.2,2.8,8.07,8.07,0,0,1-1.3,3.4,5.44,5.44,0,0,1-.3,3.1c-.2.6-.4,1.1-.6,1.7a6,6,0,0,1-.9,1.3,3.4,3.4,0,0,1-.3,2,7.74,7.74,0,0,1-.7,1.6,6.47,6.47,0,0,1-5.7,3H23.4A26.77,26.77,0,0,1,16.1,39c-1.6-.3-2.7-.5-3.6-.7a5.37,5.37,0,0,1-4,1.8H5.2A5.45,5.45,0,0,1,0,34.8V16.6a5.29,5.29,0,0,1,5.2-5.2H8.6a6,6,0,0,1,2.4.5,1,1,0,0,1,.3-.1A7.33,7.33,0,0,0,14.8,5.2ZM6.9,32.7a1.8,1.8,0,1,1,1.8-1.8A1.79,1.79,0,0,1,6.9,32.7Z"\n        />\n      <path\n        class="heart"\n        d="M33.1,8.3a15.23,15.23,0,0,1-1.7-3.2,3.81,3.81,0,0,1-.1-3.6c.5-.9,1.7-2,3-1.3A4.16,4.16,0,0,1,36,2.7a4.34,4.34,0,0,1,3-.1,2.3,2.3,0,0,1,.7,3.2,4.31,4.31,0,0,1-3,2A12.17,12.17,0,0,1,33.1,8.3Z"\n        />\n    ',
            style: function (t) {
                return "active" === t.type ? Object(r.a)(p()) : Object(r.a)(f())
            }
        },
        "group-dynamic": {
            viewBox: "0 0 40 40",
            shape: '<path d="M22.83,20,38.42,4.41a2,2,0,1,0-2.83-2.83h0L20,17.17,4.41,1.58A2,2,0,0,0,1.58,4.41L17.17,20,1.58,35.59a2,2,0,0,0,2.83,2.83L20,22.83,35.59,38.42a2,2,0,1,0,2.83-2.83Z"/>'
        },
        "info-circle": {
            viewBox: "0 0 14 14",
            shape: '<path d="M7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7,0 C10.8659932,0 14,3.13400675 14,7 C14,10.8659932 10.8659932,14 7,14 Z M6.25,4.25 C6.25,4.66421356 6.58578644,5 7,5 C7.41421356,5 7.75,4.66421356 7.75,4.25 C7.75,3.83578644 7.41421356,3.5 7,3.5 C6.58578644,3.5 6.25,3.83578644 6.25,4.25 Z M7.375,6 L6.625,6 C6.55625,6 6.5,6.05625 6.5,6.125 L6.5,10.375 C6.5,10.44375 6.55625,10.5 6.625,10.5 L7.375,10.5 C7.44375,10.5 7.5,10.44375 7.5,10.375 L7.5,6.125 C7.5,6.05625 7.44375,6 7.375,6 Z"/>'
        },
        information_warning: {
            viewBox: "0 0 16 16",
            shape: '<path d="M8,0 C3.6,0 0,3.6 0,8 C0,12.4 3.6,16 8,16 C12.4,16 16,12.4 16,8 C16,3.6 12.4,0 8,0 Z M8,12.2857143 C7.54285714,12.2857143 7.14285714,11.8857143 7.14285714,11.4285714 C7.14285714,10.9714286 7.54285714,10.5714286 8,10.5714286 C8.45714286,10.5714286 8.85714286,10.9714286 8.85714286,11.4285714 C8.85714286,11.8857143 8.45714286,12.2857143 8,12.2857143 Z M8.74285714,8.97142857 C8.74285714,9.54285714 8.51428571,10 8,10 C7.48571429,10 7.25714286,9.54285714 7.25714286,8.97142857 L6.97142857,4.74285714 C6.97142857,4.17142857 7.42857143,3.71428571 7.94285714,3.71428571 C8.45714286,3.71428571 8.97142857,4.17142857 8.97142857,4.74285714 L8.74285714,8.97142857 Z"/>'
        },
        "jinz-01": {
            viewBox: "0 0 40 40",
            shape: '<path d="M20,0A20,20,0,1,0,40,20,20,20,0,0,0,20,0Zm0,3.43A16.49,16.49,0,0,1,30.43,7.14L7.14,30.43A16.56,16.56,0,0,1,20,3.43Zm0,33.14A16.49,16.49,0,0,1,9.57,32.86L32.86,9.57A16.56,16.56,0,0,1,20,36.57Z"/>'
        },
        "left-r-dynamic": {
            viewBox: "0 0 40 40",
            shape: '<path d="M30.25,9.9a14.43,14.43,0,0,1,0,20.2,13.93,13.93,0,0,1-19.91,0,2.79,2.79,0,0,0-4,0,2.89,2.89,0,0,0,0,4,19.51,19.51,0,0,0,27.87,0,20.21,20.21,0,0,0,0-28.28,19.5,19.5,0,0,0-26.84-1L5.6,3.07c-1.1-1.12-2.33-.78-2.74.75L.1,14.22c-.41,1.53.5,2.44,2,2l10.24-2.8c1.51-.41,1.84-1.66.74-2.78l-1.7-1.73A13.93,13.93,0,0,1,30.25,9.9Z" />'
        },
        "right-r-dynamic": {
            viewBox: "0 0 40 40",
            shape: '<path d="M9.75,9.9a14.43,14.43,0,0,0,0,20.2,13.93,13.93,0,0,0,19.91,0,2.79,2.79,0,0,1,4,0,2.89,2.89,0,0,1,0,4,19.51,19.51,0,0,1-27.87,0,20.21,20.21,0,0,1,0-28.28,19.5,19.5,0,0,1,26.84-1L34.4,3.07c1.1-1.12,2.33-.78,2.74.75l2.76,10.4c.41,1.53-.5,2.44-2,2l-10.24-2.8c-1.51-.41-1.84-1.66-.74-2.78l1.7-1.73A13.93,13.93,0,0,0,9.75,9.9Z" />'
        },
        link: {
            viewBox: "0 0 13 15",
            shape: '<path d="M6.096 7.404a.6.6 0 1 1-.849.849 3.1 3.1 0 0 1 0-4.384L7.37 1.747a3.1 3.1 0 0 1 4.384 4.384l-1.85 1.85a.6.6 0 0 1-.849-.848l1.85-1.85a1.9 1.9 0 1 0-2.687-2.687L6.096 4.717a1.9 1.9 0 0 0 0 2.687zm.808.192a.6.6 0 1 1 .849-.849 3.1 3.1 0 0 1 0 4.384L5.63 13.253a3.1 3.1 0 0 1-4.384-4.384l1.85-1.85a.6.6 0 1 1 .849.848l-1.85 1.85a1.9 1.9 0 0 0 2.687 2.687l2.121-2.121a1.9 1.9 0 0 0 0-2.687z" />'
        },
        lottery: {
            viewBox: "0 0 17 16",
            shape: '\n      <path d="M14.6,7.9H2.4c-1,0-1.8-0.8-1.8-1.8s0.8-1.8,1.8-1.8h12.2c1,0,1.8,0.8,1.8,1.8S15.6,7.9,14.6,7.9z M2.4,5.3 C2,5.3,1.6,5.7,1.6,6.1S2,6.9,2.4,6.9h12.2c0.4,0,0.8-0.4,0.8-0.8S15,5.3,14.6,5.3H2.4z"/>\n      <path d="M13.5,15.7H3.5C2.7,15.7,2,15,2,14.2V7.1H15v7.2C15,15,14.3,15.7,13.5,15.7z M3,8.1v6.2c0,0.2,0.2,0.4,0.4,0.4h10.1 c0.2,0,0.4-0.2,0.4-0.4V8.1H3z"/>\n      <rect x="8.1" y="4.2" width="1" height="11.5"/>\n      <path d="M8.9,5.2H6.3C5,5.2,3.8,4.1,3.8,2.7S5,0.2,6.3,0.2s2.5,1.1,2.5,2.5V5.2z M6.3,1.2c-0.8,0-1.5,0.7-1.5,1.5 s0.7,1.5,1.5,1.5h1.5V2.7C7.9,1.8,7.2,1.2,6.3,1.2z"/>\n      <path d="M10.6,5.2H8.1V2.7c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S12,5.2,10.6,5.2z M9.1,4.2h1.5c0.8,0,1.5-0.7,1.5-1.5 s-0.7-1.5-1.5-1.5S9.1,1.8,9.1,2.7V4.2z"/>\n    '
        },
        "more-1": {
            viewBox: "0 0 40 40",
            shape: '<path d="M20,8.89a4.44,4.44,0,1,1,4.44-4.44A4.44,4.44,0,0,1,20,8.89Zm0,15.56A4.44,4.44,0,1,1,24.44,20,4.44,4.44,0,0,1,20,24.44ZM20,40a4.44,4.44,0,1,1,4.44-4.44A4.44,4.44,0,0,1,20,40Z"/>'
        },
        pic: {
            viewBox: "0 0 24 24",
            shape: '<path d="M7.1,9.5A1.7,1.7,0,1,0,5.4,7.8,1.7,1.7,0,0,0,7.1,9.5Zm14.25,5.37V5.5A2.35,2.35,0,0,0,19,3.15H5A2.35,2.35,0,0,0,2.65,5.5v12a5.07,5.07,0,0,1,3.4-2,6.32,6.32,0,0,1,4.77,1.32c1.43-2.32,3.24-3.64,5.43-3.9A5.92,5.92,0,0,1,21.35,14.87Zm0,1.85c-1.46-2-3.09-2.82-5-2.59s-3.57,1.52-4.88,3.92a.59.59,0,0,1-.93.15A5.28,5.28,0,0,0,6.2,16.71a4.4,4.4,0,0,0-3.36,2.72A2.34,2.34,0,0,0,5,20.85H19a2.35,2.35,0,0,0,2.34-2.35ZM1.35,5.5A3.65,3.65,0,0,1,5,1.85H19A3.64,3.64,0,0,1,22.65,5.5v13A3.65,3.65,0,0,1,19,22.15H5A3.64,3.64,0,0,1,1.35,18.5Z"/>'
        },
        "play-a": {
            viewBox: "0 0 40 40",
            shape: '\n      <path d="M32.9,2.9H7.1C3.2,2.8,0,6,0,9.9c0,0,0,0.1,0,0.1v20c0,3.9,3.1,7.1,7,7.1c0,0,0.1,0,0.1,0h25.7 c3.9,0,7.1-3.1,7.1-7c0,0,0-0.1,0-0.1V10c0-3.9-3.1-7.1-7-7.2C33,2.8,32.9,2.8,32.9,2.9z M37.2,30c0,2.3-1.8,4.2-4.1,4.3 c-0.1,0-0.1,0-0.2,0H7.1c-2.3,0-4.2-1.8-4.3-4.1c0-0.1,0-0.1,0-0.2V10C2.8,7.7,4.6,5.8,7,5.7c0.1,0,0.1,0,0.2,0h25.7 c2.3,0,4.2,1.8,4.3,4.1c0,0.1,0,0.1,0,0.2V30z"/>\n      <path d="M27.7,18.7l-11.4-5c-0.7-0.3-1.5,0-1.9,0.7c-0.1,0.2-0.1,0.4-0.1,0.6v10c0,0.8,0.6,1.4,1.4,1.4 c0.2,0,0.4,0,0.6-0.1l11.4-5c0.7-0.3,1-1.1,0.7-1.8C28.3,19.1,28,18.9,27.7,18.7z"/>\n    '
        },
        radio: {
            viewBox: "0 0 40 40",
            shape: '\n      <path class="content" d="M20,0h0A20,20,0,0,1,40,20h0A20,20,0,0,1,20,40h0A20,20,0,0,1,0,20H0A20,20,0,0,1,20,0Z"/>\n      <path class="border" d="M2.5,20A17.5,17.5,0,1,0,20,2.5,17.51,17.51,0,0,0,2.5,20ZM0,20A20,20,0,1,1,20,40,20,20,0,0,1,0,20Z"/>\n      <path class="dot" d="M20,10h0A10,10,0,0,1,30,20h0A10,10,0,0,1,20,30h0A10,10,0,0,1,10,20h0A10,10,0,0,1,20,10Z"/>\n    ',
            style: function (t) {
                return "selected" === t.type ? Object(r.a)(h()) : Object(r.a)(d())
            }
        },
        renzheng: {
            viewBox: "0 0 40 40",
            shape: '\n      <path class="border" d="M20,39.17A19.17,19.17,0,1,1,39.17,20,19.19,19.19,0,0,1,20,39.17Z"/>\n      <path class="content" d="M20,3.33A16.67,16.67,0,1,0,36.67,20,16.67,16.67,0,0,0,20,3.33ZM16.55,32.77l1.68-11.08-9.48-.1,14-14.36L21.16,18.37l10.09.14Z"/>\n      ',
            style: function (t) {
                var e = t.type || "default";
                return Object(r.a)(u(), {yellow: "#ffba51", blue: "#4ac7ff", default: "#4ac7ff"}[e])
            }
        },
        reply: {
            viewBox: "0 0 40 40",
            shape: '<path d="M14.46,3.33H25.58c7.64,0,13.9,6,13.9,13.33S33.22,30,25.58,30h-.76l-7.28,6.67-2-6.67H14.46C6.81,30,.56,24,.56,16.67S6.81,3.33,14.46,3.33ZM36.7,16.67A10.91,10.91,0,0,0,25.58,6H14.46A10.91,10.91,0,0,0,3.34,16.67,10.91,10.91,0,0,0,14.46,27.33h3.19l.58,1.93.72,2.42,4-3.62.81-.74h1.88A10.91,10.91,0,0,0,36.7,16.67Z"/>'
        },
        routine_processing: {
            viewBox: "0 0 15 15",
            shape: '\n      <path d="M7.5,15C3.4,15,0,11.6,0,7.5C0,3.4,3.4,0,7.5,0C11.6,0,15,3.4,15,7.5C15,11.6,11.6,15,7.5,15z"/>\n\t\t\t<path d="M11.6,7.1C11.6,7.1,11.6,7.1,11.6,7.1c0.1,0.1,0.2,0.2,0.2,0.4c0,0.1-0.1,0.2-0.1,0.3c0,0,0,0,0,0 c0,0-3.5,3-3.5,3c-0.2,0.2-0.5,0.2-0.7,0c-0.2-0.2-0.2-0.5,0-0.7L9.9,8H3.7C3.5,8,3.2,7.8,3.2,7.5C3.2,7.2,3.5,7,3.7,7h6.2 L7.4,4.8c-0.2-0.2-0.2-0.5,0-0.7C7.6,4,7.9,4,8.1,4.1L11.6,7.1z"/>\n      '
        },
        search: {
            viewBox: "0 0 60 60",
            shape: '\n      <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23\n        s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92\n        c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17\n        s-17-7.626-17-17S14.61,6,23.984,6z"/>\n    '
        },
        "sq-dynamic": {
            viewBox: "0 0 40 40",
            shape: '\n      <path d="M20,35A15,15,0,1,0,5,20,15,15,0,0,0,20,35Zm0,5A20,20,0,1,1,40,20,20,20,0,0,1,20,40Z"/>\n      <path d="M16.67,16.67h6.67A3.33,3.33,0,0,1,26.67,20h0a3.33,3.33,0,0,1-3.33,3.33H16.67A3.33,3.33,0,0,1,13.33,20h0A3.33,3.33,0,0,1,16.67,16.67Z"/>\n      '
        },
        "ss-dynamic": {
            viewBox: "0 0 40 40",
            shape: '<path d="M36.24,40a3.73,3.73,0,0,1-2.65-1.1L27,32.27A17.63,17.63,0,1,1,32.27,27l6.62,6.63A3.76,3.76,0,0,1,36.25,40Zm-.64-3.11h0ZM17.53,4.67a12.86,12.86,0,1,0,6.91,23.67l2.37-1.52,1.53-2.38A12.82,12.82,0,0,0,17.53,4.67Z"/>'
        },
        star: {
            viewBox: "0 0 15 15",
            shape: '<path d="M 13.59873,5.1964432 11.001512,4.825412 C 10.352207,4.6398964 9.7956593,4.2688651 9.5173863,3.6195605 L 8.4042926,1.2078575 c -0.3710312,-0.83482022 -1.4841249,-0.83482022 -1.855156,0 L 5.4360429,3.6195605 C 5.1577694,4.2688651 4.6012227,4.6398964 3.951918,4.825412 L 1.3546995,5.1964432 C 0.61263702,5.289201 0.2416058,6.3095368 0.79815263,6.8660836 l 1.94791387,1.947914 c 0.463789,0.463789 0.6493046,1.1130935 0.5565469,1.7623984 l -0.4637891,2.782733 c -0.1855156,0.834821 0.7420624,1.484126 1.4841249,1.020337 l 2.2261874,-1.205852 c 0.5565467,-0.371032 1.2986092,-0.371032 1.9479139,0 l 2.2261875,1.205852 c 0.742062,0.37103 1.576883,-0.185516 1.484124,-1.020337 l -0.463788,-2.782733 c -0.09276,-0.6493049 0.09276,-1.2986094 0.556547,-1.7623984 l 1.947914,-1.947914 C 14.711823,6.3095368 14.340796,5.289201 13.59873,5.1964432"/>',
            style: function (t) {
                return "empty" === t.type ? Object(r.a)(l()) : Object(r.a)(c())
            }
        },
        timer: {
            viewBox: "0 0 19.4 21.7",
            shape: '<path\n        d="M 7.3359375 -0.001953125 A 0.65 0.65 0 0 0 6.6992188 0.55078125 L 6.6992188 0.75 A 0.65 0.65 0 0 0 7.4003906 1.3007812 L 9.0507812 1.3007812 L 9.0507812 2.3300781 A 9.7 9.7 0 0 0 9.6992188 21.699219 A 9.7 9.7 0 0 0 19.400391 12 A 9.7 9.7 0 0 0 10.580078 2.3515625 L 10.580078 1.3007812 L 12 1.3007812 A 0.65 0.65 0 0 0 12.699219 0.75 L 12.699219 0.55078125 A 0.65 0.65 0 0 0 12 0 L 7.4003906 0 A 0.65 0.65 0 0 0 7.3359375 -0.001953125 z M 9.6992188 3.6992188 A 8.32 8.32 0 0 1 18 12 A 8.3 8.3 0 1 1 9.6992188 3.6992188 z M 9.6992188 6.1796875 A 0.65 0.65 0 0 0 9.0507812 6.8300781 L 9.0507812 12.089844 A 0.66 0.66 0 0 0 9 12.330078 L 9 12.560547 A 0.66 0.66 0 0 0 9.6992188 13.210938 L 14.050781 13.210938 A 0.59 0.59 0 0 0 14.619141 12.560547 L 14.650391 12.330078 A 0.66 0.66 0 0 0 14 11.679688 L 10.580078 11.679688 L 10.580078 6.8203125 A 0.65 0.65 0 0 0 9.9199219 6.1796875 L 9.6992188 6.1796875 z "\n      />'
        },
        top: {
            viewBox: "0 0 13 13",
            shape: '\n      <path d="M1.39285714,0.464285714 L11.6071429,0.464285714 C11.8635608,0.464285714 12.0714286,0.672153509 12.0714286,0.928571429 C12.0714286,1.18498935 11.8635608,1.39285714 11.6071429,1.39285714 L1.39285714,1.39285714 C1.13643922,1.39285714 0.928571429,1.18498935 0.928571429,0.928571429 C0.928571429,0.672153509 1.13643922,0.464285714 1.39285714,0.464285714 Z M6.96428571,3.71428571 L6.96428571,12.5357143 C6.96428571,12.7921322 6.75641792,13 6.5,13 C6.24358208,13 6.03571429,12.7921322 6.03571429,12.5357143 L6.03571429,3.71428571 C6.03571429,3.45786779 6.24358208,3.25 6.5,3.25 C6.75641792,3.25 6.96428571,3.45786779 6.96428571,3.71428571 Z"/>\n      <path d="M6.54124471,4.12719916 L0.885448102,9.78299577 C0.704133252,9.96431062 0.410163797,9.96431062 0.228848948,9.78299577 C0.047534098,9.60168092 0.047534098,9.30771147 0.228848948,9.12639662 L6.13824133,3.21700423 C6.24796441,3.10728116 6.39894263,3.06395724 6.54124471,3.08703248 C6.6835468,3.06395724 6.83452502,3.10728116 6.94424809,3.21700423 L12.8536405,9.12639662 C13.0349553,9.30771147 13.0349553,9.60168092 12.8536405,9.78299577 C12.6723256,9.96431062 12.3783562,9.96431062 12.1970413,9.78299577 L6.54124471,4.12719916 Z"/>\n      '
        },
        topic: {
            viewBox: "0 0 24 24",
            shape: '<path d="M14.2236009,16.5726304 L7.75711178,16.5726304 L6.55053795,22.2491139 C6.49312472,22.5192219 6.2276163,22.6916451 5.9575083,22.6342319 L5.4684345,22.530276 C5.1983265,22.4728628 5.02590332,22.2073544 5.08331655,21.9372464 L6.22360089,16.5726304 L1.5,16.5726304 C1.22385763,16.5726304 1,16.3487727 1,16.0726304 L1,15.5726304 C1,15.296488 1.22385763,15.0726304 1.5,15.0726304 L6.54243573,15.0726304 L7.92405338,8.57263036 L3.5,8.57263036 C3.22385763,8.57263036 3,8.34877274 3,8.07263036 L3,7.57263036 C3,7.29648799 3.22385763,7.07263036 3.5,7.07263036 L8.24288822,7.07263036 L9.44946205,1.39614679 C9.50687528,1.12603879 9.7723837,0.953615605 10.0424917,1.01102883 L10.5315655,1.11498468 C10.8016735,1.17239791 10.9740967,1.43790632 10.9166835,1.70801432 L9.77639911,7.07263036 L16.2428882,7.07263036 L17.4494621,1.39614679 C17.5068753,1.12603879 17.7723837,0.953615605 18.0424917,1.01102883 L18.5315655,1.11498468 C18.8016735,1.17239791 18.9740967,1.43790632 18.9166835,1.70801432 L17.7763991,7.07263036 L22.5,7.07263036 C22.7761424,7.07263036 23,7.29648799 23,7.57263036 L23,8.07263036 C23,8.34877274 22.7761424,8.57263036 22.5,8.57263036 L17.4575643,8.57263036 L16.0759466,15.0726304 L20.5,15.0726304 C20.7761424,15.0726304 21,15.296488 21,15.5726304 L21,16.0726304 C21,16.3487727 20.7761424,16.5726304 20.5,16.5726304 L15.7571118,16.5726304 L14.5505379,22.2491139 C14.4931247,22.5192219 14.2276163,22.6916451 13.9575083,22.6342319 L13.4684345,22.530276 C13.1983265,22.4728628 13.0259033,22.2073544 13.0833165,21.9372464 L14.2236009,16.5726304 Z M14.5424357,15.0726304 L15.9240534,8.57263036 L9.45756427,8.57263036 L8.07594662,15.0726304 L14.5424357,15.0726304 Z"/>'
        },
        "topic-add": {
            viewBox: "0 0 13 13",
            shape: '<path d="M6,6V.5a.5.5,0,0,1,1,0V6h5.5a.5.5,0,0,1,0,1H7v5.5a.5.5,0,0,1-1,0V7H.5a.5.5,0,0,1,0-1Z"/>'
        },
        "topic-cancel": {
            viewBox: "0 0 13 13",
            shape: '<path d="M7.17,6.5l4.69,4.69a.47.47,0,0,1-.67.67L6.5,7.17,1.81,11.86a.47.47,0,0,1-.67-.67L5.83,6.5,1.14,1.81a.47.47,0,0,1,.67-.67L6.5,5.83l4.69-4.69a.47.47,0,0,1,.67.67Z"/>'
        },
        trash: {
            viewBox: "0 0 16 16",
            shape: '<g fill-rule="nonzero">\n              <rect id="Rectangle" opacity="0" x="0" y="0" width="16" height="16"></rect>\n              <path d="M12.5146059,5.54590692 L12.5146059,12.5459069 C12.5146059,13.6504764 11.6191754,14.5459069 10.5146059,14.5459069 L5.51460589,14.5459069 C4.41003639,14.5459069 3.51460589,13.6504764 3.51460589,12.5459069 L3.51460589,5.54590692 L3.51460589,5.54590692" stroke-linecap="round" stroke-linejoin="round"></path>\n              <line x1="6" y1="1.85714286" x2="9.5" y2="1.85714286" id="Line" stroke-linecap="round" stroke-linejoin="round"></line>\n              <line x1="1.88309006" y1="3.6900534" x2="14.0338156" y2="3.6900534" stroke-linecap="round" stroke-linejoin="round"></line>\n              <line x1="5.71428571" y1="7.63739248" x2="5.71428571" y2="11.230495" stroke-linecap="round" stroke-linejoin="round"></line>\n              <line x1="8.01783774" y1="7.62825381" x2="8.01783774" y2="11.2213564" stroke-linecap="round" stroke-linejoin="round"></line>\n              <line x1="10.3396003" y1="7.63344062" x2="10.3396003" y2="11.2265432"  stroke-linecap="round" stroke-linejoin="round"></line>\n            </g>',
            style: function () {
                return Object(r.a)(s())
            }
        },
        transmit: {
            viewBox: "0 0 40 40",
            shape: '\n      <path d="M31.35,36.15H8.25A7.17,7.17,0,0,1,1,29.08V10.58A7.18,7.18,0,0,1,8.25,3.5h13v3h-13A4.17,4.17,0,0,0,4,10.58v18.5a4.17,4.17,0,0,0,4.25,4.08H31.35a4.17,4.17,0,0,0,4.25-4.07l0-8.89h3l0,8.9A7.17,7.17,0,0,1,31.35,36.15Z"/>\n      <path d="M15,23.64l-2.78-1.13.56-1.39C14.82,16.07,20.57,11,27.59,11h4L25.47,5l2.09-2.15L38.95,14H27.59c-5.63,0-10.4,4.27-12,8.3Z"/>\n    '
        },
        "triangle-left": {
            viewBox: "0 0 40 40",
            shape: '<path d="M32.2,1.3c0-1.1-1.3-1.7-2.1-1L8.2,19.7c-0.6,0.5-0.6,1.5,0,2L30,39.7c0.8,0.7,2.1,0.1,2.1-1 L32.2,1.3L32.2,1.3z M29.7,35.9L11,20.5L29.7,4.2V35.9z"/>'
        },
        "triangle-right": {
            viewBox: "0 0 40 40",
            shape: '<path  d="M29.1,20.6L10.4,36V4.2L29.1,20.6z M7.8,1.3v37.4c0,1.1,1.3,1.7,2.1,1l21.9-18.1 c0.6-0.5,0.6-1.4,0-2L10,0.3C9.2-0.4,7.8,0.2,7.8,1.3z"/>'
        },
        up: {
            viewBox: "0 0 12 10",
            shape: '\n    <path d="M11.1428571,7.91666667 C11.1428571,8.625 10.5857143,9.16666667 9.85714286,9.16666667 L2.14285714,9.16666667 C1.41428571,9.16666667 0.857142857,8.625 0.857142857,7.91666667 L0.857142857,2.08333333 C0.857142857,1.375 1.41428571,0.833333333 2.14285714,0.833333333 L9.85714286,0.833333333 C10.5857143,0.833333333 11.1428571,1.375 11.1428571,2.08333333 L11.1428571,7.91666667 Z M9.85714286,0 L2.14285714,0 C0.942857143,0 0,0.916666667 0,2.08333333 L0,7.91666667 C0,9.08333333 0.942857143,10 2.14285714,10 L9.85714286,10 C11.0571429,10 12,9.08333333 12,7.91666667 L12,2.08333333 C12,0.916666667 11.0571429,0 9.85714286,0 L9.85714286,0 Z"></path>\n    <path d="M8.48000004,4.91666667 L7.2371429,4.91666667 L7.2371429,3.33333333 L8.48000004,3.33333333 C8.90857147,3.33333333 9.29428576,3.5 9.29428576,4.125 C9.29428576,4.70833333 8.86571433,4.91666667 8.48000004,4.91666667 L8.48000004,4.91666667 Z M8.52285719,2.58333333 L6.42285719,2.58333333 L6.42285719,7.5 L7.2371429,7.5 L7.2371429,5.58333333 L8.52285719,5.58333333 C9.89428576,5.58333333 10.1514286,4.70833333 10.1514286,4.08333333 C10.1514286,3.5 9.89428576,2.58333333 8.52285719,2.58333333 L8.52285719,2.58333333 Z M4.92285714,5.41666667 C4.92285714,6.08333333 4.88,6.83333333 3.80857142,6.83333333 C2.73714285,6.83333333 2.69428571,6.08333333 2.69428571,5.41666667 L2.69428571,2.58333333 L1.88,2.58333333 L1.88,5.75 C1.88,7 2.56571428,7.58333333 3.76571428,7.58333333 C4.96571428,7.58333333 5.73714285,6.95833333 5.73714285,5.70833333 L5.73714285,2.58333333 L4.92285714,2.58333333 L4.92285714,5.41666667 Z"></path>\n    '
        },
        vote: {
            viewBox: "0 0 12 13",
            shape: '\n      <path d="M1.4,12C0.6,12,0,11.4,0,10.6V4.3c0-0.8,0.6-1.4,1.4-1.4s1.4,0.6,1.4,1.4v6.3C2.9,11.4,2.2,12,1.4,12z M1.4,4.1 c-0.1,0-0.2,0.1-0.2,0.2v6.3c0,0.3,0.5,0.3,0.5,0V4.3C1.7,4.2,1.6,4.1,1.4,4.1z"/>\n      <path d="M6,12c-0.8,0-1.4-0.6-1.4-1.4V1.4C4.6,0.6,5.2,0,6,0s1.4,0.6,1.4,1.4v9.1C7.4,11.4,6.8,12,6,12z M6,1.2 c-0.1,0-0.2,0.1-0.2,0.2v9.1c0,0.3,0.5,0.3,0.5,0V1.4C6.2,1.3,6.1,1.2,6,1.2z"/>\n      <path d="M10.6,12c-0.8,0-1.4-0.6-1.4-1.4V7.7c0-0.8,0.6-1.4,1.4-1.4c0.8,0,1.4,0.6,1.4,1.4v2.9C12,11.4,11.4,12,10.6,12z M10.6,7.5c-0.1,0-0.2,0.1-0.2,0.2v2.9c0,0.3,0.5,0.3,0.5,0V7.7C10.8,7.6,10.7,7.5,10.6,7.5z"/>\n      '
        },
        "vote-create": {
            viewBox: "0 0 22 22",
            shape: '\n      <rect x="0.7" y="5.7020752" width="3.6" height="14.5979248" rx="1.8"></rect>\n      <rect x="8.7" y="0.702075195" width="3.6" height="19.6" rx="1.8"></rect>\n      <rect x="16.7" y="11.7020752" width="3.6" height="8.6" rx="1.8"></rect>\n      ',
            style: function () {
                return Object(r.a)(a())
            }
        },
        before: {
            viewBox: "0 0 492 492",
            shape: '\n      <path d="M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12\n        C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084\n        c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864\n        l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"/>\n    '
        },
        next: {
            viewBox: "0 0 492 492",
            shape: '\n      <path d="M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12\n        c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028\n        c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265\n        c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"/>\n    '
        },
        windmill: {
            viewBox: "0 0 24 24",
            shape: '\n      <path d="M12,1 C12.6032725,1 13.0923215,1.49015271 13.0923215,2.09478673 L13.0919415,7.34448672 C14.1405747,6.48008747 15.4863884,5.96064782 16.9538392,5.96064782 C20.299965,5.96064782 23.0136451,8.66144851 23.0136451,11.994424 C23.0136451,12.5976965 22.5234924,13.0867455 21.9188584,13.0867455 L21.9188584,13.0867455 L16.6490923,13.0860736 C17.5214136,14.1341909 18.0461608,15.4820004 18.0461608,16.9526066 C18.0461608,20.2931041 15.3385912,23 12,23 C11.3967275,23 10.9076785,22.5098473 10.9076785,21.9052133 L10.9076785,21.9052133 L10.9080585,16.6555133 C9.85942532,17.5199125 8.51361156,18.0393522 7.04616077,18.0393522 C3.70003499,18.0393522 0.986354862,15.3385515 0.986354862,12.005576 C0.986354862,11.4023035 1.47650758,10.9132545 2.08114159,10.9132545 L7.35090774,10.9139264 C6.47858642,9.86580905 5.95383923,8.51799956 5.95383923,7.04739336 C5.95383923,3.70689593 8.66140884,1 12,1 Z M13.0923215,13.2512833 L13.0923215,20.65393 C14.6933378,20.1831243 15.8615177,18.7037893 15.8615177,16.9526066 C15.8615177,15.2014239 14.6933378,13.7220889 13.0923215,13.2512833 L13.0923215,13.2512833 Z M10.7583198,13.0978976 L3.33400176,13.0978976 C3.80733493,14.6913696 5.28978206,15.8547091 7.04616077,15.8547091 C8.80253948,15.8547091 10.2849866,14.6913696 10.7583198,13.0978976 Z M16.9538392,8.14529092 C15.1974605,8.14529092 13.7150134,9.30863041 13.2416802,10.9021024 L13.2416802,10.9021024 L20.6659982,10.9021024 C20.1926651,9.30863041 18.7102179,8.14529092 16.9538392,8.14529092 Z M10.9076785,3.34607 C9.30666224,3.81687566 8.13848232,5.29621066 8.13848232,7.04739336 C8.13848232,8.79857607 9.30666224,10.2779111 10.9076785,10.7487167 L10.9076785,3.34607 Z" id="合并形状" fill-rule="nonzero"></path>\n    '
        }
    };

    function k() {
        var t = function (t, e) {
            e || (e = t.slice(0));
            return Object.freeze(Object.defineProperties(t, {raw: {value: Object.freeze(e)}}))
        }(["\n      fill: currentColor;\n      width: ", ";\n      height: ", ";\n    "]);
        return k = function () {
            return t
        }, t
    }

    var I = Object({NODE_ENV: "production", BASE_URL: "/"}).HASH_SUFFIX || "0", S = {
        name: "SVGIcon",
        props: {
            name: String,
            type: String,
            size: {type: String, default: ""},
            singleInstance: {type: Boolean, default: !1},
            custom: Object
        },
        computed: {
            id: function () {
                return "".concat(this.name, "-").concat(I)
            }, icon: function () {
                return this.custom ? this.custom : x[this.name]
            }
        },
        created: function () {
            this.addDefs()
        },
        updated: function () {
            this.addDefs()
        },
        render: function () {
            var t = arguments[0], e = this.icon;
            if (!e) return t("svg", o()([{}, this.$props]));
            var i = Object(r.a)(k(), this.size || "1em", this.size || "1em"),
                n = e.style ? Object(r.b)(i, e.style(this.$props)) : i;
            return this.singleInstance ? t("svg", o()([{class: n}, this.$props]), [t("use", {attrs: {href: "#".concat(this.id)}})]) : t("svg", o()([{class: n}, this.$props, {
                attrs: {viewBox: e.viewBox},
                domProps: {innerHTML: e.shape}
            }]))
        },
        methods: {
            addDefs: function () {
                if (this.singleInstance) {
                    var t = document.getElementById(this.id);
                    if (!t) {
                        var e = document.getElementById("bp-svg-icons");
                        e || ((e = document.createElementNS("http://www.w3.org/2000/svg", "svg")).style.display = "none", e.setAttribute("aria-hidden", !0), document.body.insertBefore(e, document.body.firstChild)), (t = document.createElementNS("http://www.w3.org/2000/svg", "symbol")).id = this.id, this.icon && this.icon.viewBox && t.setAttribute("viewBox", this.icon && this.icon.viewBox), t.innerHTML = this.icon.shape, e.appendChild(t)
                    }
                }
            }
        }
    };
    e.a = S
}, function (module, exports, __webpack_require__) {
    var t;
    "undefined" != typeof self && self, t = function () {
        return function (t) {
            function e(n) {
                if (i[n]) return i[n].exports;
                var o = i[n] = {i: n, l: !1, exports: {}};
                return t[n].call(o.exports, o, o.exports, e), o.l = !0, o.exports
            }

            var i = {};
            return e.m = t, e.c = i, e.d = function (t, i, n) {
                e.o(t, i) || Object.defineProperty(t, i, {configurable: !1, enumerable: !0, get: n})
            }, e.n = function (t) {
                var i = t && t.__esModule ? function () {
                    return t.default
                } : function () {
                    return t
                };
                return e.d(i, "a", i), i
            }, e.o = function (t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }, e.p = "", e(e.s = 64)
        }([function (t, e, i) {
            "use strict";
            var n, o, r = t.exports = i(1), a = i(20);
            r.codegen = i(47), r.fetch = i(48), r.path = i(49), r.fs = r.inquire("fs"), r.toArray = function (t) {
                if (t) {
                    for (var e = Object.keys(t), i = new Array(e.length), n = 0; n < e.length;) i[n] = t[e[n++]];
                    return i
                }
                return []
            }, r.toObject = function (t) {
                for (var e = {}, i = 0; i < t.length;) {
                    var n = t[i++], o = t[i++];
                    void 0 !== o && (e[n] = o)
                }
                return e
            };
            var s = /\\/g, c = /"/g;
            r.isReserved = function (t) {
                return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)
            }, r.safeProp = function (t) {
                return !/^[$\w_]+$/.test(t) || r.isReserved(t) ? '["' + t.replace(s, "\\\\").replace(c, '\\"') + '"]' : "." + t
            }, r.ucFirst = function (t) {
                return t.charAt(0).toUpperCase() + t.substring(1)
            };
            var l = /_([a-z])/g;
            r.camelCase = function (t) {
                return t.substring(0, 1) + t.substring(1).replace(l, (function (t, e) {
                    return e.toUpperCase()
                }))
            }, r.compareFieldsById = function (t, e) {
                return t.id - e.id
            }, r.decorateType = function (t, e) {
                if (t.$type) return e && t.$type.name !== e && (r.decorateRoot.remove(t.$type), t.$type.name = e, r.decorateRoot.add(t.$type)), t.$type;
                n || (n = i(22));
                var o = new n(e || t.name);
                return r.decorateRoot.add(o), o.ctor = t, Object.defineProperty(t, "$type", {
                    value: o,
                    enumerable: !1
                }), Object.defineProperty(t.prototype, "$type", {value: o, enumerable: !1}), o
            };
            var u = 0;
            r.decorateEnum = function (t) {
                if (t.$type) return t.$type;
                o || (o = i(2));
                var e = new o("Enum" + u++, t);
                return r.decorateRoot.add(e), Object.defineProperty(t, "$type", {value: e, enumerable: !1}), e
            }, Object.defineProperty(r, "decorateRoot", {
                get: function () {
                    return a.decorated || (a.decorated = new (i(30)))
                }
            })
        }, function (t, e, i) {
            "use strict";
            (function (t) {
                function n(t, e, i) {
                    for (var n = Object.keys(e), o = 0; o < n.length; ++o) void 0 !== t[n[o]] && i || (t[n[o]] = e[n[o]]);
                    return t
                }

                function o(t) {
                    function e(t, i) {
                        if (!(this instanceof e)) return new e(t, i);
                        Object.defineProperty(this, "message", {
                            get: function () {
                                return t
                            }
                        }), Error.captureStackTrace ? Error.captureStackTrace(this, e) : Object.defineProperty(this, "stack", {value: (new Error).stack || ""}), i && n(this, i)
                    }

                    return (e.prototype = Object.create(Error.prototype)).constructor = e, Object.defineProperty(e.prototype, "name", {
                        get: function () {
                            return t
                        }
                    }), e.prototype.toString = function () {
                        return this.name + ": " + this.message
                    }, e
                }

                var r = e;
                r.asPromise = i(17), r.base64 = i(38), r.EventEmitter = i(39), r.float = i(40), r.inquire = i(18), r.utf8 = i(41), r.pool = i(42), r.LongBits = i(43), r.global = "undefined" != typeof window && window || void 0 !== t && t || "undefined" != typeof self && self || this, r.emptyArray = Object.freeze ? Object.freeze([]) : [], r.emptyObject = Object.freeze ? Object.freeze({}) : {}, r.isNode = Boolean(r.global.process && r.global.process.versions && r.global.process.versions.node), r.isInteger = Number.isInteger || function (t) {
                    return "number" == typeof t && isFinite(t) && Math.floor(t) === t
                }, r.isString = function (t) {
                    return "string" == typeof t || t instanceof String
                }, r.isObject = function (t) {
                    return t && "object" == typeof t
                }, r.isset = r.isSet = function (t, e) {
                    var i = t[e];
                    return !(null == i || !t.hasOwnProperty(e)) && ("object" != typeof i || (Array.isArray(i) ? i.length : Object.keys(i).length) > 0)
                }, r.Buffer = function () {
                    try {
                        var t = r.inquire("buffer").Buffer;
                        return t.prototype.utf8Write ? t : null
                    } catch (t) {
                        return null
                    }
                }(), r._Buffer_from = null, r._Buffer_allocUnsafe = null, r.newBuffer = function (t) {
                    return "number" == typeof t ? r.Buffer ? r._Buffer_allocUnsafe(t) : new r.Array(t) : r.Buffer ? r._Buffer_from(t) : "undefined" == typeof Uint8Array ? t : new Uint8Array(t)
                }, r.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array, r.Long = r.global.dcodeIO && r.global.dcodeIO.Long || r.global.Long || r.inquire("long"), r.key2Re = /^true|false|0|1$/, r.key32Re = /^-?(?:0|[1-9][0-9]*)$/, r.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, r.longToHash = function (t) {
                    return t ? r.LongBits.from(t).toHash() : r.LongBits.zeroHash
                }, r.longFromHash = function (t, e) {
                    var i = r.LongBits.fromHash(t);
                    return r.Long ? r.Long.fromBits(i.lo, i.hi, e) : i.toNumber(Boolean(e))
                }, r.merge = n, r.lcFirst = function (t) {
                    return t.charAt(0).toLowerCase() + t.substring(1)
                }, r.newError = o, r.ProtocolError = o("ProtocolError"), r.oneOfGetter = function (t) {
                    for (var e = {}, i = 0; i < t.length; ++i) e[t[i]] = 1;
                    return function () {
                        for (var t = Object.keys(this), i = t.length - 1; i > -1; --i) if (1 === e[t[i]] && void 0 !== this[t[i]] && null !== this[t[i]]) return t[i]
                    }
                }, r.oneOfSetter = function (t) {
                    return function (e) {
                        for (var i = 0; i < t.length; ++i) t[i] !== e && delete this[t[i]]
                    }
                }, r.toJSONOptions = {
                    longs: String,
                    enums: String,
                    bytes: String,
                    json: !0
                }, r._configure = function () {
                    var t = r.Buffer;
                    t ? (r._Buffer_from = t.from !== Uint8Array.from && t.from || function (e, i) {
                        return new t(e, i)
                    }, r._Buffer_allocUnsafe = t.allocUnsafe || function (e) {
                        return new t(e)
                    }) : r._Buffer_from = r._Buffer_allocUnsafe = null
                }
            }).call(e, i(37))
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n, r) {
                if (o.call(this, t, i), e && "object" != typeof e) throw TypeError("values must be an object");
                if (this.valuesById = {}, this.values = Object.create(this.valuesById), this.comment = n, this.comments = r || {}, this.reserved = void 0, e) for (var a = Object.keys(e), s = 0; s < a.length; ++s) "number" == typeof e[a[s]] && (this.valuesById[this.values[a[s]] = e[a[s]]] = a[s])
            }

            t.exports = n;
            var o = i(3);
            ((n.prototype = Object.create(o.prototype)).constructor = n).className = "Enum";
            var r = i(6), a = i(0);
            n.fromJSON = function (t, e) {
                var i = new n(t, e.values, e.options, e.comment, e.comments);
                return i.reserved = e.reserved, i
            }, n.prototype.toJSON = function (t) {
                var e = !!t && Boolean(t.keepComments);
                return a.toObject(["options", this.options, "values", this.values, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "comment", e ? this.comment : void 0, "comments", e ? this.comments : void 0])
            }, n.prototype.add = function (t, e, i) {
                if (!a.isString(t)) throw TypeError("name must be a string");
                if (!a.isInteger(e)) throw TypeError("id must be an integer");
                if (void 0 !== this.values[t]) throw Error("duplicate name '" + t + "' in " + this);
                if (this.isReservedId(e)) throw Error("id " + e + " is reserved in " + this);
                if (this.isReservedName(t)) throw Error("name '" + t + "' is reserved in " + this);
                if (void 0 !== this.valuesById[e]) {
                    if (!this.options || !this.options.allow_alias) throw Error("duplicate id " + e + " in " + this);
                    this.values[t] = e
                } else this.valuesById[this.values[t] = e] = t;
                return this.comments[t] = i || null, this
            }, n.prototype.remove = function (t) {
                if (!a.isString(t)) throw TypeError("name must be a string");
                var e = this.values[t];
                if (null == e) throw Error("name '" + t + "' does not exist in " + this);
                return delete this.valuesById[e], delete this.values[t], delete this.comments[t], this
            }, n.prototype.isReservedId = function (t) {
                return r.isReservedId(this.reserved, t)
            }, n.prototype.isReservedName = function (t) {
                return r.isReservedName(this.reserved, t)
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                if (!r.isString(t)) throw TypeError("name must be a string");
                if (e && !r.isObject(e)) throw TypeError("options must be an object");
                this.options = e, this.name = t, this.parent = null, this.resolved = !1, this.comment = null, this.filename = null
            }

            t.exports = n, n.className = "ReflectionObject";
            var o, r = i(0);
            Object.defineProperties(n.prototype, {
                root: {
                    get: function () {
                        for (var t = this; null !== t.parent;) t = t.parent;
                        return t
                    }
                }, fullName: {
                    get: function () {
                        for (var t = [this.name], e = this.parent; e;) t.unshift(e.name), e = e.parent;
                        return t.join(".")
                    }
                }
            }), n.prototype.toJSON = function () {
                throw Error()
            }, n.prototype.onAdd = function (t) {
                this.parent && this.parent !== t && this.parent.remove(this), this.parent = t, this.resolved = !1;
                var e = t.root;
                e instanceof o && e._handleAdd(this)
            }, n.prototype.onRemove = function (t) {
                var e = t.root;
                e instanceof o && e._handleRemove(this), this.parent = null, this.resolved = !1
            }, n.prototype.resolve = function () {
                return this.resolved || this.root instanceof o && (this.resolved = !0), this
            }, n.prototype.getOption = function (t) {
                if (this.options) return this.options[t]
            }, n.prototype.setOption = function (t, e, i) {
                return i && this.options && void 0 !== this.options[t] || ((this.options || (this.options = {}))[t] = e), this
            }, n.prototype.setOptions = function (t, e) {
                if (t) for (var i = Object.keys(t), n = 0; n < i.length; ++n) this.setOption(i[n], t[i[n]], e);
                return this
            }, n.prototype.toString = function () {
                var t = this.constructor.className, e = this.fullName;
                return e.length ? t + " " + e : t
            }, n._configure = function (t) {
                o = t
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n, r, a, u) {
                if (c.isObject(n) ? (u = r, a = n, n = r = void 0) : c.isObject(r) && (u = a, a = r, r = void 0), o.call(this, t, a), !c.isInteger(e) || e < 0) throw TypeError("id must be a non-negative integer");
                if (!c.isString(i)) throw TypeError("type must be a string");
                if (void 0 !== n && !l.test(n = n.toString().toLowerCase())) throw TypeError("rule must be a string rule");
                if (void 0 !== r && !c.isString(r)) throw TypeError("extend must be a string");
                this.rule = n && "optional" !== n ? n : void 0, this.type = i, this.id = e, this.extend = r || void 0, this.required = "required" === n, this.optional = !this.required, this.repeated = "repeated" === n, this.map = !1, this.message = null, this.partOf = null, this.typeDefault = null, this.defaultValue = null, this.long = !!c.Long && void 0 !== s.long[i], this.bytes = "bytes" === i, this.resolvedType = null, this.extensionField = null, this.declaringField = null, this._packed = null, this.comment = u
            }

            t.exports = n;
            var o = i(3);
            ((n.prototype = Object.create(o.prototype)).constructor = n).className = "Field";
            var r, a = i(2), s = i(7), c = i(0), l = /^required|optional|repeated$/;
            n.fromJSON = function (t, e) {
                return new n(t, e.id, e.type, e.rule, e.extend, e.options, e.comment)
            }, Object.defineProperty(n.prototype, "packed", {
                get: function () {
                    return null === this._packed && (this._packed = !1 !== this.getOption("packed")), this._packed
                }
            }), n.prototype.setOption = function (t, e, i) {
                return "packed" === t && (this._packed = null), o.prototype.setOption.call(this, t, e, i)
            }, n.prototype.toJSON = function (t) {
                var e = !!t && Boolean(t.keepComments);
                return c.toObject(["rule", "optional" !== this.rule && this.rule || void 0, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", e ? this.comment : void 0])
            }, n.prototype.resolve = function () {
                if (this.resolved) return this;
                if (void 0 === (this.typeDefault = s.defaults[this.type]) && (this.resolvedType = (this.declaringField ? this.declaringField.parent : this.parent).lookupTypeOrEnum(this.type), this.resolvedType instanceof r ? this.typeDefault = null : this.typeDefault = this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]), this.options && null != this.options.default && (this.typeDefault = this.options.default, this.resolvedType instanceof a && "string" == typeof this.typeDefault && (this.typeDefault = this.resolvedType.values[this.typeDefault])), this.options && (!0 !== this.options.packed && (void 0 === this.options.packed || !this.resolvedType || this.resolvedType instanceof a) || delete this.options.packed, Object.keys(this.options).length || (this.options = void 0)), this.long) this.typeDefault = c.Long.fromNumber(this.typeDefault, "u" === this.type.charAt(0)), Object.freeze && Object.freeze(this.typeDefault); else if (this.bytes && "string" == typeof this.typeDefault) {
                    var t;
                    c.base64.test(this.typeDefault) ? c.base64.decode(this.typeDefault, t = c.newBuffer(c.base64.length(this.typeDefault)), 0) : c.utf8.write(this.typeDefault, t = c.newBuffer(c.utf8.length(this.typeDefault)), 0), this.typeDefault = t
                }
                return this.map ? this.defaultValue = c.emptyObject : this.repeated ? this.defaultValue = c.emptyArray : this.defaultValue = this.typeDefault, this.parent instanceof r && (this.parent.ctor.prototype[this.name] = this.defaultValue), o.prototype.resolve.call(this)
            }, n.d = function (t, e, i, o) {
                return "function" == typeof e ? e = c.decorateType(e).name : e && "object" == typeof e && (e = c.decorateEnum(e).name), function (r, a) {
                    c.decorateType(r.constructor).add(new n(a, t, e, i, {default: o}))
                }
            }, n._configure = function (t) {
                r = t
            }
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.BezierPath = function t(e, i, n) {
                (function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                })(this, t), this._d = e, this._transform = i, this._styles = n
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                if (t && t.length) {
                    for (var i = {}, n = 0; n < t.length; ++n) i[t[n].name] = t[n].toJSON(e);
                    return i
                }
            }

            function o(t, e) {
                a.call(this, t, e), this.nested = void 0, this._nestedArray = null
            }

            function r(t) {
                return t._nestedArray = null, t
            }

            t.exports = o;
            var a = i(3);
            ((o.prototype = Object.create(a.prototype)).constructor = o).className = "Namespace";
            var s, c, l, u = i(4), d = i(0);
            o.fromJSON = function (t, e) {
                return new o(t, e.options).addJSON(e.nested)
            }, o.arrayToJSON = n, o.isReservedId = function (t, e) {
                if (t) for (var i = 0; i < t.length; ++i) if ("string" != typeof t[i] && t[i][0] <= e && t[i][1] > e) return !0;
                return !1
            }, o.isReservedName = function (t, e) {
                if (t) for (var i = 0; i < t.length; ++i) if (t[i] === e) return !0;
                return !1
            }, Object.defineProperty(o.prototype, "nestedArray", {
                get: function () {
                    return this._nestedArray || (this._nestedArray = d.toArray(this.nested))
                }
            }), o.prototype.toJSON = function (t) {
                return d.toObject(["options", this.options, "nested", n(this.nestedArray, t)])
            }, o.prototype.addJSON = function (t) {
                if (t) for (var e, i = Object.keys(t), n = 0; n < i.length; ++n) e = t[i[n]], this.add((void 0 !== e.fields ? s.fromJSON : void 0 !== e.values ? l.fromJSON : void 0 !== e.methods ? c.fromJSON : void 0 !== e.id ? u.fromJSON : o.fromJSON)(i[n], e));
                return this
            }, o.prototype.get = function (t) {
                return this.nested && this.nested[t] || null
            }, o.prototype.getEnum = function (t) {
                if (this.nested && this.nested[t] instanceof l) return this.nested[t].values;
                throw Error("no such enum: " + t)
            }, o.prototype.add = function (t) {
                if (!(t instanceof u && void 0 !== t.extend || t instanceof s || t instanceof l || t instanceof c || t instanceof o)) throw TypeError("object must be a valid nested object");
                if (this.nested) {
                    var e = this.get(t.name);
                    if (e) {
                        if (!(e instanceof o && t instanceof o) || e instanceof s || e instanceof c) throw Error("duplicate name '" + t.name + "' in " + this);
                        for (var i = e.nestedArray, n = 0; n < i.length; ++n) t.add(i[n]);
                        this.remove(e), this.nested || (this.nested = {}), t.setOptions(e.options, !0)
                    }
                } else this.nested = {};
                return this.nested[t.name] = t, t.onAdd(this), r(this)
            }, o.prototype.remove = function (t) {
                if (!(t instanceof a)) throw TypeError("object must be a ReflectionObject");
                if (t.parent !== this) throw Error(t + " is not a member of " + this);
                return delete this.nested[t.name], Object.keys(this.nested).length || (this.nested = void 0), t.onRemove(this), r(this)
            }, o.prototype.define = function (t, e) {
                if (d.isString(t)) t = t.split("."); else if (!Array.isArray(t)) throw TypeError("illegal path");
                if (t && t.length && "" === t[0]) throw Error("path must be relative");
                for (var i = this; t.length > 0;) {
                    var n = t.shift();
                    if (i.nested && i.nested[n]) {
                        if (!((i = i.nested[n]) instanceof o)) throw Error("path conflicts with non-namespace objects")
                    } else i.add(i = new o(n))
                }
                return e && i.addJSON(e), i
            }, o.prototype.resolveAll = function () {
                for (var t = this.nestedArray, e = 0; e < t.length;) t[e] instanceof o ? t[e++].resolveAll() : t[e++].resolve();
                return this.resolve()
            }, o.prototype.lookup = function (t, e, i) {
                if ("boolean" == typeof e ? (i = e, e = void 0) : e && !Array.isArray(e) && (e = [e]), d.isString(t) && t.length) {
                    if ("." === t) return this.root;
                    t = t.split(".")
                } else if (!t.length) return this;
                if ("" === t[0]) return this.root.lookup(t.slice(1), e);
                var n = this.get(t[0]);
                if (n) {
                    if (1 === t.length) {
                        if (!e || e.indexOf(n.constructor) > -1) return n
                    } else if (n instanceof o && (n = n.lookup(t.slice(1), e, !0))) return n
                } else for (var r = 0; r < this.nestedArray.length; ++r) if (this._nestedArray[r] instanceof o && (n = this._nestedArray[r].lookup(t, e, !0))) return n;
                return null === this.parent || i ? null : this.parent.lookup(t, e)
            }, o.prototype.lookupType = function (t) {
                var e = this.lookup(t, [s]);
                if (!e) throw Error("no such type: " + t);
                return e
            }, o.prototype.lookupEnum = function (t) {
                var e = this.lookup(t, [l]);
                if (!e) throw Error("no such Enum '" + t + "' in " + this);
                return e
            }, o.prototype.lookupTypeOrEnum = function (t) {
                var e = this.lookup(t, [s, l]);
                if (!e) throw Error("no such Type or Enum '" + t + "' in " + this);
                return e
            }, o.prototype.lookupService = function (t) {
                var e = this.lookup(t, [c]);
                if (!e) throw Error("no such Service '" + t + "' in " + this);
                return e
            }, o._configure = function (t, e, i) {
                s = t, c = e, l = i
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                var i = 0, n = {};
                for (e |= 0; i < t.length;) n[a[i + e]] = t[i++];
                return n
            }

            var o = e, r = i(0),
                a = ["double", "float", "int32", "uint32", "sint32", "fixed32", "sfixed32", "int64", "uint64", "sint64", "fixed64", "sfixed64", "bool", "string", "bytes"];
            o.basic = n([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2, 2]), o.defaults = n([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, !1, "", r.emptyArray, null]), o.long = n([0, 0, 0, 1, 1], 7), o.mapKey = n([0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2], 2), o.packed = n([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0])
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }

            var o = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
            e.assign = function (t) {
                for (var e = Array.prototype.slice.call(arguments, 1); e.length;) {
                    var i = e.shift();
                    if (i) {
                        if ("object" != typeof i) throw new TypeError(i + "must be non-object");
                        for (var o in i) n(i, o) && (t[o] = i[o])
                    }
                }
                return t
            }, e.shrinkBuf = function (t, e) {
                return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t)
            };
            var r = {
                arraySet: function (t, e, i, n, o) {
                    if (e.subarray && t.subarray) t.set(e.subarray(i, i + n), o); else for (var r = 0; r < n; r++) t[o + r] = e[i + r]
                }, flattenChunks: function (t) {
                    var e, i, n, o, r, a;
                    for (n = 0, e = 0, i = t.length; e < i; e++) n += t[e].length;
                    for (a = new Uint8Array(n), o = 0, e = 0, i = t.length; e < i; e++) r = t[e], a.set(r, o), o += r.length;
                    return a
                }
            }, a = {
                arraySet: function (t, e, i, n, o) {
                    for (var r = 0; r < n; r++) t[o + r] = e[i + r]
                }, flattenChunks: function (t) {
                    return [].concat.apply([], t)
                }
            };
            e.setTyped = function (t) {
                t ? (e.Buf8 = Uint8Array, e.Buf16 = Uint16Array, e.Buf32 = Int32Array, e.assign(e, r)) : (e.Buf8 = Array, e.Buf16 = Array, e.Buf32 = Array, e.assign(e, a))
            }, e.setTyped(o)
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i) {
                this.fn = t, this.len = e, this.next = void 0, this.val = i
            }

            function o() {
            }

            function r(t) {
                this.head = t.head, this.tail = t.tail, this.len = t.len, this.next = t.states
            }

            function a() {
                this.len = 0, this.head = new n(o, 0, 0), this.tail = this.head, this.states = null
            }

            function s(t, e, i) {
                e[i] = 255 & t
            }

            function c(t, e) {
                this.len = t, this.next = void 0, this.val = e
            }

            function l(t, e, i) {
                for (; t.hi;) e[i++] = 127 & t.lo | 128, t.lo = (t.lo >>> 7 | t.hi << 25) >>> 0, t.hi >>>= 7;
                for (; t.lo > 127;) e[i++] = 127 & t.lo | 128, t.lo = t.lo >>> 7;
                e[i++] = t.lo
            }

            function u(t, e, i) {
                e[i] = 255 & t, e[i + 1] = t >>> 8 & 255, e[i + 2] = t >>> 16 & 255, e[i + 3] = t >>> 24
            }

            t.exports = a;
            var d, h = i(1), f = h.LongBits, p = h.base64, m = h.utf8, v = function () {
                return h.Buffer ? function () {
                    return (a.create = function () {
                        return new d
                    })()
                } : function () {
                    return new a
                }
            };
            a.create = v(), a.alloc = function (t) {
                return new h.Array(t)
            }, h.Array !== Array && (a.alloc = h.pool(a.alloc, h.Array.prototype.subarray)), a.prototype._push = function (t, e, i) {
                return this.tail = this.tail.next = new n(t, e, i), this.len += e, this
            }, c.prototype = Object.create(n.prototype), c.prototype.fn = function (t, e, i) {
                for (; t > 127;) e[i++] = 127 & t | 128, t >>>= 7;
                e[i] = t
            }, a.prototype.uint32 = function (t) {
                return this.len += (this.tail = this.tail.next = new c((t >>>= 0) < 128 ? 1 : t < 16384 ? 2 : t < 2097152 ? 3 : t < 268435456 ? 4 : 5, t)).len, this
            }, a.prototype.int32 = function (t) {
                return t < 0 ? this._push(l, 10, f.fromNumber(t)) : this.uint32(t)
            }, a.prototype.sint32 = function (t) {
                return this.uint32((t << 1 ^ t >> 31) >>> 0)
            }, a.prototype.uint64 = function (t) {
                var e = f.from(t);
                return this._push(l, e.length(), e)
            }, a.prototype.int64 = a.prototype.uint64, a.prototype.sint64 = function (t) {
                var e = f.from(t).zzEncode();
                return this._push(l, e.length(), e)
            }, a.prototype.bool = function (t) {
                return this._push(s, 1, t ? 1 : 0)
            }, a.prototype.fixed32 = function (t) {
                return this._push(u, 4, t >>> 0)
            }, a.prototype.sfixed32 = a.prototype.fixed32, a.prototype.fixed64 = function (t) {
                var e = f.from(t);
                return this._push(u, 4, e.lo)._push(u, 4, e.hi)
            }, a.prototype.sfixed64 = a.prototype.fixed64, a.prototype.float = function (t) {
                return this._push(h.float.writeFloatLE, 4, t)
            }, a.prototype.double = function (t) {
                return this._push(h.float.writeDoubleLE, 8, t)
            };
            var g = h.Array.prototype.set ? function (t, e, i) {
                e.set(t, i)
            } : function (t, e, i) {
                for (var n = 0; n < t.length; ++n) e[i + n] = t[n]
            };
            a.prototype.bytes = function (t) {
                var e = t.length >>> 0;
                if (!e) return this._push(s, 1, 0);
                if (h.isString(t)) {
                    var i = a.alloc(e = p.length(t));
                    p.decode(t, i, 0), t = i
                }
                return this.uint32(e)._push(g, e, t)
            }, a.prototype.string = function (t) {
                var e = m.length(t);
                return e ? this.uint32(e)._push(m.write, e, t) : this._push(s, 1, 0)
            }, a.prototype.fork = function () {
                return this.states = new r(this), this.head = this.tail = new n(o, 0, 0), this.len = 0, this
            }, a.prototype.reset = function () {
                return this.states ? (this.head = this.states.head, this.tail = this.states.tail, this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new n(o, 0, 0), this.len = 0), this
            }, a.prototype.ldelim = function () {
                var t = this.head, e = this.tail, i = this.len;
                return this.reset().uint32(i), i && (this.tail.next = t.next, this.tail = e, this.len += i), this
            }, a.prototype.finish = function () {
                for (var t = this.head.next, e = this.constructor.alloc(this.len), i = 0; t;) t.fn(t.val, e, i), i += t.len, t = t.next;
                return e
            }, a._configure = function (t) {
                d = t, a.create = v(), d._configure()
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                return RangeError("index out of range: " + t.pos + " + " + (e || 1) + " > " + t.len)
            }

            function o(t) {
                this.buf = t, this.pos = 0, this.len = t.length
            }

            function r() {
                var t = new u(0, 0), e = 0;
                if (!(this.len - this.pos > 4)) {
                    for (; e < 3; ++e) {
                        if (this.pos >= this.len) throw n(this);
                        if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t
                    }
                    return t.lo = (t.lo | (127 & this.buf[this.pos++]) << 7 * e) >>> 0, t
                }
                for (; e < 4; ++e) if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t;
                if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 28) >>> 0, t.hi = (t.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, this.buf[this.pos++] < 128) return t;
                if (e = 0, this.len - this.pos > 4) {
                    for (; e < 5; ++e) if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t
                } else for (; e < 5; ++e) {
                    if (this.pos >= this.len) throw n(this);
                    if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t
                }
                throw Error("invalid varint encoding")
            }

            function a(t, e) {
                return (t[e - 4] | t[e - 3] << 8 | t[e - 2] << 16 | t[e - 1] << 24) >>> 0
            }

            function s() {
                if (this.pos + 8 > this.len) throw n(this, 8);
                return new u(a(this.buf, this.pos += 4), a(this.buf, this.pos += 4))
            }

            t.exports = o;
            var c, l = i(1), u = l.LongBits, d = l.utf8, h = "undefined" != typeof Uint8Array ? function (t) {
                if (t instanceof Uint8Array || Array.isArray(t)) return new o(t);
                throw Error("illegal buffer")
            } : function (t) {
                if (Array.isArray(t)) return new o(t);
                throw Error("illegal buffer")
            }, f = function () {
                return l.Buffer ? function (t) {
                    return (o.create = function (t) {
                        return l.Buffer.isBuffer(t) ? new c(t) : h(t)
                    })(t)
                } : h
            };
            o.create = f(), o.prototype._slice = l.Array.prototype.subarray || l.Array.prototype.slice, o.prototype.uint32 = function () {
                var t = 4294967295;
                return function () {
                    if (t = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128) return t;
                    if (t = (t | (127 & this.buf[this.pos]) << 7) >>> 0, this.buf[this.pos++] < 128) return t;
                    if (t = (t | (127 & this.buf[this.pos]) << 14) >>> 0, this.buf[this.pos++] < 128) return t;
                    if (t = (t | (127 & this.buf[this.pos]) << 21) >>> 0, this.buf[this.pos++] < 128) return t;
                    if (t = (t | (15 & this.buf[this.pos]) << 28) >>> 0, this.buf[this.pos++] < 128) return t;
                    if ((this.pos += 5) > this.len) throw this.pos = this.len, n(this, 10);
                    return t
                }
            }(), o.prototype.int32 = function () {
                return 0 | this.uint32()
            }, o.prototype.sint32 = function () {
                var t = this.uint32();
                return t >>> 1 ^ -(1 & t) | 0
            }, o.prototype.bool = function () {
                return 0 !== this.uint32()
            }, o.prototype.fixed32 = function () {
                if (this.pos + 4 > this.len) throw n(this, 4);
                return a(this.buf, this.pos += 4)
            }, o.prototype.sfixed32 = function () {
                if (this.pos + 4 > this.len) throw n(this, 4);
                return 0 | a(this.buf, this.pos += 4)
            }, o.prototype.float = function () {
                if (this.pos + 4 > this.len) throw n(this, 4);
                var t = l.float.readFloatLE(this.buf, this.pos);
                return this.pos += 4, t
            }, o.prototype.double = function () {
                if (this.pos + 8 > this.len) throw n(this, 4);
                var t = l.float.readDoubleLE(this.buf, this.pos);
                return this.pos += 8, t
            }, o.prototype.bytes = function () {
                var t = this.uint32(), e = this.pos, i = this.pos + t;
                if (i > this.len) throw n(this, t);
                return this.pos += t, Array.isArray(this.buf) ? this.buf.slice(e, i) : e === i ? new this.buf.constructor(0) : this._slice.call(this.buf, e, i)
            }, o.prototype.string = function () {
                var t = this.bytes();
                return d.read(t, 0, t.length)
            }, o.prototype.skip = function (t) {
                if ("number" == typeof t) {
                    if (this.pos + t > this.len) throw n(this, t);
                    this.pos += t
                } else do {
                    if (this.pos >= this.len) throw n(this)
                } while (128 & this.buf[this.pos++]);
                return this
            }, o.prototype.skipType = function (t) {
                switch (t) {
                    case 0:
                        this.skip();
                        break;
                    case 1:
                        this.skip(8);
                        break;
                    case 2:
                        this.skip(this.uint32());
                        break;
                    case 3:
                        for (; 4 != (t = 7 & this.uint32());) this.skipType(t);
                        break;
                    case 5:
                        this.skip(4);
                        break;
                    default:
                        throw Error("invalid wire type " + t + " at offset " + this.pos)
                }
                return this
            }, o._configure = function (t) {
                c = t, o.create = f(), c._configure();
                var e = l.Long ? "toLong" : "toNumber";
                l.merge(o.prototype, {
                    int64: function () {
                        return r.call(this)[e](!1)
                    }, uint64: function () {
                        return r.call(this)[e](!0)
                    }, sint64: function () {
                        return r.call(this).zzDecode()[e](!1)
                    }, fixed64: function () {
                        return s.call(this)[e](!0)
                    }, sfixed64: function () {
                        return s.call(this)[e](!1)
                    }
                })
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n) {
                if (Array.isArray(e) || (i = e, e = void 0), r.call(this, t, i), void 0 !== e && !Array.isArray(e)) throw TypeError("fieldNames must be an Array");
                this.oneof = e || [], this.fieldsArray = [], this.comment = n
            }

            function o(t) {
                if (t.parent) for (var e = 0; e < t.fieldsArray.length; ++e) t.fieldsArray[e].parent || t.parent.add(t.fieldsArray[e])
            }

            t.exports = n;
            var r = i(3);
            ((n.prototype = Object.create(r.prototype)).constructor = n).className = "OneOf";
            var a = i(4), s = i(0);
            n.fromJSON = function (t, e) {
                return new n(t, e.oneof, e.options, e.comment)
            }, n.prototype.toJSON = function (t) {
                var e = !!t && Boolean(t.keepComments);
                return s.toObject(["options", this.options, "oneof", this.oneof, "comment", e ? this.comment : void 0])
            }, n.prototype.add = function (t) {
                if (!(t instanceof a)) throw TypeError("field must be a Field");
                return t.parent && t.parent !== this.parent && t.parent.remove(t), this.oneof.push(t.name), this.fieldsArray.push(t), t.partOf = this, o(this), this
            }, n.prototype.remove = function (t) {
                if (!(t instanceof a)) throw TypeError("field must be a Field");
                var e = this.fieldsArray.indexOf(t);
                if (e < 0) throw Error(t + " is not a member of " + this);
                return this.fieldsArray.splice(e, 1), (e = this.oneof.indexOf(t.name)) > -1 && this.oneof.splice(e, 1), t.partOf = null, this
            }, n.prototype.onAdd = function (t) {
                r.prototype.onAdd.call(this, t);
                for (var e = 0; e < this.oneof.length; ++e) {
                    var i = t.get(this.oneof[e]);
                    i && !i.partOf && (i.partOf = this, this.fieldsArray.push(i))
                }
                o(this)
            }, n.prototype.onRemove = function (t) {
                for (var e, i = 0; i < this.fieldsArray.length; ++i) (e = this.fieldsArray[i]).parent && e.parent.remove(e);
                r.prototype.onRemove.call(this, t)
            }, n.d = function () {
                for (var t = new Array(arguments.length), e = 0; e < arguments.length;) t[e] = arguments[e++];
                return function (e, i) {
                    s.decorateType(e.constructor).add(new n(i, t)), Object.defineProperty(e, i, {
                        get: s.oneOfGetter(t),
                        set: s.oneOfSetter(t)
                    })
                }
            }
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                if (t) for (var e = Object.keys(t), i = 0; i < e.length; ++i) this[e[i]] = t[e[i]]
            }

            t.exports = n;
            var o = i(1);
            n.create = function (t) {
                return this.$type.create(t)
            }, n.encode = function (t, e) {
                return this.$type.encode(t, e)
            }, n.encodeDelimited = function (t, e) {
                return this.$type.encodeDelimited(t, e)
            }, n.decode = function (t) {
                return this.$type.decode(t)
            }, n.decodeDelimited = function (t) {
                return this.$type.decodeDelimited(t)
            }, n.verify = function (t) {
                return this.$type.verify(t)
            }, n.fromObject = function (t) {
                return this.$type.fromObject(t)
            }, n.toObject = function (t, e) {
                return this.$type.toObject(t, e)
            }, n.prototype.toJSON = function () {
                return this.$type.toObject(this, o.toJSONOptions)
            }
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.Parser = void 0;
            var n = function () {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }

                return function (e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(), o = i(31), r = function (t) {
                return t && t.__esModule ? t : {default: t}
            }(i(50));
            e.Parser = function () {
                function t() {
                    !function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    }(this, t)
                }

                return n(t, [{
                    key: "load", value: function (t, e, i) {
                        this.loadViaWorker(t, e, i)
                    }
                }, {
                    key: "loadViaWorker", value: function (t, e, i) {
                        (0, r.default)(t, (function (t) {
                            var i = t.movie;
                            i.version = t.ver;
                            var n = t.images, r = new o.VideoEntity(i, n);
                            e(r)
                        }), i)
                    }
                }]), t
            }()
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.RectPath = void 0;
            var n = i(5);
            e.RectPath = function (t) {
                function e(t, i, n, o, r, a, s) {
                    !function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    }(this, e);
                    var c = function (t, e) {
                        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !e || "object" != typeof e && "function" != typeof e ? t : e
                    }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                    return c._x = t, c._y = i, c._width = n, c._height = o, c._cornerRadius = r, c._transform = a, c._styles = s, c
                }

                return function (t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                }(e, t), e
            }(n.BezierPath)
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.EllipsePath = void 0;
            var n = i(5);
            e.EllipsePath = function (t) {
                function e(t, i, n, o, r, a) {
                    !function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    }(this, e);
                    var s = function (t, e) {
                        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !e || "object" != typeof e && "function" != typeof e ? t : e
                    }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                    return s._x = t, s._y = i, s._radiusX = n, s._radiusY = o, s._transform = r, s._styles = a, s
                }

                return function (t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                }(e, t), e
            }(n.BezierPath)
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0});
            var n = i(34),
                o = JSON.parse('{"nested":{"com":{"nested":{"opensource":{"nested":{"svga":{"options":{"objc_class_prefix":"SVGAProto","java_package":"com.opensource.svgaplayer.proto"},"nested":{"MovieParams":{"fields":{"viewBoxWidth":{"type":"float","id":1},"viewBoxHeight":{"type":"float","id":2},"fps":{"type":"int32","id":3},"frames":{"type":"int32","id":4}}},"SpriteEntity":{"fields":{"imageKey":{"type":"string","id":1},"frames":{"rule":"repeated","type":"FrameEntity","id":2},"matteKey":{"type":"string","id":3}}},"AudioEntity":{"fields":{"audioKey":{"type":"string","id":1},"startFrame":{"type":"int32","id":2},"endFrame":{"type":"int32","id":3},"startTime":{"type":"int32","id":4},"totalTime":{"type":"int32","id":5}}},"Layout":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4}}},"Transform":{"fields":{"a":{"type":"float","id":1},"b":{"type":"float","id":2},"c":{"type":"float","id":3},"d":{"type":"float","id":4},"tx":{"type":"float","id":5},"ty":{"type":"float","id":6}}},"ShapeEntity":{"oneofs":{"args":{"oneof":["shape","rect","ellipse"]}},"fields":{"type":{"type":"ShapeType","id":1},"shape":{"type":"ShapeArgs","id":2},"rect":{"type":"RectArgs","id":3},"ellipse":{"type":"EllipseArgs","id":4},"styles":{"type":"ShapeStyle","id":10},"transform":{"type":"Transform","id":11}},"nested":{"ShapeType":{"values":{"SHAPE":0,"RECT":1,"ELLIPSE":2,"KEEP":3}},"ShapeArgs":{"fields":{"d":{"type":"string","id":1}}},"RectArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4},"cornerRadius":{"type":"float","id":5}}},"EllipseArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"radiusX":{"type":"float","id":3},"radiusY":{"type":"float","id":4}}},"ShapeStyle":{"fields":{"fill":{"type":"RGBAColor","id":1},"stroke":{"type":"RGBAColor","id":2},"strokeWidth":{"type":"float","id":3},"lineCap":{"type":"LineCap","id":4},"lineJoin":{"type":"LineJoin","id":5},"miterLimit":{"type":"float","id":6},"lineDashI":{"type":"float","id":7},"lineDashII":{"type":"float","id":8},"lineDashIII":{"type":"float","id":9}},"nested":{"RGBAColor":{"fields":{"r":{"type":"float","id":1},"g":{"type":"float","id":2},"b":{"type":"float","id":3},"a":{"type":"float","id":4}}},"LineCap":{"values":{"LineCap_BUTT":0,"LineCap_ROUND":1,"LineCap_SQUARE":2}},"LineJoin":{"values":{"LineJoin_MITER":0,"LineJoin_ROUND":1,"LineJoin_BEVEL":2}}}}}},"FrameEntity":{"fields":{"alpha":{"type":"float","id":1},"layout":{"type":"Layout","id":2},"transform":{"type":"Transform","id":3},"clipPath":{"type":"string","id":4},"shapes":{"rule":"repeated","type":"ShapeEntity","id":5}}},"MovieEntity":{"fields":{"version":{"type":"string","id":1},"params":{"type":"MovieParams","id":2},"images":{"keyType":"string","type":"bytes","id":3},"sprites":{"rule":"repeated","type":"SpriteEntity","id":4},"audios":{"rule":"repeated","type":"AudioEntity","id":5}}}}}}}}}}}'),
                r = e.proto = n.Root.fromJSON(o);
            e.ProtoMovieEntity = r.lookupType("com.opensource.svga.MovieEntity")
        }, function (t, e, i) {
            "use strict";
            t.exports = function (t, e) {
                for (var i = new Array(arguments.length - 1), n = 0, o = 2, r = !0; o < arguments.length;) i[n++] = arguments[o++];
                return new Promise((function (o, a) {
                    i[n] = function (t) {
                        if (r) if (r = !1, t) a(t); else {
                            for (var e = new Array(arguments.length - 1), i = 0; i < e.length;) e[i++] = arguments[i];
                            o.apply(null, e)
                        }
                    };
                    try {
                        t.apply(e || null, i)
                    } catch (t) {
                        r && (r = !1, a(t))
                    }
                }))
            }
        }, function (module, exports, __webpack_require__) {
            "use strict";

            function inquire(moduleName) {
                try {
                    var mod = eval("quire".replace(/^/, "re"))(moduleName);
                    if (mod && (mod.length || Object.keys(mod).length)) return mod
                } catch (t) {
                }
                return null
            }

            module.exports = inquire
        }, function (t, e, i) {
            "use strict";
            e.Service = i(46)
        }, function (t, e, i) {
            "use strict";
            t.exports = {}
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n) {
                return e.resolvedType.group ? t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)", i, n, (e.id << 3 | 3) >>> 0, (e.id << 3 | 4) >>> 0) : t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()", i, n, (e.id << 3 | 2) >>> 0)
            }

            t.exports = function (t) {
                for (var e, i = a.codegen(["m", "w"], t.name + "$encode")("if(!w)")("w=Writer.create()"), s = t.fieldsArray.slice().sort(a.compareFieldsById), c = 0; c < s.length; ++c) {
                    var l = s[c].resolve(), u = t._fieldsArray.indexOf(l),
                        d = l.resolvedType instanceof o ? "int32" : l.type, h = r.basic[d];
                    e = "m" + a.safeProp(l.name), l.map ? (i("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){", e, l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){", e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])", (l.id << 3 | 2) >>> 0, 8 | r.mapKey[l.keyType], l.keyType), void 0 === h ? i("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()", u, e) : i(".uint32(%i).%s(%s[ks[i]]).ldelim()", 16 | h, d, e), i("}")("}")) : l.repeated ? (i("if(%s!=null&&%s.length){", e, e), l.packed && void 0 !== r.packed[d] ? i("w.uint32(%i).fork()", (l.id << 3 | 2) >>> 0)("for(var i=0;i<%s.length;++i)", e)("w.%s(%s[i])", d, e)("w.ldelim()") : (i("for(var i=0;i<%s.length;++i)", e), void 0 === h ? n(i, l, u, e + "[i]") : i("w.uint32(%i).%s(%s[i])", (l.id << 3 | h) >>> 0, d, e)), i("}")) : (l.optional && i("if(%s!=null&&Object.hasOwnProperty.call(m,%j))", e, l.name), void 0 === h ? n(i, l, u, e) : i("w.uint32(%i).%s(%s)", (l.id << 3 | h) >>> 0, d, e))
                }
                return i("return w")
            };
            var o = i(2), r = i(7), a = i(0)
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                r.call(this, t, e), this.fields = {}, this.oneofs = void 0, this.extensions = void 0, this.reserved = void 0, this.group = void 0, this._fieldsById = null, this._fieldsArray = null, this._oneofsArray = null, this._ctor = null
            }

            function o(t) {
                return t._fieldsById = t._fieldsArray = t._oneofsArray = null, delete t.encode, delete t.decode, delete t.verify, t
            }

            t.exports = n;
            var r = i(6);
            ((n.prototype = Object.create(r.prototype)).constructor = n).className = "Type";
            var a = i(2), s = i(11), c = i(4), l = i(23), u = i(24), d = i(12), h = i(10), f = i(9), p = i(0),
                m = i(21), v = i(26), g = i(27), y = i(28), b = i(29);
            Object.defineProperties(n.prototype, {
                fieldsById: {
                    get: function () {
                        if (this._fieldsById) return this._fieldsById;
                        this._fieldsById = {};
                        for (var t = Object.keys(this.fields), e = 0; e < t.length; ++e) {
                            var i = this.fields[t[e]], n = i.id;
                            if (this._fieldsById[n]) throw Error("duplicate id " + n + " in " + this);
                            this._fieldsById[n] = i
                        }
                        return this._fieldsById
                    }
                }, fieldsArray: {
                    get: function () {
                        return this._fieldsArray || (this._fieldsArray = p.toArray(this.fields))
                    }
                }, oneofsArray: {
                    get: function () {
                        return this._oneofsArray || (this._oneofsArray = p.toArray(this.oneofs))
                    }
                }, ctor: {
                    get: function () {
                        return this._ctor || (this.ctor = n.generateConstructor(this)())
                    }, set: function (t) {
                        var e = t.prototype;
                        e instanceof d || ((t.prototype = new d).constructor = t, p.merge(t.prototype, e)), t.$type = t.prototype.$type = this, p.merge(t, d, !0), this._ctor = t;
                        for (var i = 0; i < this.fieldsArray.length; ++i) this._fieldsArray[i].resolve();
                        var n = {};
                        for (i = 0; i < this.oneofsArray.length; ++i) n[this._oneofsArray[i].resolve().name] = {
                            get: p.oneOfGetter(this._oneofsArray[i].oneof),
                            set: p.oneOfSetter(this._oneofsArray[i].oneof)
                        };
                        i && Object.defineProperties(t.prototype, n)
                    }
                }
            }), n.generateConstructor = function (t) {
                for (var e, i = p.codegen(["p"], t.name), n = 0; n < t.fieldsArray.length; ++n) (e = t._fieldsArray[n]).map ? i("this%s={}", p.safeProp(e.name)) : e.repeated && i("this%s=[]", p.safeProp(e.name));
                return i("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")
            }, n.fromJSON = function (t, e) {
                var i = new n(t, e.options);
                i.extensions = e.extensions, i.reserved = e.reserved;
                for (var o = Object.keys(e.fields), d = 0; d < o.length; ++d) i.add((void 0 !== e.fields[o[d]].keyType ? l.fromJSON : c.fromJSON)(o[d], e.fields[o[d]]));
                if (e.oneofs) for (o = Object.keys(e.oneofs), d = 0; d < o.length; ++d) i.add(s.fromJSON(o[d], e.oneofs[o[d]]));
                if (e.nested) for (o = Object.keys(e.nested), d = 0; d < o.length; ++d) {
                    var h = e.nested[o[d]];
                    i.add((void 0 !== h.id ? c.fromJSON : void 0 !== h.fields ? n.fromJSON : void 0 !== h.values ? a.fromJSON : void 0 !== h.methods ? u.fromJSON : r.fromJSON)(o[d], h))
                }
                return e.extensions && e.extensions.length && (i.extensions = e.extensions), e.reserved && e.reserved.length && (i.reserved = e.reserved), e.group && (i.group = !0), e.comment && (i.comment = e.comment), i
            }, n.prototype.toJSON = function (t) {
                var e = r.prototype.toJSON.call(this, t), i = !!t && Boolean(t.keepComments);
                return p.toObject(["options", e && e.options || void 0, "oneofs", r.arrayToJSON(this.oneofsArray, t), "fields", r.arrayToJSON(this.fieldsArray.filter((function (t) {
                    return !t.declaringField
                })), t) || {}, "extensions", this.extensions && this.extensions.length ? this.extensions : void 0, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "group", this.group || void 0, "nested", e && e.nested || void 0, "comment", i ? this.comment : void 0])
            }, n.prototype.resolveAll = function () {
                for (var t = this.fieldsArray, e = 0; e < t.length;) t[e++].resolve();
                var i = this.oneofsArray;
                for (e = 0; e < i.length;) i[e++].resolve();
                return r.prototype.resolveAll.call(this)
            }, n.prototype.get = function (t) {
                return this.fields[t] || this.oneofs && this.oneofs[t] || this.nested && this.nested[t] || null
            }, n.prototype.add = function (t) {
                if (this.get(t.name)) throw Error("duplicate name '" + t.name + "' in " + this);
                if (t instanceof c && void 0 === t.extend) {
                    if (this._fieldsById ? this._fieldsById[t.id] : this.fieldsById[t.id]) throw Error("duplicate id " + t.id + " in " + this);
                    if (this.isReservedId(t.id)) throw Error("id " + t.id + " is reserved in " + this);
                    if (this.isReservedName(t.name)) throw Error("name '" + t.name + "' is reserved in " + this);
                    return t.parent && t.parent.remove(t), this.fields[t.name] = t, t.message = this, t.onAdd(this), o(this)
                }
                return t instanceof s ? (this.oneofs || (this.oneofs = {}), this.oneofs[t.name] = t, t.onAdd(this), o(this)) : r.prototype.add.call(this, t)
            }, n.prototype.remove = function (t) {
                if (t instanceof c && void 0 === t.extend) {
                    if (!this.fields || this.fields[t.name] !== t) throw Error(t + " is not a member of " + this);
                    return delete this.fields[t.name], t.parent = null, t.onRemove(this), o(this)
                }
                if (t instanceof s) {
                    if (!this.oneofs || this.oneofs[t.name] !== t) throw Error(t + " is not a member of " + this);
                    return delete this.oneofs[t.name], t.parent = null, t.onRemove(this), o(this)
                }
                return r.prototype.remove.call(this, t)
            }, n.prototype.isReservedId = function (t) {
                return r.isReservedId(this.reserved, t)
            }, n.prototype.isReservedName = function (t) {
                return r.isReservedName(this.reserved, t)
            }, n.prototype.create = function (t) {
                return new this.ctor(t)
            }, n.prototype.setup = function () {
                for (var t = this.fullName, e = [], i = 0; i < this.fieldsArray.length; ++i) e.push(this._fieldsArray[i].resolve().resolvedType);
                this.encode = m(this)({Writer: f, types: e, util: p}), this.decode = v(this)({
                    Reader: h,
                    types: e,
                    util: p
                }), this.verify = g(this)({types: e, util: p}), this.fromObject = y.fromObject(this)({
                    types: e,
                    util: p
                }), this.toObject = y.toObject(this)({types: e, util: p});
                var n = b[t];
                if (n) {
                    var o = Object.create(this);
                    o.fromObject = this.fromObject, this.fromObject = n.fromObject.bind(o), o.toObject = this.toObject, this.toObject = n.toObject.bind(o)
                }
                return this
            }, n.prototype.encode = function (t, e) {
                return this.setup().encode(t, e)
            }, n.prototype.encodeDelimited = function (t, e) {
                return this.encode(t, e && e.len ? e.fork() : e).ldelim()
            }, n.prototype.decode = function (t, e) {
                return this.setup().decode(t, e)
            }, n.prototype.decodeDelimited = function (t) {
                return t instanceof h || (t = h.create(t)), this.decode(t, t.uint32())
            }, n.prototype.verify = function (t) {
                return this.setup().verify(t)
            }, n.prototype.fromObject = function (t) {
                return this.setup().fromObject(t)
            }, n.prototype.toObject = function (t, e) {
                return this.setup().toObject(t, e)
            }, n.d = function (t) {
                return function (e) {
                    p.decorateType(e, t)
                }
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n, r, s) {
                if (o.call(this, t, e, n, void 0, void 0, r, s), !a.isString(i)) throw TypeError("keyType must be a string");
                this.keyType = i, this.resolvedKeyType = null, this.map = !0
            }

            t.exports = n;
            var o = i(4);
            ((n.prototype = Object.create(o.prototype)).constructor = n).className = "MapField";
            var r = i(7), a = i(0);
            n.fromJSON = function (t, e) {
                return new n(t, e.id, e.keyType, e.type, e.options, e.comment)
            }, n.prototype.toJSON = function (t) {
                var e = !!t && Boolean(t.keepComments);
                return a.toObject(["keyType", this.keyType, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", e ? this.comment : void 0])
            }, n.prototype.resolve = function () {
                if (this.resolved) return this;
                if (void 0 === r.mapKey[this.keyType]) throw Error("invalid key type: " + this.keyType);
                return o.prototype.resolve.call(this)
            }, n.d = function (t, e, i) {
                return "function" == typeof i ? i = a.decorateType(i).name : i && "object" == typeof i && (i = a.decorateEnum(i).name), function (o, r) {
                    a.decorateType(o.constructor).add(new n(r, t, e, i))
                }
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                r.call(this, t, e), this.methods = {}, this._methodsArray = null
            }

            function o(t) {
                return t._methodsArray = null, t
            }

            t.exports = n;
            var r = i(6);
            ((n.prototype = Object.create(r.prototype)).constructor = n).className = "Service";
            var a = i(25), s = i(0), c = i(19);
            n.fromJSON = function (t, e) {
                var i = new n(t, e.options);
                if (e.methods) for (var o = Object.keys(e.methods), r = 0; r < o.length; ++r) i.add(a.fromJSON(o[r], e.methods[o[r]]));
                return e.nested && i.addJSON(e.nested), i.comment = e.comment, i
            }, n.prototype.toJSON = function (t) {
                var e = r.prototype.toJSON.call(this, t), i = !!t && Boolean(t.keepComments);
                return s.toObject(["options", e && e.options || void 0, "methods", r.arrayToJSON(this.methodsArray, t) || {}, "nested", e && e.nested || void 0, "comment", i ? this.comment : void 0])
            }, Object.defineProperty(n.prototype, "methodsArray", {
                get: function () {
                    return this._methodsArray || (this._methodsArray = s.toArray(this.methods))
                }
            }), n.prototype.get = function (t) {
                return this.methods[t] || r.prototype.get.call(this, t)
            }, n.prototype.resolveAll = function () {
                for (var t = this.methodsArray, e = 0; e < t.length; ++e) t[e].resolve();
                return r.prototype.resolve.call(this)
            }, n.prototype.add = function (t) {
                if (this.get(t.name)) throw Error("duplicate name '" + t.name + "' in " + this);
                return t instanceof a ? (this.methods[t.name] = t, t.parent = this, o(this)) : r.prototype.add.call(this, t)
            }, n.prototype.remove = function (t) {
                if (t instanceof a) {
                    if (this.methods[t.name] !== t) throw Error(t + " is not a member of " + this);
                    return delete this.methods[t.name], t.parent = null, o(this)
                }
                return r.prototype.remove.call(this, t)
            }, n.prototype.create = function (t, e, i) {
                for (var n, o = new c.Service(t, e, i), r = 0; r < this.methodsArray.length; ++r) {
                    var a = s.lcFirst((n = this._methodsArray[r]).resolve().name).replace(/[^$\w_]/g, "");
                    o[a] = s.codegen(["r", "c"], s.isReserved(a) ? a + "_" : a)("return this.rpcCall(m,q,s,r,c)")({
                        m: n,
                        q: n.resolvedRequestType.ctor,
                        s: n.resolvedResponseType.ctor
                    })
                }
                return o
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n, a, s, c, l) {
                if (r.isObject(a) ? (c = a, a = s = void 0) : r.isObject(s) && (c = s, s = void 0), void 0 !== e && !r.isString(e)) throw TypeError("type must be a string");
                if (!r.isString(i)) throw TypeError("requestType must be a string");
                if (!r.isString(n)) throw TypeError("responseType must be a string");
                o.call(this, t, c), this.type = e || "rpc", this.requestType = i, this.requestStream = !!a || void 0, this.responseType = n, this.responseStream = !!s || void 0, this.resolvedRequestType = null, this.resolvedResponseType = null, this.comment = l
            }

            t.exports = n;
            var o = i(3);
            ((n.prototype = Object.create(o.prototype)).constructor = n).className = "Method";
            var r = i(0);
            n.fromJSON = function (t, e) {
                return new n(t, e.type, e.requestType, e.responseType, e.requestStream, e.responseStream, e.options, e.comment)
            }, n.prototype.toJSON = function (t) {
                var e = !!t && Boolean(t.keepComments);
                return r.toObject(["type", "rpc" !== this.type && this.type || void 0, "requestType", this.requestType, "requestStream", this.requestStream, "responseType", this.responseType, "responseStream", this.responseStream, "options", this.options, "comment", e ? this.comment : void 0])
            }, n.prototype.resolve = function () {
                return this.resolved ? this : (this.resolvedRequestType = this.parent.lookupType(this.requestType), this.resolvedResponseType = this.parent.lookupType(this.responseType), o.prototype.resolve.call(this))
            }
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                return "missing required '" + t.name + "'"
            }

            t.exports = function (t) {
                var e = a.codegen(["r", "l"], t.name + "$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor" + (t.fieldsArray.filter((function (t) {
                    return t.map
                })).length ? ",k" : ""))("while(r.pos<c){")("var t=r.uint32()");
                t.group && e("if((t&7)===4)")("break"), e("switch(t>>>3){");
                for (var i = 0; i < t.fieldsArray.length; ++i) {
                    var s = t._fieldsArray[i].resolve(), c = s.resolvedType instanceof o ? "int32" : s.type,
                        l = "m" + a.safeProp(s.name);
                    e("case %i:", s.id), s.map ? (e("r.skip().pos++")("if(%s===util.emptyObject)", l)("%s={}", l)("k=r.%s()", s.keyType)("r.pos++"), void 0 !== r.long[s.keyType] ? void 0 === r.basic[c] ? e('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())', l, i) : e('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()', l, c) : void 0 === r.basic[c] ? e("%s[k]=types[%i].decode(r,r.uint32())", l, i) : e("%s[k]=r.%s()", l, c)) : s.repeated ? (e("if(!(%s&&%s.length))", l, l)("%s=[]", l), void 0 !== r.packed[c] && e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())", l, c)("}else"), void 0 === r.basic[c] ? e(s.resolvedType.group ? "%s.push(types[%i].decode(r))" : "%s.push(types[%i].decode(r,r.uint32()))", l, i) : e("%s.push(r.%s())", l, c)) : void 0 === r.basic[c] ? e(s.resolvedType.group ? "%s=types[%i].decode(r)" : "%s=types[%i].decode(r,r.uint32())", l, i) : e("%s=r.%s()", l, c), e("break")
                }
                for (e("default:")("r.skipType(t&7)")("break")("}")("}"), i = 0; i < t._fieldsArray.length; ++i) {
                    var u = t._fieldsArray[i];
                    u.required && e("if(!m.hasOwnProperty(%j))", u.name)("throw util.ProtocolError(%j,{instance:m})", n(u))
                }
                return e("return m")
            };
            var o = i(2), r = i(7), a = i(0)
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                return t.name + ": " + e + (t.repeated && "array" !== e ? "[]" : t.map && "object" !== e ? "{k:" + t.keyType + "}" : "") + " expected"
            }

            function o(t, e, i, o) {
                if (e.resolvedType) if (e.resolvedType instanceof a) {
                    t("switch(%s){", o)("default:")("return%j", n(e, "enum value"));
                    for (var r = Object.keys(e.resolvedType.values), s = 0; s < r.length; ++s) t("case %i:", e.resolvedType.values[r[s]]);
                    t("break")("}")
                } else t("{")("var e=types[%i].verify(%s);", i, o)("if(e)")("return%j+e", e.name + ".")("}"); else switch (e.type) {
                    case"int32":
                    case"uint32":
                    case"sint32":
                    case"fixed32":
                    case"sfixed32":
                        t("if(!util.isInteger(%s))", o)("return%j", n(e, "integer"));
                        break;
                    case"int64":
                    case"uint64":
                    case"sint64":
                    case"fixed64":
                    case"sfixed64":
                        t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))", o, o, o, o)("return%j", n(e, "integer|Long"));
                        break;
                    case"float":
                    case"double":
                        t('if(typeof %s!=="number")', o)("return%j", n(e, "number"));
                        break;
                    case"bool":
                        t('if(typeof %s!=="boolean")', o)("return%j", n(e, "boolean"));
                        break;
                    case"string":
                        t("if(!util.isString(%s))", o)("return%j", n(e, "string"));
                        break;
                    case"bytes":
                        t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))', o, o, o)("return%j", n(e, "buffer"))
                }
                return t
            }

            function r(t, e, i) {
                switch (e.keyType) {
                    case"int32":
                    case"uint32":
                    case"sint32":
                    case"fixed32":
                    case"sfixed32":
                        t("if(!util.key32Re.test(%s))", i)("return%j", n(e, "integer key"));
                        break;
                    case"int64":
                    case"uint64":
                    case"sint64":
                    case"fixed64":
                    case"sfixed64":
                        t("if(!util.key64Re.test(%s))", i)("return%j", n(e, "integer|Long key"));
                        break;
                    case"bool":
                        t("if(!util.key2Re.test(%s))", i)("return%j", n(e, "boolean key"))
                }
                return t
            }

            t.exports = function (t) {
                var e = s.codegen(["m"], t.name + "$verify")('if(typeof m!=="object"||m===null)')("return%j", "object expected"),
                    i = {};
                t.oneofsArray.length && e("var p={}");
                for (var a = 0; a < t.fieldsArray.length; ++a) {
                    var c = t._fieldsArray[a].resolve(), l = "m" + s.safeProp(c.name);
                    if (c.optional && e("if(%s!=null&&m.hasOwnProperty(%j)){", l, c.name), c.map) e("if(!util.isObject(%s))", l)("return%j", n(c, "object"))("var k=Object.keys(%s)", l)("for(var i=0;i<k.length;++i){"), r(e, c, "k[i]"), o(e, c, a, l + "[k[i]]")("}"); else if (c.repeated) e("if(!Array.isArray(%s))", l)("return%j", n(c, "array"))("for(var i=0;i<%s.length;++i){", l), o(e, c, a, l + "[i]")("}"); else {
                        if (c.partOf) {
                            var u = s.safeProp(c.partOf.name);
                            1 === i[c.partOf.name] && e("if(p%s===1)", u)("return%j", c.partOf.name + ": multiple values"), i[c.partOf.name] = 1, e("p%s=1", u)
                        }
                        o(e, c, a, l)
                    }
                    c.optional && e("}")
                }
                return e("return null")
            };
            var a = i(2), s = i(0)
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i, n) {
                if (e.resolvedType) if (e.resolvedType instanceof a) {
                    t("switch(d%s){", n);
                    for (var o = e.resolvedType.values, r = Object.keys(o), s = 0; s < r.length; ++s) e.repeated && o[r[s]] === e.typeDefault && t("default:"), t("case%j:", r[s])("case %i:", o[r[s]])("m%s=%j", n, o[r[s]])("break");
                    t("}")
                } else t('if(typeof d%s!=="object")', n)("throw TypeError(%j)", e.fullName + ": object expected")("m%s=types[%i].fromObject(d%s)", n, i, n); else {
                    var c = !1;
                    switch (e.type) {
                        case"double":
                        case"float":
                            t("m%s=Number(d%s)", n, n);
                            break;
                        case"uint32":
                        case"fixed32":
                            t("m%s=d%s>>>0", n, n);
                            break;
                        case"int32":
                        case"sint32":
                        case"sfixed32":
                            t("m%s=d%s|0", n, n);
                            break;
                        case"uint64":
                            c = !0;
                        case"int64":
                        case"sint64":
                        case"fixed64":
                        case"sfixed64":
                            t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j", n, n, c)('else if(typeof d%s==="string")', n)("m%s=parseInt(d%s,10)", n, n)('else if(typeof d%s==="number")', n)("m%s=d%s", n, n)('else if(typeof d%s==="object")', n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)", n, n, n, c ? "true" : "");
                            break;
                        case"bytes":
                            t('if(typeof d%s==="string")', n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)", n, n, n)("else if(d%s.length)", n)("m%s=d%s", n, n);
                            break;
                        case"string":
                            t("m%s=String(d%s)", n, n);
                            break;
                        case"bool":
                            t("m%s=Boolean(d%s)", n, n)
                    }
                }
                return t
            }

            function o(t, e, i, n) {
                if (e.resolvedType) e.resolvedType instanceof a ? t("d%s=o.enums===String?types[%i].values[m%s]:m%s", n, i, n, n) : t("d%s=types[%i].toObject(m%s,o)", n, i, n); else {
                    var o = !1;
                    switch (e.type) {
                        case"double":
                        case"float":
                            t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s", n, n, n, n);
                            break;
                        case"uint64":
                            o = !0;
                        case"int64":
                        case"sint64":
                        case"fixed64":
                        case"sfixed64":
                            t('if(typeof m%s==="number")', n)("d%s=o.longs===String?String(m%s):m%s", n, n, n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s", n, n, n, n, o ? "true" : "", n);
                            break;
                        case"bytes":
                            t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s", n, n, n, n, n);
                            break;
                        default:
                            t("d%s=m%s", n, n)
                    }
                }
                return t
            }

            var r = e, a = i(2), s = i(0);
            r.fromObject = function (t) {
                var e = t.fieldsArray,
                    i = s.codegen(["d"], t.name + "$fromObject")("if(d instanceof this.ctor)")("return d");
                if (!e.length) return i("return new this.ctor");
                i("var m=new this.ctor");
                for (var o = 0; o < e.length; ++o) {
                    var r = e[o].resolve(), c = s.safeProp(r.name);
                    r.map ? (i("if(d%s){", c)('if(typeof d%s!=="object")', c)("throw TypeError(%j)", r.fullName + ": object expected")("m%s={}", c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){", c), n(i, r, o, c + "[ks[i]]")("}")("}")) : r.repeated ? (i("if(d%s){", c)("if(!Array.isArray(d%s))", c)("throw TypeError(%j)", r.fullName + ": array expected")("m%s=[]", c)("for(var i=0;i<d%s.length;++i){", c), n(i, r, o, c + "[i]")("}")("}")) : (r.resolvedType instanceof a || i("if(d%s!=null){", c), n(i, r, o, c), r.resolvedType instanceof a || i("}"))
                }
                return i("return m")
            }, r.toObject = function (t) {
                var e = t.fieldsArray.slice().sort(s.compareFieldsById);
                if (!e.length) return s.codegen()("return {}");
                for (var i = s.codegen(["m", "o"], t.name + "$toObject")("if(!o)")("o={}")("var d={}"), n = [], r = [], c = [], l = 0; l < e.length; ++l) e[l].partOf || (e[l].resolve().repeated ? n : e[l].map ? r : c).push(e[l]);
                if (n.length) {
                    for (i("if(o.arrays||o.defaults){"), l = 0; l < n.length; ++l) i("d%s=[]", s.safeProp(n[l].name));
                    i("}")
                }
                if (r.length) {
                    for (i("if(o.objects||o.defaults){"), l = 0; l < r.length; ++l) i("d%s={}", s.safeProp(r[l].name));
                    i("}")
                }
                if (c.length) {
                    for (i("if(o.defaults){"), l = 0; l < c.length; ++l) {
                        var u = c[l], d = s.safeProp(u.name);
                        if (u.resolvedType instanceof a) i("d%s=o.enums===String?%j:%j", d, u.resolvedType.valuesById[u.typeDefault], u.typeDefault); else if (u.long) i("if(util.Long){")("var n=new util.Long(%i,%i,%j)", u.typeDefault.low, u.typeDefault.high, u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n", d)("}else")("d%s=o.longs===String?%j:%i", d, u.typeDefault.toString(), u.typeDefault.toNumber()); else if (u.bytes) {
                            var h = "[" + Array.prototype.slice.call(u.typeDefault).join(",") + "]";
                            i("if(o.bytes===String)d%s=%j", d, String.fromCharCode.apply(String, u.typeDefault))("else{")("d%s=%s", d, h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)", d, d)("}")
                        } else i("d%s=%j", d, u.typeDefault)
                    }
                    i("}")
                }
                var f = !1;
                for (l = 0; l < e.length; ++l) {
                    u = e[l];
                    var p = t._fieldsArray.indexOf(u);
                    d = s.safeProp(u.name), u.map ? (f || (f = !0, i("var ks2")), i("if(m%s&&(ks2=Object.keys(m%s)).length){", d, d)("d%s={}", d)("for(var j=0;j<ks2.length;++j){"), o(i, u, p, d + "[ks2[j]]")("}")) : u.repeated ? (i("if(m%s&&m%s.length){", d, d)("d%s=[]", d)("for(var j=0;j<m%s.length;++j){", d), o(i, u, p, d + "[j]")("}")) : (i("if(m%s!=null&&m.hasOwnProperty(%j)){", d, u.name), o(i, u, p, d), u.partOf && i("if(o.oneofs)")("d%s=%j", s.safeProp(u.partOf.name), u.name)), i("}")
                }
                return i("return d")
            }
        }, function (t, e, i) {
            "use strict";
            var n = e, o = i(12);
            n[".google.protobuf.Any"] = {
                fromObject: function (t) {
                    if (t && t["@type"]) {
                        var e = this.lookup(t["@type"]);
                        if (e) {
                            var i = "." === t["@type"].charAt(0) ? t["@type"].substr(1) : t["@type"];
                            return this.create({type_url: "/" + i, value: e.encode(e.fromObject(t)).finish()})
                        }
                    }
                    return this.fromObject(t)
                }, toObject: function (t, e) {
                    if (e && e.json && t.type_url && t.value) {
                        var i = t.type_url.substring(t.type_url.lastIndexOf("/") + 1), n = this.lookup(i);
                        n && (t = n.decode(t.value))
                    }
                    if (!(t instanceof this.ctor) && t instanceof o) {
                        var r = t.$type.toObject(t, e);
                        return r["@type"] = t.$type.fullName, r
                    }
                    return this.toObject(t, e)
                }
            }
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                a.call(this, "", t), this.deferred = [], this.files = []
            }

            function o() {
            }

            function r(t, e) {
                var i = e.parent.lookup(e.extend);
                if (i) {
                    var n = new u(e.fullName, e.id, e.type, e.rule, void 0, e.options);
                    return n.declaringField = e, e.extensionField = n, i.add(n), !0
                }
                return !1
            }

            t.exports = n;
            var a = i(6);
            ((n.prototype = Object.create(a.prototype)).constructor = n).className = "Root";
            var s, c, l, u = i(4), d = i(2), h = i(11), f = i(0);
            n.fromJSON = function (t, e) {
                return e || (e = new n), t.options && e.setOptions(t.options), e.addJSON(t.nested)
            }, n.prototype.resolvePath = f.path.resolve, n.prototype.load = function t(e, i, n) {
                function r(t, e) {
                    if (n) {
                        var i = n;
                        if (n = null, h) throw t;
                        i(t, e)
                    }
                }

                function a(t) {
                    var e = t.lastIndexOf("google/protobuf/");
                    if (e > -1) {
                        var i = t.substring(e);
                        if (i in l) return i
                    }
                    return null
                }

                function s(t, e) {
                    try {
                        if (f.isString(e) && "{" === e.charAt(0) && (e = JSON.parse(e)), f.isString(e)) {
                            c.filename = t;
                            var n, o = c(e, d, i), s = 0;
                            if (o.imports) for (; s < o.imports.length; ++s) (n = a(o.imports[s]) || d.resolvePath(t, o.imports[s])) && u(n);
                            if (o.weakImports) for (s = 0; s < o.weakImports.length; ++s) (n = a(o.weakImports[s]) || d.resolvePath(t, o.weakImports[s])) && u(n, !0)
                        } else d.setOptions(e.options).addJSON(e.nested)
                    } catch (t) {
                        r(t)
                    }
                    h || p || r(null, d)
                }

                function u(t, e) {
                    if (!(d.files.indexOf(t) > -1)) {
                        if (d.files.push(t), t in l) return void (h ? s(t, l[t]) : (++p, setTimeout((function () {
                            --p, s(t, l[t])
                        }))));
                        if (h) {
                            var i;
                            try {
                                i = f.fs.readFileSync(t).toString("utf8")
                            } catch (t) {
                                return void (e || r(t))
                            }
                            s(t, i)
                        } else ++p, f.fetch(t, (function (i, o) {
                            if (--p, n) return i ? void (e ? p || r(null, d) : r(i)) : void s(t, o)
                        }))
                    }
                }

                "function" == typeof i && (n = i, i = void 0);
                var d = this;
                if (!n) return f.asPromise(t, d, e, i);
                var h = n === o, p = 0;
                f.isString(e) && (e = [e]);
                for (var m, v = 0; v < e.length; ++v) (m = d.resolvePath("", e[v])) && u(m);
                if (h) return d;
                p || r(null, d)
            }, n.prototype.loadSync = function (t, e) {
                if (!f.isNode) throw Error("not supported");
                return this.load(t, e, o)
            }, n.prototype.resolveAll = function () {
                if (this.deferred.length) throw Error("unresolvable extensions: " + this.deferred.map((function (t) {
                    return "'extend " + t.extend + "' in " + t.parent.fullName
                })).join(", "));
                return a.prototype.resolveAll.call(this)
            };
            var p = /^[A-Z]/;
            n.prototype._handleAdd = function (t) {
                if (t instanceof u) void 0 === t.extend || t.extensionField || r(0, t) || this.deferred.push(t); else if (t instanceof d) p.test(t.name) && (t.parent[t.name] = t.values); else if (!(t instanceof h)) {
                    if (t instanceof s) for (var e = 0; e < this.deferred.length;) r(0, this.deferred[e]) ? this.deferred.splice(e, 1) : ++e;
                    for (var i = 0; i < t.nestedArray.length; ++i) this._handleAdd(t._nestedArray[i]);
                    p.test(t.name) && (t.parent[t.name] = t)
                }
            }, n.prototype._handleRemove = function (t) {
                if (t instanceof u) {
                    if (void 0 !== t.extend) if (t.extensionField) t.extensionField.parent.remove(t.extensionField), t.extensionField = null; else {
                        var e = this.deferred.indexOf(t);
                        e > -1 && this.deferred.splice(e, 1)
                    }
                } else if (t instanceof d) p.test(t.name) && delete t.parent[t.name]; else if (t instanceof a) {
                    for (var i = 0; i < t.nestedArray.length; ++i) this._handleRemove(t._nestedArray[i]);
                    p.test(t.name) && delete t.parent[t.name]
                }
            }, n._configure = function (t, e, i) {
                s = t, c = e, l = i
            }
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.VideoEntity = void 0;
            var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }, o = function () {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }

                return function (e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(), r = i(32), a = i(16).ProtoMovieEntity;
            e.VideoEntity = function () {
                function t(e, i) {
                    (function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    })(this, t), this.version = "", this.videoSize = {
                        width: 0,
                        height: 0
                    }, this.FPS = 20, this.frames = 0, this.images = {}, this.sprites = [], this.audios = [], "object" === (void 0 === e ? "undefined" : n(e)) && e.$type == a ? ("object" === n(e.params) && (this.version = e.ver, this.videoSize.width = e.params.viewBoxWidth || 0, this.videoSize.height = e.params.viewBoxHeight || 0, this.FPS = e.params.fps || 20, this.frames = e.params.frames || 0), this.resetSprites(e), this.audios = e.audios) : e && (e.movie && (e.movie.viewBox && (this.videoSize.width = parseFloat(e.movie.viewBox.width) || 0, this.videoSize.height = parseFloat(e.movie.viewBox.height) || 0), this.version = e.ver, this.FPS = parseInt(e.movie.fps) || 20, this.frames = parseInt(e.movie.frames) || 0), this.resetSprites(e)), i && (this.images = i)
                }

                return o(t, [{
                    key: "resetSprites", value: function (t) {
                        t.sprites instanceof Array && (this.sprites = t.sprites.map((function (t) {
                            return new r.SpriteEntity(t)
                        })))
                    }
                }]), t
            }()
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.SpriteEntity = void 0;
            var n = i(33);
            i(5), i(14), i(15), e.SpriteEntity = function t(e) {
                (function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                })(this, t), this.matteKey = null, this.imageKey = null, this.frames = [], this.matteKey = e.matteKey, this.imageKey = e.imageKey, e.frames && (this.frames = e.frames.map((function (t) {
                    return new n.FrameEntity(t)
                })))
            }
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.FrameEntity = void 0;
            var n = i(5);
            e.FrameEntity = function t(e) {
                (function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                })(this, t), this.alpha = 0, this.transform = {
                    a: 1,
                    b: 0,
                    c: 0,
                    d: 1,
                    tx: 0,
                    ty: 0
                }, this.layout = {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                }, this.nx = 0, this.ny = 0, this.maskPath = null, this.shapes = [], this.alpha = parseFloat(e.alpha) || 0, e.layout && (this.layout.x = parseFloat(e.layout.x) || 0, this.layout.y = parseFloat(e.layout.y) || 0, this.layout.width = parseFloat(e.layout.width) || 0, this.layout.height = parseFloat(e.layout.height) || 0), e.transform && (this.transform.a = parseFloat(e.transform.a) || 1, this.transform.b = parseFloat(e.transform.b) || 0, this.transform.c = parseFloat(e.transform.c) || 0, this.transform.d = parseFloat(e.transform.d) || 1, this.transform.tx = parseFloat(e.transform.tx) || 0, this.transform.ty = parseFloat(e.transform.ty) || 0), e.clipPath && e.clipPath.length > 0 && (this.maskPath = new n.BezierPath(e.clipPath, void 0, {fill: "#000000"})), e.shapes && (e.shapes instanceof Array && e.shapes.forEach((function (t) {
                    switch (t.pathArgs = t.args, t.type) {
                        case 0:
                            t.type = "shape", t.pathArgs = t.shape;
                            break;
                        case 1:
                            t.type = "rect", t.pathArgs = t.rect;
                            break;
                        case 2:
                            t.type = "ellipse", t.pathArgs = t.ellipse;
                            break;
                        case 3:
                            t.type = "keep"
                    }
                    if (t.styles) {
                        t.styles.fill && ("number" == typeof t.styles.fill.r && (t.styles.fill[0] = t.styles.fill.r), "number" == typeof t.styles.fill.g && (t.styles.fill[1] = t.styles.fill.g), "number" == typeof t.styles.fill.b && (t.styles.fill[2] = t.styles.fill.b), "number" == typeof t.styles.fill.a && (t.styles.fill[3] = t.styles.fill.a)), t.styles.stroke && ("number" == typeof t.styles.stroke.r && (t.styles.stroke[0] = t.styles.stroke.r), "number" == typeof t.styles.stroke.g && (t.styles.stroke[1] = t.styles.stroke.g), "number" == typeof t.styles.stroke.b && (t.styles.stroke[2] = t.styles.stroke.b), "number" == typeof t.styles.stroke.a && (t.styles.stroke[3] = t.styles.stroke.a));
                        var e = t.styles.lineDash || [];
                        switch (t.styles.lineDashI > 0 && e.push(t.styles.lineDashI), t.styles.lineDashII > 0 && (e.length < 1 && e.push(0), e.push(t.styles.lineDashII), e.push(0)), t.styles.lineDashIII > 0 && (e.length < 2 && (e.push(0), e.push(0)), e[2] = t.styles.lineDashIII), t.styles.lineDash = e, t.styles.lineJoin) {
                            case 0:
                                t.styles.lineJoin = "miter";
                                break;
                            case 1:
                                t.styles.lineJoin = "round";
                                break;
                            case 2:
                                t.styles.lineJoin = "bevel"
                        }
                        switch (t.styles.lineCap) {
                            case 0:
                                t.styles.lineCap = "butt";
                                break;
                            case 1:
                                t.styles.lineCap = "round";
                                break;
                            case 2:
                                t.styles.lineCap = "square"
                        }
                    }
                })), e.shapes[0] && "keep" === e.shapes[0].type ? this.shapes = t.lastShapes : (this.shapes = e.shapes, t.lastShapes = e.shapes));
                var i = this.transform.a * this.layout.x + this.transform.c * this.layout.y + this.transform.tx,
                    o = this.transform.a * (this.layout.x + this.layout.width) + this.transform.c * this.layout.y + this.transform.tx,
                    r = this.transform.a * this.layout.x + this.transform.c * (this.layout.y + this.layout.height) + this.transform.tx,
                    a = this.transform.a * (this.layout.x + this.layout.width) + this.transform.c * (this.layout.y + this.layout.height) + this.transform.tx,
                    s = this.transform.b * this.layout.x + this.transform.d * this.layout.y + this.transform.ty,
                    c = this.transform.b * (this.layout.x + this.layout.width) + this.transform.d * this.layout.y + this.transform.ty,
                    l = this.transform.b * this.layout.x + this.transform.d * (this.layout.y + this.layout.height) + this.transform.ty,
                    u = this.transform.b * (this.layout.x + this.layout.width) + this.transform.d * (this.layout.y + this.layout.height) + this.transform.ty;
                this.nx = Math.min(Math.min(r, a), Math.min(i, o)), this.ny = Math.min(Math.min(l, u), Math.min(s, c))
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = i(35)
        }, function (t, e, i) {
            "use strict";
            var n = t.exports = i(36);
            n.build = "light", n.load = function (t, e, i) {
                return "function" == typeof e ? (i = e, e = new n.Root) : e || (e = new n.Root), e.load(t, i)
            }, n.loadSync = function (t, e) {
                return e || (e = new n.Root), e.loadSync(t)
            }, n.encoder = i(21), n.decoder = i(26), n.verifier = i(27), n.converter = i(28), n.ReflectionObject = i(3), n.Namespace = i(6), n.Root = i(30), n.Enum = i(2), n.Type = i(22), n.Field = i(4), n.OneOf = i(11), n.MapField = i(23), n.Service = i(24), n.Method = i(25), n.Message = i(12), n.wrappers = i(29), n.types = i(7), n.util = i(0), n.ReflectionObject._configure(n.Root), n.Namespace._configure(n.Type, n.Service, n.Enum), n.Root._configure(n.Type), n.Field._configure(n.Type)
        }, function (t, e, i) {
            "use strict";

            function n() {
                o.util._configure(), o.Writer._configure(o.BufferWriter), o.Reader._configure(o.BufferReader)
            }

            var o = e;
            o.build = "minimal", o.Writer = i(9), o.BufferWriter = i(44), o.Reader = i(10), o.BufferReader = i(45), o.util = i(1), o.rpc = i(19), o.roots = i(20), o.configure = n, n()
        }, function (t, e) {
            var i;
            i = function () {
                return this
            }();
            try {
                i = i || Function("return this")() || (0, eval)("this")
            } catch (t) {
                "object" == typeof window && (i = window)
            }
            t.exports = i
        }, function (t, e, i) {
            "use strict";
            var n = e;
            n.length = function (t) {
                var e = t.length;
                if (!e) return 0;
                for (var i = 0; --e % 4 > 1 && "=" === t.charAt(e);) ++i;
                return Math.ceil(3 * t.length) / 4 - i
            };
            for (var o = new Array(64), r = new Array(123), a = 0; a < 64;) r[o[a] = a < 26 ? a + 65 : a < 52 ? a + 71 : a < 62 ? a - 4 : a - 59 | 43] = a++;
            n.encode = function (t, e, i) {
                for (var n, r = null, a = [], s = 0, c = 0; e < i;) {
                    var l = t[e++];
                    switch (c) {
                        case 0:
                            a[s++] = o[l >> 2], n = (3 & l) << 4, c = 1;
                            break;
                        case 1:
                            a[s++] = o[n | l >> 4], n = (15 & l) << 2, c = 2;
                            break;
                        case 2:
                            a[s++] = o[n | l >> 6], a[s++] = o[63 & l], c = 0
                    }
                    s > 8191 && ((r || (r = [])).push(String.fromCharCode.apply(String, a)), s = 0)
                }
                return c && (a[s++] = o[n], a[s++] = 61, 1 === c && (a[s++] = 61)), r ? (s && r.push(String.fromCharCode.apply(String, a.slice(0, s))), r.join("")) : String.fromCharCode.apply(String, a.slice(0, s))
            }, n.decode = function (t, e, i) {
                for (var n, o = i, a = 0, s = 0; s < t.length;) {
                    var c = t.charCodeAt(s++);
                    if (61 === c && a > 1) break;
                    if (void 0 === (c = r[c])) throw Error("invalid encoding");
                    switch (a) {
                        case 0:
                            n = c, a = 1;
                            break;
                        case 1:
                            e[i++] = n << 2 | (48 & c) >> 4, n = c, a = 2;
                            break;
                        case 2:
                            e[i++] = (15 & n) << 4 | (60 & c) >> 2, n = c, a = 3;
                            break;
                        case 3:
                            e[i++] = (3 & n) << 6 | c, a = 0
                    }
                }
                if (1 === a) throw Error("invalid encoding");
                return i - o
            }, n.test = function (t) {
                return /^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)
            }
        }, function (t, e, i) {
            "use strict";

            function n() {
                this._listeners = {}
            }

            t.exports = n, n.prototype.on = function (t, e, i) {
                return (this._listeners[t] || (this._listeners[t] = [])).push({fn: e, ctx: i || this}), this
            }, n.prototype.off = function (t, e) {
                if (void 0 === t) this._listeners = {}; else if (void 0 === e) this._listeners[t] = []; else for (var i = this._listeners[t], n = 0; n < i.length;) i[n].fn === e ? i.splice(n, 1) : ++n;
                return this
            }, n.prototype.emit = function (t) {
                var e = this._listeners[t];
                if (e) {
                    for (var i = [], n = 1; n < arguments.length;) i.push(arguments[n++]);
                    for (n = 0; n < e.length;) e[n].fn.apply(e[n++].ctx, i)
                }
                return this
            }
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                return "undefined" != typeof Float32Array ? function () {
                    function e(t, e, i) {
                        r[0] = t, e[i] = a[0], e[i + 1] = a[1], e[i + 2] = a[2], e[i + 3] = a[3]
                    }

                    function i(t, e, i) {
                        r[0] = t, e[i] = a[3], e[i + 1] = a[2], e[i + 2] = a[1], e[i + 3] = a[0]
                    }

                    function n(t, e) {
                        return a[0] = t[e], a[1] = t[e + 1], a[2] = t[e + 2], a[3] = t[e + 3], r[0]
                    }

                    function o(t, e) {
                        return a[3] = t[e], a[2] = t[e + 1], a[1] = t[e + 2], a[0] = t[e + 3], r[0]
                    }

                    var r = new Float32Array([-0]), a = new Uint8Array(r.buffer), s = 128 === a[3];
                    t.writeFloatLE = s ? e : i, t.writeFloatBE = s ? i : e, t.readFloatLE = s ? n : o, t.readFloatBE = s ? o : n
                }() : function () {
                    function e(t, e, i, n) {
                        var o = e < 0 ? 1 : 0;
                        if (o && (e = -e), 0 === e) t(1 / e > 0 ? 0 : 2147483648, i, n); else if (isNaN(e)) t(2143289344, i, n); else if (e > 34028234663852886e22) t((o << 31 | 2139095040) >>> 0, i, n); else if (e < 11754943508222875e-54) t((o << 31 | Math.round(e / 1401298464324817e-60)) >>> 0, i, n); else {
                            var r = Math.floor(Math.log(e) / Math.LN2);
                            t((o << 31 | r + 127 << 23 | 8388607 & Math.round(e * Math.pow(2, -r) * 8388608)) >>> 0, i, n)
                        }
                    }

                    function i(t, e, i) {
                        var n = t(e, i), o = 2 * (n >> 31) + 1, r = n >>> 23 & 255, a = 8388607 & n;
                        return 255 === r ? a ? NaN : o * (1 / 0) : 0 === r ? 1401298464324817e-60 * o * a : o * Math.pow(2, r - 150) * (a + 8388608)
                    }

                    t.writeFloatLE = e.bind(null, o), t.writeFloatBE = e.bind(null, r), t.readFloatLE = i.bind(null, a), t.readFloatBE = i.bind(null, s)
                }(), "undefined" != typeof Float64Array ? function () {
                    function e(t, e, i) {
                        r[0] = t, e[i] = a[0], e[i + 1] = a[1], e[i + 2] = a[2], e[i + 3] = a[3], e[i + 4] = a[4], e[i + 5] = a[5], e[i + 6] = a[6], e[i + 7] = a[7]
                    }

                    function i(t, e, i) {
                        r[0] = t, e[i] = a[7], e[i + 1] = a[6], e[i + 2] = a[5], e[i + 3] = a[4], e[i + 4] = a[3], e[i + 5] = a[2], e[i + 6] = a[1], e[i + 7] = a[0]
                    }

                    function n(t, e) {
                        return a[0] = t[e], a[1] = t[e + 1], a[2] = t[e + 2], a[3] = t[e + 3], a[4] = t[e + 4], a[5] = t[e + 5], a[6] = t[e + 6], a[7] = t[e + 7], r[0]
                    }

                    function o(t, e) {
                        return a[7] = t[e], a[6] = t[e + 1], a[5] = t[e + 2], a[4] = t[e + 3], a[3] = t[e + 4], a[2] = t[e + 5], a[1] = t[e + 6], a[0] = t[e + 7], r[0]
                    }

                    var r = new Float64Array([-0]), a = new Uint8Array(r.buffer), s = 128 === a[7];
                    t.writeDoubleLE = s ? e : i, t.writeDoubleBE = s ? i : e, t.readDoubleLE = s ? n : o, t.readDoubleBE = s ? o : n
                }() : function () {
                    function e(t, e, i, n, o, r) {
                        var a = n < 0 ? 1 : 0;
                        if (a && (n = -n), 0 === n) t(0, o, r + e), t(1 / n > 0 ? 0 : 2147483648, o, r + i); else if (isNaN(n)) t(0, o, r + e), t(2146959360, o, r + i); else if (n > 17976931348623157e292) t(0, o, r + e), t((a << 31 | 2146435072) >>> 0, o, r + i); else {
                            var s;
                            if (n < 22250738585072014e-324) t((s = n / 5e-324) >>> 0, o, r + e), t((a << 31 | s / 4294967296) >>> 0, o, r + i); else {
                                var c = Math.floor(Math.log(n) / Math.LN2);
                                1024 === c && (c = 1023), t(4503599627370496 * (s = n * Math.pow(2, -c)) >>> 0, o, r + e), t((a << 31 | c + 1023 << 20 | 1048576 * s & 1048575) >>> 0, o, r + i)
                            }
                        }
                    }

                    function i(t, e, i, n, o) {
                        var r = t(n, o + e), a = t(n, o + i), s = 2 * (a >> 31) + 1, c = a >>> 20 & 2047,
                            l = 4294967296 * (1048575 & a) + r;
                        return 2047 === c ? l ? NaN : s * (1 / 0) : 0 === c ? 5e-324 * s * l : s * Math.pow(2, c - 1075) * (l + 4503599627370496)
                    }

                    t.writeDoubleLE = e.bind(null, o, 0, 4), t.writeDoubleBE = e.bind(null, r, 4, 0), t.readDoubleLE = i.bind(null, a, 0, 4), t.readDoubleBE = i.bind(null, s, 4, 0)
                }(), t
            }

            function o(t, e, i) {
                e[i] = 255 & t, e[i + 1] = t >>> 8 & 255, e[i + 2] = t >>> 16 & 255, e[i + 3] = t >>> 24
            }

            function r(t, e, i) {
                e[i] = t >>> 24, e[i + 1] = t >>> 16 & 255, e[i + 2] = t >>> 8 & 255, e[i + 3] = 255 & t
            }

            function a(t, e) {
                return (t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0
            }

            function s(t, e) {
                return (t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3]) >>> 0
            }

            t.exports = n(n)
        }, function (t, e, i) {
            "use strict";
            var n = e;
            n.length = function (t) {
                for (var e = 0, i = 0, n = 0; n < t.length; ++n) (i = t.charCodeAt(n)) < 128 ? e += 1 : i < 2048 ? e += 2 : 55296 == (64512 & i) && 56320 == (64512 & t.charCodeAt(n + 1)) ? (++n, e += 4) : e += 3;
                return e
            }, n.read = function (t, e, i) {
                if (i - e < 1) return "";
                for (var n, o = null, r = [], a = 0; e < i;) (n = t[e++]) < 128 ? r[a++] = n : n > 191 && n < 224 ? r[a++] = (31 & n) << 6 | 63 & t[e++] : n > 239 && n < 365 ? (n = ((7 & n) << 18 | (63 & t[e++]) << 12 | (63 & t[e++]) << 6 | 63 & t[e++]) - 65536, r[a++] = 55296 + (n >> 10), r[a++] = 56320 + (1023 & n)) : r[a++] = (15 & n) << 12 | (63 & t[e++]) << 6 | 63 & t[e++], a > 8191 && ((o || (o = [])).push(String.fromCharCode.apply(String, r)), a = 0);
                return o ? (a && o.push(String.fromCharCode.apply(String, r.slice(0, a))), o.join("")) : String.fromCharCode.apply(String, r.slice(0, a))
            }, n.write = function (t, e, i) {
                for (var n, o, r = i, a = 0; a < t.length; ++a) (n = t.charCodeAt(a)) < 128 ? e[i++] = n : n < 2048 ? (e[i++] = n >> 6 | 192, e[i++] = 63 & n | 128) : 55296 == (64512 & n) && 56320 == (64512 & (o = t.charCodeAt(a + 1))) ? (n = 65536 + ((1023 & n) << 10) + (1023 & o), ++a, e[i++] = n >> 18 | 240, e[i++] = n >> 12 & 63 | 128, e[i++] = n >> 6 & 63 | 128, e[i++] = 63 & n | 128) : (e[i++] = n >> 12 | 224, e[i++] = n >> 6 & 63 | 128, e[i++] = 63 & n | 128);
                return i - r
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = function (t, e, i) {
                var n = i || 8192, o = n >>> 1, r = null, a = n;
                return function (i) {
                    if (i < 1 || i > o) return t(i);
                    a + i > n && (r = t(n), a = 0);
                    var s = e.call(r, a, a += i);
                    return 7 & a && (a = 1 + (7 | a)), s
                }
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                this.lo = t >>> 0, this.hi = e >>> 0
            }

            t.exports = n;
            var o = i(1), r = n.zero = new n(0, 0);
            r.toNumber = function () {
                return 0
            }, r.zzEncode = r.zzDecode = function () {
                return this
            }, r.length = function () {
                return 1
            };
            var a = n.zeroHash = "\0\0\0\0\0\0\0\0";
            n.fromNumber = function (t) {
                if (0 === t) return r;
                var e = t < 0;
                e && (t = -t);
                var i = t >>> 0, o = (t - i) / 4294967296 >>> 0;
                return e && (o = ~o >>> 0, i = ~i >>> 0, ++i > 4294967295 && (i = 0, ++o > 4294967295 && (o = 0))), new n(i, o)
            }, n.from = function (t) {
                if ("number" == typeof t) return n.fromNumber(t);
                if (o.isString(t)) {
                    if (!o.Long) return n.fromNumber(parseInt(t, 10));
                    t = o.Long.fromString(t)
                }
                return t.low || t.high ? new n(t.low >>> 0, t.high >>> 0) : r
            }, n.prototype.toNumber = function (t) {
                if (!t && this.hi >>> 31) {
                    var e = 1 + ~this.lo >>> 0, i = ~this.hi >>> 0;
                    return e || (i = i + 1 >>> 0), -(e + 4294967296 * i)
                }
                return this.lo + 4294967296 * this.hi
            }, n.prototype.toLong = function (t) {
                return o.Long ? new o.Long(0 | this.lo, 0 | this.hi, Boolean(t)) : {
                    low: 0 | this.lo,
                    high: 0 | this.hi,
                    unsigned: Boolean(t)
                }
            };
            var s = String.prototype.charCodeAt;
            n.fromHash = function (t) {
                return t === a ? r : new n((s.call(t, 0) | s.call(t, 1) << 8 | s.call(t, 2) << 16 | s.call(t, 3) << 24) >>> 0, (s.call(t, 4) | s.call(t, 5) << 8 | s.call(t, 6) << 16 | s.call(t, 7) << 24) >>> 0)
            }, n.prototype.toHash = function () {
                return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24)
            }, n.prototype.zzEncode = function () {
                var t = this.hi >> 31;
                return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ t) >>> 0, this.lo = (this.lo << 1 ^ t) >>> 0, this
            }, n.prototype.zzDecode = function () {
                var t = -(1 & this.lo);
                return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ t) >>> 0, this.hi = (this.hi >>> 1 ^ t) >>> 0, this
            }, n.prototype.length = function () {
                var t = this.lo, e = (this.lo >>> 28 | this.hi << 4) >>> 0, i = this.hi >>> 24;
                return 0 === i ? 0 === e ? t < 16384 ? t < 128 ? 1 : 2 : t < 2097152 ? 3 : 4 : e < 16384 ? e < 128 ? 5 : 6 : e < 2097152 ? 7 : 8 : i < 128 ? 9 : 10
            }
        }, function (t, e, i) {
            "use strict";

            function n() {
                r.call(this)
            }

            function o(t, e, i) {
                t.length < 40 ? a.utf8.write(t, e, i) : e.utf8Write ? e.utf8Write(t, i) : e.write(t, i)
            }

            t.exports = n;
            var r = i(9);
            (n.prototype = Object.create(r.prototype)).constructor = n;
            var a = i(1);
            n._configure = function () {
                n.alloc = a._Buffer_allocUnsafe, n.writeBytesBuffer = a.Buffer && a.Buffer.prototype instanceof Uint8Array && "set" === a.Buffer.prototype.set.name ? function (t, e, i) {
                    e.set(t, i)
                } : function (t, e, i) {
                    if (t.copy) t.copy(e, i, 0, t.length); else for (var n = 0; n < t.length;) e[i++] = t[n++]
                }
            }, n.prototype.bytes = function (t) {
                a.isString(t) && (t = a._Buffer_from(t, "base64"));
                var e = t.length >>> 0;
                return this.uint32(e), e && this._push(n.writeBytesBuffer, e, t), this
            }, n.prototype.string = function (t) {
                var e = a.Buffer.byteLength(t);
                return this.uint32(e), e && this._push(o, e, t), this
            }, n._configure()
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                o.call(this, t)
            }

            t.exports = n;
            var o = i(10);
            (n.prototype = Object.create(o.prototype)).constructor = n;
            var r = i(1);
            n._configure = function () {
                r.Buffer && (n.prototype._slice = r.Buffer.prototype.slice)
            }, n.prototype.string = function () {
                var t = this.uint32();
                return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + t, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + t, this.len))
            }, n._configure()
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i) {
                if ("function" != typeof t) throw TypeError("rpcImpl must be a function");
                o.EventEmitter.call(this), this.rpcImpl = t, this.requestDelimited = Boolean(e), this.responseDelimited = Boolean(i)
            }

            t.exports = n;
            var o = i(1);
            (n.prototype = Object.create(o.EventEmitter.prototype)).constructor = n, n.prototype.rpcCall = function t(e, i, n, r, a) {
                if (!r) throw TypeError("request must be specified");
                var s = this;
                if (!a) return o.asPromise(t, s, e, i, n, r);
                if (s.rpcImpl) try {
                    return s.rpcImpl(e, i[s.requestDelimited ? "encodeDelimited" : "encode"](r).finish(), (function (t, i) {
                        if (t) return s.emit("error", t, e), a(t);
                        if (null !== i) {
                            if (!(i instanceof n)) try {
                                i = n[s.responseDelimited ? "decodeDelimited" : "decode"](i)
                            } catch (t) {
                                return s.emit("error", t, e), a(t)
                            }
                            return s.emit("data", i, e), a(null, i)
                        }
                        s.end(!0)
                    }))
                } catch (t) {
                    return s.emit("error", t, e), void setTimeout((function () {
                        a(t)
                    }), 0)
                } else setTimeout((function () {
                    a(Error("already ended"))
                }), 0)
            }, n.prototype.end = function (t) {
                return this.rpcImpl && (t || this.rpcImpl(null, null, null), this.rpcImpl = null, this.emit("end").off()), this
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                function i(t) {
                    if ("string" != typeof t) {
                        var e = o();
                        if (n.verbose && console.log("codegen: " + e), e = "return " + e, t) {
                            for (var a = Object.keys(t), s = new Array(a.length + 1), c = new Array(a.length), l = 0; l < a.length;) s[l] = a[l], c[l] = t[a[l++]];
                            return s[l] = e, Function.apply(null, s).apply(null, c)
                        }
                        return Function(e)()
                    }
                    for (var u = new Array(arguments.length - 1), d = 0; d < u.length;) u[d] = arguments[++d];
                    if (d = 0, t = t.replace(/%([%dfijs])/g, (function (t, e) {
                        var i = u[d++];
                        switch (e) {
                            case"d":
                            case"f":
                                return String(Number(i));
                            case"i":
                                return String(Math.floor(i));
                            case"j":
                                return JSON.stringify(i);
                            case"s":
                                return String(i)
                        }
                        return "%"
                    })), d !== u.length) throw Error("parameter count mismatch");
                    return r.push(t), i
                }

                function o(i) {
                    return "function " + (i || e || "") + "(" + (t && t.join(",") || "") + "){\n  " + r.join("\n  ") + "\n}"
                }

                "string" == typeof t && (e = t, t = void 0);
                var r = [];
                return i.toString = o, i
            }

            t.exports = n, n.verbose = !1
        }, function (t, e, i) {
            "use strict";

            function n(t, e, i) {
                return "function" == typeof e ? (i = e, e = {}) : e || (e = {}), i ? !e.xhr && r && r.readFile ? r.readFile(t, (function (o, r) {
                    return o && "undefined" != typeof XMLHttpRequest ? n.xhr(t, e, i) : o ? i(o) : i(null, e.binary ? r : r.toString("utf8"))
                })) : n.xhr(t, e, i) : o(n, this, t, e)
            }

            t.exports = n;
            var o = i(17), r = i(18)("fs");
            n.xhr = function (t, e, i) {
                var n = new XMLHttpRequest;
                n.onreadystatechange = function () {
                    if (4 === n.readyState) {
                        if (0 !== n.status && 200 !== n.status) return i(Error("status " + n.status));
                        if (e.binary) {
                            var t = n.response;
                            if (!t) {
                                t = [];
                                for (var o = 0; o < n.responseText.length; ++o) t.push(255 & n.responseText.charCodeAt(o))
                            }
                            return i(null, "undefined" != typeof Uint8Array ? new Uint8Array(t) : t)
                        }
                        return i(null, n.responseText)
                    }
                }, e.binary && ("overrideMimeType" in n && n.overrideMimeType("text/plain; charset=x-user-defined"), n.responseType = "arraybuffer"), n.open("GET", t), n.send()
            }
        }, function (t, e, i) {
            "use strict";
            var n = e, o = n.isAbsolute = function (t) {
                return /^(?:\/|\w+:)/.test(t)
            }, r = n.normalize = function (t) {
                var e = (t = t.replace(/\\/g, "/").replace(/\/{2,}/g, "/")).split("/"), i = o(t), n = "";
                i && (n = e.shift() + "/");
                for (var r = 0; r < e.length;) ".." === e[r] ? r > 0 && ".." !== e[r - 1] ? e.splice(--r, 2) : i ? e.splice(r, 1) : ++r : "." === e[r] ? e.splice(r, 1) : ++r;
                return n + e.join("/")
            };
            n.resolve = function (t, e, i) {
                return i || (e = r(e)), o(e) ? e : (i || (t = r(t)), (t = t.replace(/(?:\/|^)[^\/]+$/, "")).length ? r(t + "/" + e) : e)
            }
        }, function (t, e, i) {
            "use strict";
            var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }, o = i(16).ProtoMovieEntity, r = i(8).assign, a = i(51), s = {};
            r(s, a);
            var c = function (t) {
                for (var e = [], i = 0; i < t.length; i += 32768) e.push(String.fromCharCode.apply(null, t.subarray(i, i + 32768)));
                return e.join("")
            }, l = {
                loadAssets: function (t, e, i) {
                    if ("object" === ("undefined" == typeof JSZipUtils ? "undefined" : n(JSZipUtils)) && "function" == typeof JSZip) if ("[object File]" == t.toString()) l._readBlobAsArrayBuffer(t, (function (t) {
                        var n = new Uint8Array(t, 0, 4);
                        80 == n[0] && 75 == n[1] && 3 == n[2] && 4 == n[3] ? JSZip.loadAsync(t).then((function (t) {
                            l._decodeAssets(t, e)
                        })) : l.load_viaProto(t, e, i)
                    })); else if (t.indexOf("data:svga/1.0;base64,") >= 0) {
                        var o = l._base64ToArrayBuffer(t.substring(21));
                        JSZip.loadAsync(o).then((function (t) {
                            l._decodeAssets(t, e)
                        }))
                    } else t.indexOf("data:svga/2.0;base64,") >= 0 ? (o = l._base64ToArrayBuffer(t.substring(21)), l.load_viaProto(o, e, i)) : JSZipUtils.getBinaryContent(t, (function (t, n) {
                        if (t) throw i && i(t), console.error(t), t;
                        var o = new Uint8Array(n, 0, 4);
                        80 == o[0] && 75 == o[1] && 3 == o[2] && 4 == o[3] ? JSZip.loadAsync(n).then((function (t) {
                            l._decodeAssets(t, e)
                        })) : l.load_viaProto(n, e, i)
                    })); else {
                        var r = new XMLHttpRequest;
                        r.open("GET", t, !0), r.responseType = "arraybuffer", r.onloadend = function () {
                            l.load_viaProto(r.response, e, i)
                        }, r.send()
                    }
                }, load_viaProto: function (t, e, i) {
                    try {
                        var n = s.inflate(t), r = o.decode(n), a = {};
                        l._loadImages(a, void 0, r, (function () {
                            r.ver = "2.0", e({movie: r, images: a})
                        }))
                    } catch (t) {
                        throw i && i(t), console.error(t), t
                    }
                }, _decodeAssets: function (t, e) {
                    var i = "1.0";
                    t.file("movie.binary") && (i = "1.5"), t.file("movie.spec").async("string").then((function (n) {
                        var o = JSON.parse(n), r = {};
                        o.ver = i, l._loadImages(r, t, o, (function () {
                            e({movie: o, images: r})
                        }))
                    }))
                }, _loadImages: function (t, e, i, r) {
                    var a = this;
                    if ("object" === (void 0 === i ? "undefined" : n(i)) && i.$type == o) {
                        var s = !0;
                        if (e) t:for (var u in i.images) switch (function (n) {
                            if (i.images.hasOwnProperty(n)) {
                                var o = i.images[n], u = c(o);
                                return t.hasOwnProperty(n) ? "continue" : (s = !1, e.file(u + ".png").async("base64").then(function (o) {
                                    t[n] = o, l._loadImages(t, e, i, r)
                                }.bind(a)), "break")
                            }
                        }(u)) {
                            case"continue":
                                continue;
                            case"break":
                                break t
                        } else for (var d in i.images) if (i.images.hasOwnProperty(d)) {
                            var h = i.images[d], f = void 0;
                            try {
                                f = c(h)
                            } catch (t) {
                                f = c(h)
                            }
                            t[d] = btoa(f)
                        }
                        s && r.call(this)
                    } else {
                        for (var p in s = !0, i.images) if (i.images.hasOwnProperty(p)) {
                            var m = i.images[p];
                            if (t.hasOwnProperty(p)) continue;
                            s = !1, e.file(m + ".png").async("base64").then(function (n) {
                                t[p] = n, l._loadImages(t, e, i, r)
                            }.bind(this));
                            break
                        }
                        s && r.call(this)
                    }
                }, _base64ToArrayBuffer: function (t) {
                    for (var e = window.atob(t), i = e.length, n = new Uint8Array(i), o = 0; o < i; o++) n[o] = e.charCodeAt(o);
                    return n.buffer
                }, _readBlobAsArrayBuffer: function (t, e) {
                    var i = new FileReader;
                    i.onload = function (t) {
                        e(t.target.result)
                    }, i.readAsArrayBuffer(t)
                }
            };
            t.exports = function (t, e, i) {
                l.loadAssets(t, e, i)
            }
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                if (!(this instanceof n)) return new n(t);
                this.options = a.assign({chunkSize: 16384, windowBits: 0, to: ""}, t || {});
                var e = this.options;
                e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e.windowBits = -15)), !(e.windowBits >= 0 && e.windowBits < 16) || t && t.windowBits || (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new u, this.strm.avail_out = 0;
                var i = r.inflateInit2(this.strm, e.windowBits);
                if (i !== c.Z_OK) throw new Error(l[i]);
                if (this.header = new d, r.inflateGetHeader(this.strm, this.header), e.dictionary && ("string" == typeof e.dictionary ? e.dictionary = s.string2buf(e.dictionary) : "[object ArrayBuffer]" === h.call(e.dictionary) && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (i = r.inflateSetDictionary(this.strm, e.dictionary)) !== c.Z_OK)) throw new Error(l[i])
            }

            function o(t, e) {
                var i = new n(e);
                if (i.push(t, !0), i.err) throw i.msg || l[i.err];
                return i.result
            }

            var r = i(52), a = i(8), s = i(57), c = i(58), l = i(59), u = i(60), d = i(61),
                h = Object.prototype.toString;
            n.prototype.push = function (t, e) {
                var i, n, o, l, u, d = this.strm, f = this.options.chunkSize, p = this.options.dictionary, m = !1;
                if (this.ended) return !1;
                n = e === ~~e ? e : !0 === e ? c.Z_FINISH : c.Z_NO_FLUSH, "string" == typeof t ? d.input = s.binstring2buf(t) : "[object ArrayBuffer]" === h.call(t) ? d.input = new Uint8Array(t) : d.input = t, d.next_in = 0, d.avail_in = d.input.length;
                do {
                    if (0 === d.avail_out && (d.output = new a.Buf8(f), d.next_out = 0, d.avail_out = f), (i = r.inflate(d, c.Z_NO_FLUSH)) === c.Z_NEED_DICT && p && (i = r.inflateSetDictionary(this.strm, p)), i === c.Z_BUF_ERROR && !0 === m && (i = c.Z_OK, m = !1), i !== c.Z_STREAM_END && i !== c.Z_OK) return this.onEnd(i), this.ended = !0, !1;
                    d.next_out && (0 !== d.avail_out && i !== c.Z_STREAM_END && (0 !== d.avail_in || n !== c.Z_FINISH && n !== c.Z_SYNC_FLUSH) || ("string" === this.options.to ? (o = s.utf8border(d.output, d.next_out), l = d.next_out - o, u = s.buf2string(d.output, o), d.next_out = l, d.avail_out = f - l, l && a.arraySet(d.output, d.output, o, l, 0), this.onData(u)) : this.onData(a.shrinkBuf(d.output, d.next_out)))), 0 === d.avail_in && 0 === d.avail_out && (m = !0)
                } while ((d.avail_in > 0 || 0 === d.avail_out) && i !== c.Z_STREAM_END);
                return i === c.Z_STREAM_END && (n = c.Z_FINISH), n === c.Z_FINISH ? (i = r.inflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === c.Z_OK) : n !== c.Z_SYNC_FLUSH || (this.onEnd(c.Z_OK), d.avail_out = 0, !0)
            }, n.prototype.onData = function (t) {
                this.chunks.push(t)
            }, n.prototype.onEnd = function (t) {
                t === c.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
            }, e.Inflate = n, e.inflate = o, e.inflateRaw = function (t, e) {
                return (e = e || {}).raw = !0, o(t, e)
            }, e.ungzip = o
        }, function (t, e, i) {
            "use strict";

            function n(t) {
                return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24)
            }

            function o() {
                this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new f.Buf16(320), this.work = new f.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
            }

            function r(t) {
                var e;
                return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = 1 & e.wrap), e.mode = j, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new f.Buf32(ut), e.distcode = e.distdyn = new f.Buf32(dt), e.sane = 1, e.back = -1, k) : O
            }

            function a(t) {
                var e;
                return t && t.state ? ((e = t.state).wsize = 0, e.whave = 0, e.wnext = 0, r(t)) : O
            }

            function s(t, e) {
                var i, n;
                return t && t.state ? (n = t.state, e < 0 ? (i = 0, e = -e) : (i = 1 + (e >> 4), e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? O : (null !== n.window && n.wbits !== e && (n.window = null), n.wrap = i, n.wbits = e, a(t))) : O
            }

            function c(t, e) {
                var i, n;
                return t ? (n = new o, t.state = n, n.window = null, (i = s(t, e)) !== k && (t.state = null), i) : O
            }

            function l(t) {
                if (ft) {
                    var e;
                    for (d = new f.Buf32(512), h = new f.Buf32(32), e = 0; e < 144;) t.lens[e++] = 8;
                    for (; e < 256;) t.lens[e++] = 9;
                    for (; e < 280;) t.lens[e++] = 7;
                    for (; e < 288;) t.lens[e++] = 8;
                    for (g(b, t.lens, 0, 288, d, 0, t.work, {bits: 9}), e = 0; e < 32;) t.lens[e++] = 5;
                    g(_, t.lens, 0, 32, h, 0, t.work, {bits: 5}), ft = !1
                }
                t.lencode = d, t.lenbits = 9, t.distcode = h, t.distbits = 5
            }

            function u(t, e, i, n) {
                var o, r = t.state;
                return null === r.window && (r.wsize = 1 << r.wbits, r.wnext = 0, r.whave = 0, r.window = new f.Buf8(r.wsize)), n >= r.wsize ? (f.arraySet(r.window, e, i - r.wsize, r.wsize, 0), r.wnext = 0, r.whave = r.wsize) : ((o = r.wsize - r.wnext) > n && (o = n), f.arraySet(r.window, e, i - n, o, r.wnext), (n -= o) ? (f.arraySet(r.window, e, i - n, n, 0), r.wnext = n, r.whave = r.wsize) : (r.wnext += o, r.wnext === r.wsize && (r.wnext = 0), r.whave < r.wsize && (r.whave += o))), 0
            }

            var d, h, f = i(8), p = i(53), m = i(54), v = i(55), g = i(56), y = 0, b = 1, _ = 2, w = 4, C = 5, x = 6,
                k = 0, I = 1, S = 2, O = -2, T = -3, E = -4, P = -5, L = 8, j = 1, A = 2, M = 3, D = 4, B = 5, N = 6,
                R = 7, $ = 8, H = 9, z = 10, U = 11, F = 12, V = 13, G = 14, W = 15, q = 16, J = 17, Y = 18, K = 19,
                Z = 20, X = 21, Q = 22, tt = 23, et = 24, it = 25, nt = 26, ot = 27, rt = 28, at = 29, st = 30, ct = 31,
                lt = 32, ut = 852, dt = 592, ht = 15, ft = !0;
            e.inflateReset = a, e.inflateReset2 = s, e.inflateResetKeep = r, e.inflateInit = function (t) {
                return c(t, ht)
            }, e.inflateInit2 = c, e.inflate = function (t, e) {
                var i, o, r, a, s, c, d, h, ut, dt, ht, ft, pt, mt, vt, gt, yt, bt, _t, wt, Ct, xt, kt, It, St = 0,
                    Ot = new f.Buf8(4), Tt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in) return O;
                (i = t.state).mode === F && (i.mode = V), s = t.next_out, r = t.output, d = t.avail_out, a = t.next_in, o = t.input, c = t.avail_in, h = i.hold, ut = i.bits, dt = c, ht = d, xt = k;
                t:for (; ;) switch (i.mode) {
                    case j:
                        if (0 === i.wrap) {
                            i.mode = V;
                            break
                        }
                        for (; ut < 16;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        if (2 & i.wrap && 35615 === h) {
                            i.check = 0, Ot[0] = 255 & h, Ot[1] = h >>> 8 & 255, i.check = m(i.check, Ot, 2, 0), h = 0, ut = 0, i.mode = A;
                            break
                        }
                        if (i.flags = 0, i.head && (i.head.done = !1), !(1 & i.wrap) || (((255 & h) << 8) + (h >> 8)) % 31) {
                            t.msg = "incorrect header check", i.mode = st;
                            break
                        }
                        if ((15 & h) !== L) {
                            t.msg = "unknown compression method", i.mode = st;
                            break
                        }
                        if (ut -= 4, Ct = 8 + (15 & (h >>>= 4)), 0 === i.wbits) i.wbits = Ct; else if (Ct > i.wbits) {
                            t.msg = "invalid window size", i.mode = st;
                            break
                        }
                        i.dmax = 1 << Ct, t.adler = i.check = 1, i.mode = 512 & h ? z : F, h = 0, ut = 0;
                        break;
                    case A:
                        for (; ut < 16;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        if (i.flags = h, (255 & i.flags) !== L) {
                            t.msg = "unknown compression method", i.mode = st;
                            break
                        }
                        if (57344 & i.flags) {
                            t.msg = "unknown header flags set", i.mode = st;
                            break
                        }
                        i.head && (i.head.text = h >> 8 & 1), 512 & i.flags && (Ot[0] = 255 & h, Ot[1] = h >>> 8 & 255, i.check = m(i.check, Ot, 2, 0)), h = 0, ut = 0, i.mode = M;
                    case M:
                        for (; ut < 32;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        i.head && (i.head.time = h), 512 & i.flags && (Ot[0] = 255 & h, Ot[1] = h >>> 8 & 255, Ot[2] = h >>> 16 & 255, Ot[3] = h >>> 24 & 255, i.check = m(i.check, Ot, 4, 0)), h = 0, ut = 0, i.mode = D;
                    case D:
                        for (; ut < 16;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        i.head && (i.head.xflags = 255 & h, i.head.os = h >> 8), 512 & i.flags && (Ot[0] = 255 & h, Ot[1] = h >>> 8 & 255, i.check = m(i.check, Ot, 2, 0)), h = 0, ut = 0, i.mode = B;
                    case B:
                        if (1024 & i.flags) {
                            for (; ut < 16;) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            i.length = h, i.head && (i.head.extra_len = h), 512 & i.flags && (Ot[0] = 255 & h, Ot[1] = h >>> 8 & 255, i.check = m(i.check, Ot, 2, 0)), h = 0, ut = 0
                        } else i.head && (i.head.extra = null);
                        i.mode = N;
                    case N:
                        if (1024 & i.flags && ((ft = i.length) > c && (ft = c), ft && (i.head && (Ct = i.head.extra_len - i.length, i.head.extra || (i.head.extra = new Array(i.head.extra_len)), f.arraySet(i.head.extra, o, a, ft, Ct)), 512 & i.flags && (i.check = m(i.check, o, ft, a)), c -= ft, a += ft, i.length -= ft), i.length)) break t;
                        i.length = 0, i.mode = R;
                    case R:
                        if (2048 & i.flags) {
                            if (0 === c) break t;
                            ft = 0;
                            do {
                                Ct = o[a + ft++], i.head && Ct && i.length < 65536 && (i.head.name += String.fromCharCode(Ct))
                            } while (Ct && ft < c);
                            if (512 & i.flags && (i.check = m(i.check, o, ft, a)), c -= ft, a += ft, Ct) break t
                        } else i.head && (i.head.name = null);
                        i.length = 0, i.mode = $;
                    case $:
                        if (4096 & i.flags) {
                            if (0 === c) break t;
                            ft = 0;
                            do {
                                Ct = o[a + ft++], i.head && Ct && i.length < 65536 && (i.head.comment += String.fromCharCode(Ct))
                            } while (Ct && ft < c);
                            if (512 & i.flags && (i.check = m(i.check, o, ft, a)), c -= ft, a += ft, Ct) break t
                        } else i.head && (i.head.comment = null);
                        i.mode = H;
                    case H:
                        if (512 & i.flags) {
                            for (; ut < 16;) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            if (h !== (65535 & i.check)) {
                                t.msg = "header crc mismatch", i.mode = st;
                                break
                            }
                            h = 0, ut = 0
                        }
                        i.head && (i.head.hcrc = i.flags >> 9 & 1, i.head.done = !0), t.adler = i.check = 0, i.mode = F;
                        break;
                    case z:
                        for (; ut < 32;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        t.adler = i.check = n(h), h = 0, ut = 0, i.mode = U;
                    case U:
                        if (0 === i.havedict) return t.next_out = s, t.avail_out = d, t.next_in = a, t.avail_in = c, i.hold = h, i.bits = ut, S;
                        t.adler = i.check = 1, i.mode = F;
                    case F:
                        if (e === C || e === x) break t;
                    case V:
                        if (i.last) {
                            h >>>= 7 & ut, ut -= 7 & ut, i.mode = ot;
                            break
                        }
                        for (; ut < 3;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        switch (i.last = 1 & h, ut -= 1, 3 & (h >>>= 1)) {
                            case 0:
                                i.mode = G;
                                break;
                            case 1:
                                if (l(i), i.mode = Z, e === x) {
                                    h >>>= 2, ut -= 2;
                                    break t
                                }
                                break;
                            case 2:
                                i.mode = J;
                                break;
                            case 3:
                                t.msg = "invalid block type", i.mode = st
                        }
                        h >>>= 2, ut -= 2;
                        break;
                    case G:
                        for (h >>>= 7 & ut, ut -= 7 & ut; ut < 32;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        if ((65535 & h) != (h >>> 16 ^ 65535)) {
                            t.msg = "invalid stored block lengths", i.mode = st;
                            break
                        }
                        if (i.length = 65535 & h, h = 0, ut = 0, i.mode = W, e === x) break t;
                    case W:
                        i.mode = q;
                    case q:
                        if (ft = i.length) {
                            if (ft > c && (ft = c), ft > d && (ft = d), 0 === ft) break t;
                            f.arraySet(r, o, a, ft, s), c -= ft, a += ft, d -= ft, s += ft, i.length -= ft;
                            break
                        }
                        i.mode = F;
                        break;
                    case J:
                        for (; ut < 14;) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        if (i.nlen = 257 + (31 & h), h >>>= 5, ut -= 5, i.ndist = 1 + (31 & h), h >>>= 5, ut -= 5, i.ncode = 4 + (15 & h), h >>>= 4, ut -= 4, i.nlen > 286 || i.ndist > 30) {
                            t.msg = "too many length or distance symbols", i.mode = st;
                            break
                        }
                        i.have = 0, i.mode = Y;
                    case Y:
                        for (; i.have < i.ncode;) {
                            for (; ut < 3;) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            i.lens[Tt[i.have++]] = 7 & h, h >>>= 3, ut -= 3
                        }
                        for (; i.have < 19;) i.lens[Tt[i.have++]] = 0;
                        if (i.lencode = i.lendyn, i.lenbits = 7, kt = {bits: i.lenbits}, xt = g(y, i.lens, 0, 19, i.lencode, 0, i.work, kt), i.lenbits = kt.bits, xt) {
                            t.msg = "invalid code lengths set", i.mode = st;
                            break
                        }
                        i.have = 0, i.mode = K;
                    case K:
                        for (; i.have < i.nlen + i.ndist;) {
                            for (; gt = (St = i.lencode[h & (1 << i.lenbits) - 1]) >>> 16 & 255, yt = 65535 & St, !((vt = St >>> 24) <= ut);) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            if (yt < 16) h >>>= vt, ut -= vt, i.lens[i.have++] = yt; else {
                                if (16 === yt) {
                                    for (It = vt + 2; ut < It;) {
                                        if (0 === c) break t;
                                        c--, h += o[a++] << ut, ut += 8
                                    }
                                    if (h >>>= vt, ut -= vt, 0 === i.have) {
                                        t.msg = "invalid bit length repeat", i.mode = st;
                                        break
                                    }
                                    Ct = i.lens[i.have - 1], ft = 3 + (3 & h), h >>>= 2, ut -= 2
                                } else if (17 === yt) {
                                    for (It = vt + 3; ut < It;) {
                                        if (0 === c) break t;
                                        c--, h += o[a++] << ut, ut += 8
                                    }
                                    ut -= vt, Ct = 0, ft = 3 + (7 & (h >>>= vt)), h >>>= 3, ut -= 3
                                } else {
                                    for (It = vt + 7; ut < It;) {
                                        if (0 === c) break t;
                                        c--, h += o[a++] << ut, ut += 8
                                    }
                                    ut -= vt, Ct = 0, ft = 11 + (127 & (h >>>= vt)), h >>>= 7, ut -= 7
                                }
                                if (i.have + ft > i.nlen + i.ndist) {
                                    t.msg = "invalid bit length repeat", i.mode = st;
                                    break
                                }
                                for (; ft--;) i.lens[i.have++] = Ct
                            }
                        }
                        if (i.mode === st) break;
                        if (0 === i.lens[256]) {
                            t.msg = "invalid code -- missing end-of-block", i.mode = st;
                            break
                        }
                        if (i.lenbits = 9, kt = {bits: i.lenbits}, xt = g(b, i.lens, 0, i.nlen, i.lencode, 0, i.work, kt), i.lenbits = kt.bits, xt) {
                            t.msg = "invalid literal/lengths set", i.mode = st;
                            break
                        }
                        if (i.distbits = 6, i.distcode = i.distdyn, kt = {bits: i.distbits}, xt = g(_, i.lens, i.nlen, i.ndist, i.distcode, 0, i.work, kt), i.distbits = kt.bits, xt) {
                            t.msg = "invalid distances set", i.mode = st;
                            break
                        }
                        if (i.mode = Z, e === x) break t;
                    case Z:
                        i.mode = X;
                    case X:
                        if (c >= 6 && d >= 258) {
                            t.next_out = s, t.avail_out = d, t.next_in = a, t.avail_in = c, i.hold = h, i.bits = ut, v(t, ht), s = t.next_out, r = t.output, d = t.avail_out, a = t.next_in, o = t.input, c = t.avail_in, h = i.hold, ut = i.bits, i.mode === F && (i.back = -1);
                            break
                        }
                        for (i.back = 0; gt = (St = i.lencode[h & (1 << i.lenbits) - 1]) >>> 16 & 255, yt = 65535 & St, !((vt = St >>> 24) <= ut);) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        if (gt && 0 == (240 & gt)) {
                            for (bt = vt, _t = gt, wt = yt; gt = (St = i.lencode[wt + ((h & (1 << bt + _t) - 1) >> bt)]) >>> 16 & 255, yt = 65535 & St, !(bt + (vt = St >>> 24) <= ut);) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            h >>>= bt, ut -= bt, i.back += bt
                        }
                        if (h >>>= vt, ut -= vt, i.back += vt, i.length = yt, 0 === gt) {
                            i.mode = nt;
                            break
                        }
                        if (32 & gt) {
                            i.back = -1, i.mode = F;
                            break
                        }
                        if (64 & gt) {
                            t.msg = "invalid literal/length code", i.mode = st;
                            break
                        }
                        i.extra = 15 & gt, i.mode = Q;
                    case Q:
                        if (i.extra) {
                            for (It = i.extra; ut < It;) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            i.length += h & (1 << i.extra) - 1, h >>>= i.extra, ut -= i.extra, i.back += i.extra
                        }
                        i.was = i.length, i.mode = tt;
                    case tt:
                        for (; gt = (St = i.distcode[h & (1 << i.distbits) - 1]) >>> 16 & 255, yt = 65535 & St, !((vt = St >>> 24) <= ut);) {
                            if (0 === c) break t;
                            c--, h += o[a++] << ut, ut += 8
                        }
                        if (0 == (240 & gt)) {
                            for (bt = vt, _t = gt, wt = yt; gt = (St = i.distcode[wt + ((h & (1 << bt + _t) - 1) >> bt)]) >>> 16 & 255, yt = 65535 & St, !(bt + (vt = St >>> 24) <= ut);) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            h >>>= bt, ut -= bt, i.back += bt
                        }
                        if (h >>>= vt, ut -= vt, i.back += vt, 64 & gt) {
                            t.msg = "invalid distance code", i.mode = st;
                            break
                        }
                        i.offset = yt, i.extra = 15 & gt, i.mode = et;
                    case et:
                        if (i.extra) {
                            for (It = i.extra; ut < It;) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            i.offset += h & (1 << i.extra) - 1, h >>>= i.extra, ut -= i.extra, i.back += i.extra
                        }
                        if (i.offset > i.dmax) {
                            t.msg = "invalid distance too far back", i.mode = st;
                            break
                        }
                        i.mode = it;
                    case it:
                        if (0 === d) break t;
                        if (ft = ht - d, i.offset > ft) {
                            if ((ft = i.offset - ft) > i.whave && i.sane) {
                                t.msg = "invalid distance too far back", i.mode = st;
                                break
                            }
                            ft > i.wnext ? (ft -= i.wnext, pt = i.wsize - ft) : pt = i.wnext - ft, ft > i.length && (ft = i.length), mt = i.window
                        } else mt = r, pt = s - i.offset, ft = i.length;
                        ft > d && (ft = d), d -= ft, i.length -= ft;
                        do {
                            r[s++] = mt[pt++]
                        } while (--ft);
                        0 === i.length && (i.mode = X);
                        break;
                    case nt:
                        if (0 === d) break t;
                        r[s++] = i.length, d--, i.mode = X;
                        break;
                    case ot:
                        if (i.wrap) {
                            for (; ut < 32;) {
                                if (0 === c) break t;
                                c--, h |= o[a++] << ut, ut += 8
                            }
                            if (ht -= d, t.total_out += ht, i.total += ht, ht && (t.adler = i.check = i.flags ? m(i.check, r, ht, s - ht) : p(i.check, r, ht, s - ht)), ht = d, (i.flags ? h : n(h)) !== i.check) {
                                t.msg = "incorrect data check", i.mode = st;
                                break
                            }
                            h = 0, ut = 0
                        }
                        i.mode = rt;
                    case rt:
                        if (i.wrap && i.flags) {
                            for (; ut < 32;) {
                                if (0 === c) break t;
                                c--, h += o[a++] << ut, ut += 8
                            }
                            if (h !== (4294967295 & i.total)) {
                                t.msg = "incorrect length check", i.mode = st;
                                break
                            }
                            h = 0, ut = 0
                        }
                        i.mode = at;
                    case at:
                        xt = I;
                        break t;
                    case st:
                        xt = T;
                        break t;
                    case ct:
                        return E;
                    case lt:
                    default:
                        return O
                }
                return t.next_out = s, t.avail_out = d, t.next_in = a, t.avail_in = c, i.hold = h, i.bits = ut, (i.wsize || ht !== t.avail_out && i.mode < st && (i.mode < ot || e !== w)) && u(t, t.output, t.next_out, ht - t.avail_out) ? (i.mode = ct, E) : (dt -= t.avail_in, ht -= t.avail_out, t.total_in += dt, t.total_out += ht, i.total += ht, i.wrap && ht && (t.adler = i.check = i.flags ? m(i.check, r, ht, t.next_out - ht) : p(i.check, r, ht, t.next_out - ht)), t.data_type = i.bits + (i.last ? 64 : 0) + (i.mode === F ? 128 : 0) + (i.mode === Z || i.mode === W ? 256 : 0), (0 === dt && 0 === ht || e === w) && xt === k && (xt = P), xt)
            }, e.inflateEnd = function (t) {
                if (!t || !t.state) return O;
                var e = t.state;
                return e.window && (e.window = null), t.state = null, k
            }, e.inflateGetHeader = function (t, e) {
                var i;
                return t && t.state ? 0 == (2 & (i = t.state).wrap) ? O : (i.head = e, e.done = !1, k) : O
            }, e.inflateSetDictionary = function (t, e) {
                var i, n = e.length;
                return t && t.state ? 0 !== (i = t.state).wrap && i.mode !== U ? O : i.mode === U && p(1, e, n, 0) !== i.check ? T : u(t, e, n, n) ? (i.mode = ct, E) : (i.havedict = 1, k) : O
            }, e.inflateInfo = "pako inflate (from Nodeca project)"
        }, function (t, e, i) {
            "use strict";
            t.exports = function (t, e, i, n) {
                for (var o = 65535 & t | 0, r = t >>> 16 & 65535 | 0, a = 0; 0 !== i;) {
                    i -= a = i > 2e3 ? 2e3 : i;
                    do {
                        r = r + (o = o + e[n++] | 0) | 0
                    } while (--a);
                    o %= 65521, r %= 65521
                }
                return o | r << 16 | 0
            }
        }, function (t, e, i) {
            "use strict";
            var n = function () {
                for (var t, e = [], i = 0; i < 256; i++) {
                    t = i;
                    for (var n = 0; n < 8; n++) t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
                    e[i] = t
                }
                return e
            }();
            t.exports = function (t, e, i, o) {
                var r = n, a = o + i;
                t ^= -1;
                for (var s = o; s < a; s++) t = t >>> 8 ^ r[255 & (t ^ e[s])];
                return -1 ^ t
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = function (t, e) {
                var i, n, o, r, a, s, c, l, u, d, h, f, p, m, v, g, y, b, _, w, C, x, k, I, S;
                i = t.state, n = t.next_in, I = t.input, o = n + (t.avail_in - 5), r = t.next_out, S = t.output, a = r - (e - t.avail_out), s = r + (t.avail_out - 257), c = i.dmax, l = i.wsize, u = i.whave, d = i.wnext, h = i.window, f = i.hold, p = i.bits, m = i.lencode, v = i.distcode, g = (1 << i.lenbits) - 1, y = (1 << i.distbits) - 1;
                t:do {
                    p < 15 && (f += I[n++] << p, p += 8, f += I[n++] << p, p += 8), b = m[f & g];
                    e:for (; ;) {
                        if (f >>>= _ = b >>> 24, p -= _, 0 == (_ = b >>> 16 & 255)) S[r++] = 65535 & b; else {
                            if (!(16 & _)) {
                                if (0 == (64 & _)) {
                                    b = m[(65535 & b) + (f & (1 << _) - 1)];
                                    continue e
                                }
                                if (32 & _) {
                                    i.mode = 12;
                                    break t
                                }
                                t.msg = "invalid literal/length code", i.mode = 30;
                                break t
                            }
                            w = 65535 & b, (_ &= 15) && (p < _ && (f += I[n++] << p, p += 8), w += f & (1 << _) - 1, f >>>= _, p -= _), p < 15 && (f += I[n++] << p, p += 8, f += I[n++] << p, p += 8), b = v[f & y];
                            i:for (; ;) {
                                if (f >>>= _ = b >>> 24, p -= _, !(16 & (_ = b >>> 16 & 255))) {
                                    if (0 == (64 & _)) {
                                        b = v[(65535 & b) + (f & (1 << _) - 1)];
                                        continue i
                                    }
                                    t.msg = "invalid distance code", i.mode = 30;
                                    break t
                                }
                                if (C = 65535 & b, p < (_ &= 15) && (f += I[n++] << p, (p += 8) < _ && (f += I[n++] << p, p += 8)), (C += f & (1 << _) - 1) > c) {
                                    t.msg = "invalid distance too far back", i.mode = 30;
                                    break t
                                }
                                if (f >>>= _, p -= _, C > (_ = r - a)) {
                                    if ((_ = C - _) > u && i.sane) {
                                        t.msg = "invalid distance too far back", i.mode = 30;
                                        break t
                                    }
                                    if (x = 0, k = h, 0 === d) {
                                        if (x += l - _, _ < w) {
                                            w -= _;
                                            do {
                                                S[r++] = h[x++]
                                            } while (--_);
                                            x = r - C, k = S
                                        }
                                    } else if (d < _) {
                                        if (x += l + d - _, (_ -= d) < w) {
                                            w -= _;
                                            do {
                                                S[r++] = h[x++]
                                            } while (--_);
                                            if (x = 0, d < w) {
                                                w -= _ = d;
                                                do {
                                                    S[r++] = h[x++]
                                                } while (--_);
                                                x = r - C, k = S
                                            }
                                        }
                                    } else if (x += d - _, _ < w) {
                                        w -= _;
                                        do {
                                            S[r++] = h[x++]
                                        } while (--_);
                                        x = r - C, k = S
                                    }
                                    for (; w > 2;) S[r++] = k[x++], S[r++] = k[x++], S[r++] = k[x++], w -= 3;
                                    w && (S[r++] = k[x++], w > 1 && (S[r++] = k[x++]))
                                } else {
                                    x = r - C;
                                    do {
                                        S[r++] = S[x++], S[r++] = S[x++], S[r++] = S[x++], w -= 3
                                    } while (w > 2);
                                    w && (S[r++] = S[x++], w > 1 && (S[r++] = S[x++]))
                                }
                                break
                            }
                        }
                        break
                    }
                } while (n < o && r < s);
                n -= w = p >> 3, f &= (1 << (p -= w << 3)) - 1, t.next_in = n, t.next_out = r, t.avail_in = n < o ? o - n + 5 : 5 - (n - o), t.avail_out = r < s ? s - r + 257 : 257 - (r - s), i.hold = f, i.bits = p
            }
        }, function (t, e, i) {
            "use strict";
            var n = i(8),
                o = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
                r = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
                a = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
                s = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
            t.exports = function (t, e, i, c, l, u, d, h) {
                var f, p, m, v, g, y, b, _, w, C = h.bits, x = 0, k = 0, I = 0, S = 0, O = 0, T = 0, E = 0, P = 0,
                    L = 0, j = 0, A = null, M = 0, D = new n.Buf16(16), B = new n.Buf16(16), N = null, R = 0;
                for (x = 0; x <= 15; x++) D[x] = 0;
                for (k = 0; k < c; k++) D[e[i + k]]++;
                for (O = C, S = 15; S >= 1 && 0 === D[S]; S--) ;
                if (O > S && (O = S), 0 === S) return l[u++] = 20971520, l[u++] = 20971520, h.bits = 1, 0;
                for (I = 1; I < S && 0 === D[I]; I++) ;
                for (O < I && (O = I), P = 1, x = 1; x <= 15; x++) if (P <<= 1, (P -= D[x]) < 0) return -1;
                if (P > 0 && (0 === t || 1 !== S)) return -1;
                for (B[1] = 0, x = 1; x < 15; x++) B[x + 1] = B[x] + D[x];
                for (k = 0; k < c; k++) 0 !== e[i + k] && (d[B[e[i + k]]++] = k);
                if (0 === t ? (A = N = d, y = 19) : 1 === t ? (A = o, M -= 257, N = r, R -= 257, y = 256) : (A = a, N = s, y = -1), j = 0, k = 0, x = I, g = u, T = O, E = 0, m = -1, v = (L = 1 << O) - 1, 1 === t && L > 852 || 2 === t && L > 592) return 1;
                for (; ;) {
                    b = x - E, d[k] < y ? (_ = 0, w = d[k]) : d[k] > y ? (_ = N[R + d[k]], w = A[M + d[k]]) : (_ = 96, w = 0), f = 1 << x - E, I = p = 1 << T;
                    do {
                        l[g + (j >> E) + (p -= f)] = b << 24 | _ << 16 | w | 0
                    } while (0 !== p);
                    for (f = 1 << x - 1; j & f;) f >>= 1;
                    if (0 !== f ? (j &= f - 1, j += f) : j = 0, k++, 0 == --D[x]) {
                        if (x === S) break;
                        x = e[i + d[k]]
                    }
                    if (x > O && (j & v) !== m) {
                        for (0 === E && (E = O), g += I, P = 1 << (T = x - E); T + E < S && !((P -= D[T + E]) <= 0);) T++, P <<= 1;
                        if (L += 1 << T, 1 === t && L > 852 || 2 === t && L > 592) return 1;
                        l[m = j & v] = O << 24 | T << 16 | g - u | 0
                    }
                }
                return 0 !== j && (l[g + j] = x - E << 24 | 64 << 16 | 0), h.bits = O, 0
            }
        }, function (t, e, i) {
            "use strict";

            function n(t, e) {
                if (e < 65534 && (t.subarray && a || !t.subarray && r)) return String.fromCharCode.apply(null, o.shrinkBuf(t, e));
                for (var i = "", n = 0; n < e; n++) i += String.fromCharCode(t[n]);
                return i
            }

            var o = i(8), r = !0, a = !0;
            try {
                String.fromCharCode.apply(null, [0])
            } catch (t) {
                r = !1
            }
            try {
                String.fromCharCode.apply(null, new Uint8Array(1))
            } catch (t) {
                a = !1
            }
            for (var s = new o.Buf8(256), c = 0; c < 256; c++) s[c] = c >= 252 ? 6 : c >= 248 ? 5 : c >= 240 ? 4 : c >= 224 ? 3 : c >= 192 ? 2 : 1;
            s[254] = s[254] = 1, e.string2buf = function (t) {
                var e, i, n, r, a, s = t.length, c = 0;
                for (r = 0; r < s; r++) 55296 == (64512 & (i = t.charCodeAt(r))) && r + 1 < s && 56320 == (64512 & (n = t.charCodeAt(r + 1))) && (i = 65536 + (i - 55296 << 10) + (n - 56320), r++), c += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4;
                for (e = new o.Buf8(c), a = 0, r = 0; a < c; r++) 55296 == (64512 & (i = t.charCodeAt(r))) && r + 1 < s && 56320 == (64512 & (n = t.charCodeAt(r + 1))) && (i = 65536 + (i - 55296 << 10) + (n - 56320), r++), i < 128 ? e[a++] = i : i < 2048 ? (e[a++] = 192 | i >>> 6, e[a++] = 128 | 63 & i) : i < 65536 ? (e[a++] = 224 | i >>> 12, e[a++] = 128 | i >>> 6 & 63, e[a++] = 128 | 63 & i) : (e[a++] = 240 | i >>> 18, e[a++] = 128 | i >>> 12 & 63, e[a++] = 128 | i >>> 6 & 63, e[a++] = 128 | 63 & i);
                return e
            }, e.buf2binstring = function (t) {
                return n(t, t.length)
            }, e.binstring2buf = function (t) {
                for (var e = new o.Buf8(t.length), i = 0, n = e.length; i < n; i++) e[i] = t.charCodeAt(i);
                return e
            }, e.buf2string = function (t, e) {
                var i, o, r, a, c = e || t.length, l = new Array(2 * c);
                for (o = 0, i = 0; i < c;) if ((r = t[i++]) < 128) l[o++] = r; else if ((a = s[r]) > 4) l[o++] = 65533, i += a - 1; else {
                    for (r &= 2 === a ? 31 : 3 === a ? 15 : 7; a > 1 && i < c;) r = r << 6 | 63 & t[i++], a--;
                    a > 1 ? l[o++] = 65533 : r < 65536 ? l[o++] = r : (r -= 65536, l[o++] = 55296 | r >> 10 & 1023, l[o++] = 56320 | 1023 & r)
                }
                return n(l, o)
            }, e.utf8border = function (t, e) {
                var i;
                for ((e = e || t.length) > t.length && (e = t.length), i = e - 1; i >= 0 && 128 == (192 & t[i]);) i--;
                return i < 0 || 0 === i ? e : i + s[t[i]] > e ? i : e
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = {
                Z_NO_FLUSH: 0,
                Z_PARTIAL_FLUSH: 1,
                Z_SYNC_FLUSH: 2,
                Z_FULL_FLUSH: 3,
                Z_FINISH: 4,
                Z_BLOCK: 5,
                Z_TREES: 6,
                Z_OK: 0,
                Z_STREAM_END: 1,
                Z_NEED_DICT: 2,
                Z_ERRNO: -1,
                Z_STREAM_ERROR: -2,
                Z_DATA_ERROR: -3,
                Z_BUF_ERROR: -5,
                Z_NO_COMPRESSION: 0,
                Z_BEST_SPEED: 1,
                Z_BEST_COMPRESSION: 9,
                Z_DEFAULT_COMPRESSION: -1,
                Z_FILTERED: 1,
                Z_HUFFMAN_ONLY: 2,
                Z_RLE: 3,
                Z_FIXED: 4,
                Z_DEFAULT_STRATEGY: 0,
                Z_BINARY: 0,
                Z_TEXT: 1,
                Z_UNKNOWN: 2,
                Z_DEFLATED: 8
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = {
                2: "need dictionary",
                1: "stream end",
                0: "",
                "-1": "file error",
                "-2": "stream error",
                "-3": "data error",
                "-4": "insufficient memory",
                "-5": "buffer error",
                "-6": "incompatible version"
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = function () {
                this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
            }
        }, function (t, e, i) {
            "use strict";
            t.exports = function () {
                this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
            }
        }, function (t, e, i) {
            "undefined" != typeof self && self, t.exports = function (t) {
                function e(n) {
                    if (i[n]) return i[n].exports;
                    var o = i[n] = {i: n, l: !1, exports: {}};
                    return t[n].call(o.exports, o, o.exports, e), o.l = !0, o.exports
                }

                var i = {};
                return e.m = t, e.c = i, e.d = function (t, i, n) {
                    e.o(t, i) || Object.defineProperty(t, i, {configurable: !1, enumerable: !0, get: n})
                }, e.n = function (t) {
                    var i = t && t.__esModule ? function () {
                        return t.default
                    } : function () {
                        return t
                    };
                    return e.d(i, "a", i), i
                }, e.o = function (t, e) {
                    return Object.prototype.hasOwnProperty.call(t, e)
                }, e.p = "", e(e.s = 0)
            }([function (t, e, i) {
                "use strict";
                Object.defineProperty(e, "__esModule", {value: !0});
                var n = i(1);
                t.exports = n.ValueAnimator
            }, function (t, e, i) {
                "use strict";
                Object.defineProperty(e, "__esModule", {value: !0});
                var n = function () {
                    function t() {
                        this.startValue = 0, this.endValue = 0, this.duration = 0, this.loops = 1, this.fillRule = 0, this.onStart = function () {
                        }, this.onUpdate = function () {
                        }, this.onEnd = function () {
                        }, this.mRunning = !1, this.mStartTime = 0, this.mCurrentFrication = 0, this.mReverse = !1
                    }

                    return t.prototype.start = function (t) {
                        void 0 === t && (t = void 0), this.doStart(!1, t)
                    }, t.prototype.reverse = function (t) {
                        void 0 === t && (t = void 0), this.doStart(!0, t)
                    }, t.prototype.stop = function () {
                        this.doStop()
                    }, Object.defineProperty(t.prototype, "animatedValue", {
                        get: function () {
                            return (this.endValue - this.startValue) * this.mCurrentFrication + this.startValue
                        }, enumerable: !0, configurable: !0
                    }), t.prototype.doStart = function (e, i) {
                        void 0 === e && (e = !1), void 0 === i && (i = void 0), this.mReverse = e, this.mRunning = !0, this.mStartTime = t.currentTimeMillsecond(), i && (this.mStartTime -= e ? (1 - i / (this.endValue - this.startValue)) * this.duration : i / (this.endValue - this.startValue) * this.duration), this.mCurrentFrication = 0, this.onStart(), this.doFrame()
                    }, t.prototype.doStop = function () {
                        this.mRunning = !1
                    }, t.prototype.doFrame = function () {
                        this.mRunning && (this.doDeltaTime(t.currentTimeMillsecond() - this.mStartTime), this.mRunning && t.requestAnimationFrame(this.doFrame.bind(this)))
                    }, t.prototype.doDeltaTime = function (t) {
                        t >= this.duration * this.loops ? (this.mCurrentFrication = 1 === this.fillRule ? 0 : 1, this.mRunning = !1) : (this.mCurrentFrication = t % this.duration / this.duration, this.mReverse && (this.mCurrentFrication = 1 - this.mCurrentFrication)), this.onUpdate(this.animatedValue), !1 === this.mRunning && this.onEnd()
                    }, t.currentTimeMillsecond = function () {
                        return "undefined" == typeof performance ? (new Date).getTime() : performance.now()
                    }, t.requestAnimationFrame = function (t) {
                        return "undefined" == typeof requestAnimationFrame ? setTimeout(t, 16) : window.requestAnimationFrame(t)
                    }, t
                }();
                e.ValueAnimator = n
            }])
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.Player = void 0;
            var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }, o = function () {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }

                return function (e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(), r = i(65), a = i(62);
            e.Player = function () {
                function t(e) {
                    (function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    })(this, t), this.loops = 0, this.clearsAfterStop = !0, this.fillMode = "Forward", this._asChild = !1, this._container = void 0, this._renderer = void 0, this._animator = void 0, this._drawingCanvas = void 0, this._contentMode = "AspectFit", this._videoItem = void 0, this._forwardAnimating = !1, this._currentFrame = 0, this._dynamicImage = {}, this._dynamicImageTransform = {}, this._dynamicText = {}, this._onFinished = void 0, this._onFrame = void 0, this._onPercentage = void 0, this._container = "string" == typeof e ? document.querySelector(e) : e, this._asChild = void 0 === e, this._init()
                }

                return o(t, [{
                    key: "setVideoItem", value: function (t) {
                        this._currentFrame = 0, this._videoItem = t, this._renderer.prepare(), this.clear(), this._update()
                    }
                }, {
                    key: "setContentMode", value: function (t) {
                        this._contentMode = t, this._update()
                    }
                }, {
                    key: "setClipsToBounds", value: function (t) {
                        this._container instanceof HTMLDivElement && (this._container.style.overflowX = this._container.style.overflowY = t ? "hidden" : void 0)
                    }
                }, {
                    key: "startAnimation", value: function (t) {
                        this.stopAnimation(!1), this._doStart(void 0, t, void 0)
                    }
                }, {
                    key: "startAnimationWithRange", value: function (t, e) {
                        this.stopAnimation(!1), this._doStart(t, e, void 0)
                    }
                }, {
                    key: "pauseAnimation", value: function () {
                        this.stopAnimation(!1)
                    }
                }, {
                    key: "stopAnimation", value: function (t) {
                        this._forwardAnimating = !1, void 0 !== this._animator && this._animator.stop(), void 0 === t && (t = this.clearsAfterStop), t && this.clear()
                    }
                }, {
                    key: "clear", value: function () {
                        this._renderer.clear(), this._renderer.clearAudios()
                    }
                }, {
                    key: "stepToFrame", value: function (t, e) {
                        t >= this._videoItem.frames || t < 0 || (this.pauseAnimation(), this._currentFrame = t, this._update(), e && this._doStart(void 0, !1, this._currentFrame))
                    }
                }, {
                    key: "stepToPercentage", value: function (t, e) {
                        var i = parseInt(t * this._videoItem.frames);
                        i >= this._videoItem.frames && i > 0 && (i = this._videoItem.frames - 1), this.stepToFrame(i, e)
                    }
                }, {
                    key: "setImage", value: function (t, e, i) {
                        this._dynamicImage[e] = t, void 0 !== i && i instanceof Array && 6 == i.length && (this._dynamicImageTransform[e] = i)
                    }
                }, {
                    key: "setText", value: function (t, e) {
                        var i = "string" == typeof t ? t : t.text,
                            o = ("object" === (void 0 === t ? "undefined" : n(t)) ? t.size : "14px") || "14px",
                            r = ("object" === (void 0 === t ? "undefined" : n(t)) ? t.family : "") || "",
                            a = ("object" === (void 0 === t ? "undefined" : n(t)) ? t.color : "#000000") || "#000000",
                            s = ("object" === (void 0 === t ? "undefined" : n(t)) ? t.offset : {x: 0, y: 0}) || {
                                x: 0,
                                y: 0
                            };
                        this._dynamicText[e] = {text: i, style: o + " " + r, color: a, offset: s}
                    }
                }, {
                    key: "clearDynamicObjects", value: function () {
                        this._dynamicImage = {}, this._dynamicImageTransform = {}, this._dynamicText = {}
                    }
                }, {
                    key: "onFinished", value: function (t) {
                        this._onFinished = t
                    }
                }, {
                    key: "onFrame", value: function (t) {
                        this._onFrame = t
                    }
                }, {
                    key: "onPercentage", value: function (t) {
                        this._onPercentage = t
                    }
                }, {
                    key: "drawOnContext", value: function (t, e, i, n, o) {
                        this._drawingCanvas && this._videoItem && t.drawImage(this._drawingCanvas, e, i, n || this._videoItem.videoSize.width, o || this._videoItem.videoSize.height)
                    }
                }, {
                    key: "_init", value: function () {
                        if (this._container instanceof HTMLDivElement || this._asChild) {
                            if (this._container) for (var t = this._container.querySelectorAll("canvas"), e = 0; e < t.length; e++) {
                                var i = t[e];
                                void 0 !== i && i.__isPlayer && this._container.removeChild(i)
                            }
                            this._drawingCanvas = document.createElement("canvas"), this._drawingCanvas.__isPlayer = !0, this._drawingCanvas.style.backgroundColor = "transparent", this._container && (this._container.appendChild(this._drawingCanvas), this._container.style.textAlign = "left")
                        }
                        this._renderer = new r.Renderer(this)
                    }
                }, {
                    key: "_doStart", value: function (t, e, i) {
                        var n = this;
                        this._animator = new a, void 0 !== t ? (this._animator.startValue = Math.max(0, t.location), this._animator.endValue = Math.min(this._videoItem.frames - 1, t.location + t.length), this._animator.duration = (this._animator.endValue - this._animator.startValue + 1) * (1 / this._videoItem.FPS) * 1e3) : (this._animator.startValue = 0, this._animator.endValue = this._videoItem.frames - 1, this._animator.duration = this._videoItem.frames * (1 / this._videoItem.FPS) * 1e3), this._animator.loops = this.loops <= 0 ? 1 / 0 : this.loops, this._animator.fillRule = "Backward" === this.fillMode ? 1 : 0, this._animator.onUpdate = function (t) {
                            n._currentFrame !== Math.floor(t) && (n._forwardAnimating && n._currentFrame > Math.floor(t) && n._renderer.clearAudios(), n._currentFrame = Math.floor(t), n._update(), "function" == typeof n._onFrame && n._onFrame(n._currentFrame), "function" == typeof n._onPercentage && n._onPercentage(parseFloat(n._currentFrame + 1) / parseFloat(n._videoItem.frames)))
                        }, this._animator.onEnd = function () {
                            n._forwardAnimating = !1, !0 === n.clearsAfterStop && n.clear(), "function" == typeof n._onFinished && n._onFinished()
                        }, !0 === e ? (this._animator.reverse(i), this._forwardAnimating = !1) : (this._animator.start(i), this._forwardAnimating = !0), this._currentFrame = this._animator.startValue, this._update()
                    }
                }, {
                    key: "_resize", value: function () {
                        var t = !1;
                        if (this._drawingCanvas) {
                            var e;
                            e = this._drawingCanvas.parentNode ? {
                                width: this._drawingCanvas.parentNode.clientWidth,
                                height: this._drawingCanvas.parentNode.clientHeight
                            } : this._videoItem.videoSize;
                            var i = this._videoItem.videoSize;
                            if (e.width >= i.width && e.height >= i.height) this._drawingCanvas.width = e.width, this._drawingCanvas.height = e.height, this._drawingCanvas.style.webkitTransform = this._drawingCanvas.style.transform = "", t = !0; else {
                                if (this._drawingCanvas.width = i.width, this._drawingCanvas.height = i.height, "Fill" === this._contentMode) {
                                    var n = e.width / i.width, o = e.height / i.height, r = (i.width * n - i.width) / 2,
                                        a = (i.height * o - i.height) / 2;
                                    this._drawingCanvas.style.webkitTransform = this._drawingCanvas.style.transform = "matrix(" + n + ", 0.0, 0.0, " + o + ", " + r + ", " + a + ")"
                                } else if ("AspectFit" === this._contentMode || "AspectFill" === this._contentMode) {
                                    var s = i.width / i.height, c = e.width / e.height;
                                    if (s >= c && "AspectFit" === this._contentMode || s <= c && "AspectFill" === this._contentMode) {
                                        var l = e.width / i.width, u = (i.width * l - i.width) / 2,
                                            d = (i.height * l - i.height) / 2 + (e.height - i.height * l) / 2;
                                        this._drawingCanvas.style.webkitTransform = this._drawingCanvas.style.transform = "matrix(" + l + ", 0.0, 0.0, " + l + ", " + u + ", " + d + ")"
                                    } else if (s < c && "AspectFit" === this._contentMode || s > c && "AspectFill" === this._contentMode) {
                                        var h = e.height / i.height,
                                            f = (i.width * h - i.width) / 2 + (e.width - i.width * h) / 2,
                                            p = (i.height * h - i.height) / 2;
                                        this._drawingCanvas.style.webkitTransform = this._drawingCanvas.style.transform = "matrix(" + h + ", 0.0, 0.0, " + h + ", " + f + ", " + p + ")"
                                    }
                                }
                                this._globalTransform = void 0
                            }
                        }
                        if (void 0 === this._drawingCanvas || !0 === t) {
                            var m = 1, v = 1, g = 0, y = 0, b = {
                                width: void 0 !== this._container ? this._container.clientWidth : 0,
                                height: void 0 !== this._container ? this._container.clientHeight : 0
                            }, _ = this._videoItem.videoSize;
                            if ("Fill" === this._contentMode) m = b.width / _.width, v = b.height / _.height; else if ("AspectFit" === this._contentMode || "AspectFill" === this._contentMode) {
                                var w = _.width / _.height, C = b.width / b.height;
                                w >= C && "AspectFit" === this._contentMode || w <= C && "AspectFill" === this._contentMode ? (m = v = b.width / _.width, y = (b.height - _.height * v) / 2) : (w < C && "AspectFit" === this._contentMode || w > C && "AspectFill" === this._contentMode) && (m = v = b.height / _.height, g = (b.width - _.width * m) / 2)
                            }
                            this._globalTransform = {a: m, b: 0, c: 0, d: v, tx: g, ty: y}
                        }
                    }
                }, {
                    key: "_update", value: function () {
                        void 0 !== this._videoItem && (this._resize(), this._renderer.drawFrame(this._currentFrame), this._renderer.playAudio(this._currentFrame))
                    }
                }]), t
            }()
        }, function (t, e, i) {
            "use strict";
            var n = i(13), o = i(63), r = i(66);
            t.exports = {Parser: n.Parser, Player: o.Player, autoload: r.AutoLoader.autoload}, r.AutoLoader.autoload()
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.Renderer = void 0;
            var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }, o = function () {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }

                return function (e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(), r = i(5), a = i(15), s = i(14);
            e.Renderer = function () {
                function t(e) {
                    (function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    })(this, t), this._owner = void 0, this._prepared = !1, this._undrawFrame = void 0, this._bitmapCache = void 0, this._soundsQueue = [], this._owner = e
                }

                return o(t, [{
                    key: "dataURLtoBlob", value: function (t) {
                        for (var e = t.split(","), i = e[0].match(/:(.*?);/)[1], n = atob(e[1]), o = n.length, r = new Uint8Array(o); o--;) r[o] = n.charCodeAt(o);
                        return new Blob([r], {type: i})
                    }
                }, {
                    key: "prepare", value: function () {
                        var t, e, i = this;
                        if (this._prepared = !1, this._bitmapCache = void 0, void 0 === this._owner._videoItem.images || 0 == Object.keys(this._owner._videoItem.images).length) return this._bitmapCache = {}, void (this._prepared = !0);
                        void 0 === this._bitmapCache && function () {
                            i._bitmapCache = {};
                            var n = 0, o = 0;
                            for (t in i._owner._videoItem.images) {
                                var r = i._owner._videoItem.images[t];
                                if (0 === r.indexOf("iVBO") || 0 === r.indexOf("/9j/2w")) {
                                    n++;
                                    var a = document.createElement("img");
                                    a.onload = function () {
                                        ++o == n && (this._prepared = !0, "number" == typeof this._undrawFrame && (this.drawFrame(this._undrawFrame), this._undrawFrame = void 0))
                                    }.bind(i), a.src = "data:image/png;base64," + r;
                                    var s = t.replace(".matte", "");
                                    i._bitmapCache[s] = a
                                } else 0 === r.indexOf("SUQz") && void 0 !== window.Howl && (n++, (e = new Howl({
                                    src: ["Google Inc." === navigator.vendor ? URL.createObjectURL(i.dataURLtoBlob("data:audio/x-mpeg;base64," + r)) : "data:audio/x-mpeg;base64," + r],
                                    html5: "Google Inc." === navigator.vendor || void 0,
                                    preload: "Google Inc." === navigator.vendor || void 0,
                                    format: "Google Inc." === navigator.vendor ? ["mp3"] : void 0
                                })).once("load", function () {
                                    ++o == n && (this._prepared = !0, "number" == typeof this._undrawFrame && (this.drawFrame(this._undrawFrame), this._undrawFrame = void 0))
                                }.bind(i)), e.on("loaderror", (function (t) {
                                    console.error(t)
                                })), i._bitmapCache[t] = e)
                            }
                        }()
                    }
                }, {
                    key: "clear", value: function () {
                        var t = (this._owner._drawingCanvas || this._owner._container).getContext("2d"), e = {
                            x: 0,
                            y: 0,
                            width: (this._owner._drawingCanvas || this._owner._container).width,
                            height: (this._owner._drawingCanvas || this._owner._container).height
                        };
                        t.clearRect(e.x, e.y, e.width, e.height)
                    }
                }, {
                    key: "clearAudios", value: function () {
                        this._soundsQueue.forEach((function (t) {
                            t.player.stop(t.playID)
                        })), this._soundsQueue = []
                    }
                }, {
                    key: "drawFrame", value: function (t) {
                        var e = this;
                        if (this._prepared) {
                            var i = (this._owner._drawingCanvas || this._owner._container).getContext("2d"), n = {
                                x: 0,
                                y: 0,
                                width: (this._owner._drawingCanvas || this._owner._container).width,
                                height: (this._owner._drawingCanvas || this._owner._container).height
                            };
                            i.clearRect(n.x, n.y, n.width, n.height);
                            var o = new Map, r = !1, a = this._owner._videoItem.sprites;
                            a.forEach((function (n, s) {
                                if (-1 != a[s].imageKey.indexOf(".matte")) if (-1 == n.imageKey.indexOf(".matte")) {
                                    var c = a[s - 1];
                                    if (r && (null == n.matteKey || 0 == n.matteKey.length || n.matteKey != c.matteKey)) {
                                        r = !1;
                                        var l = o.get(n.matteKey);
                                        i.globalCompositeOperation = "destination-in", e.drawSprite(l, i, t), i.globalCompositeOperation = "source-over", i.restore()
                                    }
                                    null == n.matteKey || null != c.matteKey && 0 != c.matteKey.length && c.matteKey == n.matteKey || (r = !0, i.save()), e.drawSprite(n, i, t), r && s == a.length - 1 && (l = o.get(n.matteKey), i.globalCompositeOperation = "destination-in", e.drawSprite(l, i, t), i.globalCompositeOperation = "source-over", i.restore())
                                } else o.set(n.imageKey, n); else e.drawSprite(n, i, t)
                            }))
                        } else this._undrawFrame = t
                    }
                }, {
                    key: "drawSprite", value: function (t, e, i) {
                        var o = this, c = t.frames[this._owner._currentFrame];
                        if (!(c.alpha < .05)) {
                            e.save(), this._owner._globalTransform && e.transform(this._owner._globalTransform.a, this._owner._globalTransform.b, this._owner._globalTransform.c, this._owner._globalTransform.d, this._owner._globalTransform.tx, this._owner._globalTransform.ty), e.globalAlpha = c.alpha, e.transform(c.transform.a, c.transform.b, c.transform.c, c.transform.d, c.transform.tx, c.transform.ty);
                            var l = t.imageKey.replace(".matte", ""),
                                u = this._owner._dynamicImage[l] || this._bitmapCache[l] || this._owner._videoItem.images[l];
                            if ("string" == typeof u) {
                                var d = this._bitmapCache[t.imageKey] || document.createElement("img"), h = void 0,
                                    f = void 0;
                                if (0 === u.indexOf("iVBO") || 0 === u.indexOf("/9j/2w") ? d.src = "data:image/png;base64," + u : (d._svgaSrc !== u && (d._svgaSrc = u, d.src = u), h = c.layout.width, f = c.layout.height), this._bitmapCache[t.imageKey] = d, void 0 !== c.maskPath && null !== c.maskPath && (this.drawBezier(e, c.maskPath), e.clip()), void 0 !== this._owner._dynamicImageTransform[t.imageKey]) {
                                    e.save();
                                    var p = this._owner._dynamicImageTransform[t.imageKey];
                                    e.transform(p[0], p[1], p[2], p[3], p[4], p[5])
                                }
                                h && f ? e.drawImage(d, 0, 0, h, f) : e.drawImage(d, 0, 0), void 0 !== this._owner._dynamicImageTransform[t.imageKey] && e.restore()
                            } else if ("object" === (void 0 === u ? "undefined" : n(u))) {
                                if (void 0 !== c.maskPath && null !== c.maskPath && (c.maskPath._styles = void 0, this.drawBezier(e, c.maskPath), e.clip()), void 0 !== this._owner._dynamicImageTransform[t.imageKey]) {
                                    e.save();
                                    var m = this._owner._dynamicImageTransform[t.imageKey];
                                    e.transform(m[0], m[1], m[2], m[3], m[4], m[5])
                                }
                                e.drawImage(u, 0, 0), void 0 !== this._owner._dynamicImageTransform[t.imageKey] && e.restore()
                            }
                            c.shapes && c.shapes.forEach((function (t) {
                                "shape" === t.type && t.pathArgs && t.pathArgs.d && o.drawBezier(e, new r.BezierPath(t.pathArgs.d, t.transform, t.styles)), "ellipse" === t.type && t.pathArgs && o.drawEllipse(e, new a.EllipsePath(parseFloat(t.pathArgs.x) || 0, parseFloat(t.pathArgs.y) || 0, parseFloat(t.pathArgs.radiusX) || 0, parseFloat(t.pathArgs.radiusY) || 0, t.transform, t.styles)), "rect" === t.type && t.pathArgs && o.drawRect(e, new s.RectPath(parseFloat(t.pathArgs.x) || 0, parseFloat(t.pathArgs.y) || 0, parseFloat(t.pathArgs.width) || 0, parseFloat(t.pathArgs.height) || 0, parseFloat(t.pathArgs.cornerRadius) || 0, t.transform, t.styles))
                            }));
                            var v = this._owner._dynamicText[t.imageKey];
                            if (void 0 !== v) {
                                e.textBaseline = "middle", e.font = v.style;
                                var g = e.measureText(v.text).width;
                                e.fillStyle = v.color;
                                var y = void 0 !== v.offset && void 0 !== v.offset.x ? isNaN(parseFloat(v.offset.x)) ? 0 : parseFloat(v.offset.x) : 0,
                                    b = void 0 !== v.offset && void 0 !== v.offset.y ? isNaN(parseFloat(v.offset.y)) ? 0 : parseFloat(v.offset.y) : 0;
                                e.fillText(v.text, (c.layout.width - g) / 2 + y, c.layout.height / 2 + b)
                            }
                            e.restore()
                        }
                    }
                }, {
                    key: "playAudio", value: function (t) {
                        var e = this;
                        if (this._owner._forwardAnimating && this._owner._videoItem.audios instanceof Array) {
                            this._owner._videoItem.audios.forEach((function (i) {
                                if (i.startFrame === t && void 0 !== e._bitmapCache[i.audioKey] && "function" == typeof e._bitmapCache[i.audioKey].play) {
                                    var n = {
                                        playID: e._bitmapCache[i.audioKey].play(),
                                        player: e._bitmapCache[i.audioKey],
                                        endFrame: i.endFrame
                                    };
                                    n.player.seek(i.startTime / 1e3, n.playID), e._soundsQueue.push(n)
                                }
                            }));
                            var i = !1;
                            this._soundsQueue.forEach((function (e) {
                                t >= e.endFrame && (i = !0, e.player.stop(e.playID))
                            })), i && (this._soundsQueue = this._soundsQueue.filter((function (e) {
                                return t < e.endFrame
                            })))
                        }
                    }
                }, {
                    key: "resetShapeStyles", value: function (t, e) {
                        var i = e._styles;
                        void 0 !== i && (i && i.stroke ? t.strokeStyle = "rgba(" + parseInt(255 * i.stroke[0]) + ", " + parseInt(255 * i.stroke[1]) + ", " + parseInt(255 * i.stroke[2]) + ", " + i.stroke[3] + ")" : t.strokeStyle = "transparent", i && (t.lineWidth = i.strokeWidth || void 0, t.lineCap = i.lineCap || void 0, t.lineJoin = i.lineJoin || void 0, t.miterLimit = i.miterLimit || void 0), i && i.fill ? t.fillStyle = "rgba(" + parseInt(255 * i.fill[0]) + ", " + parseInt(255 * i.fill[1]) + ", " + parseInt(255 * i.fill[2]) + ", " + i.fill[3] + ")" : t.fillStyle = "transparent", i && i.lineDash && t.setLineDash(i.lineDash))
                    }
                }, {
                    key: "drawBezier", value: function (t, e) {
                        var i = this;
                        t.save(), this.resetShapeStyles(t, e), void 0 !== e._transform && null !== e._transform && t.transform(e._transform.a, e._transform.b, e._transform.c, e._transform.d, e._transform.tx, e._transform.ty);
                        var n = {x: 0, y: 0, x1: 0, y1: 0, x2: 0, y2: 0};
                        t.beginPath(), e._d.replace(/([a-zA-Z])/g, "|||$1 ").replace(/,/g, " ").split("|||").forEach((function (e) {
                            if (0 != e.length) {
                                var o = e.substr(0, 1);
                                if ("MLHVCSQRZmlhvcsqrz".indexOf(o) >= 0) {
                                    var r = e.substr(1).trim().split(" ");
                                    i.drawBezierElement(t, n, o, r)
                                }
                            }
                        })), e._styles && e._styles.fill && t.fill(), e._styles && e._styles.stroke && t.stroke(), t.restore()
                    }
                }, {
                    key: "drawBezierElement", value: function (t, e, i, n) {
                        switch (i) {
                            case"M":
                                e.x = Number(n[0]), e.y = Number(n[1]), t.moveTo(e.x, e.y);
                                break;
                            case"m":
                                e.x += Number(n[0]), e.y += Number(n[1]), t.moveTo(e.x, e.y);
                                break;
                            case"L":
                                e.x = Number(n[0]), e.y = Number(n[1]), t.lineTo(e.x, e.y);
                                break;
                            case"l":
                                e.x += Number(n[0]), e.y += Number(n[1]), t.lineTo(e.x, e.y);
                                break;
                            case"H":
                                e.x = Number(n[0]), t.lineTo(e.x, e.y);
                                break;
                            case"h":
                                e.x += Number(n[0]), t.lineTo(e.x, e.y);
                                break;
                            case"V":
                                e.y = Number(n[0]), t.lineTo(e.x, e.y);
                                break;
                            case"v":
                                e.y += Number(n[0]), t.lineTo(e.x, e.y);
                                break;
                            case"C":
                                e.x1 = Number(n[0]), e.y1 = Number(n[1]), e.x2 = Number(n[2]), e.y2 = Number(n[3]), e.x = Number(n[4]), e.y = Number(n[5]), t.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y);
                                break;
                            case"c":
                                e.x1 = e.x + Number(n[0]), e.y1 = e.y + Number(n[1]), e.x2 = e.x + Number(n[2]), e.y2 = e.y + Number(n[3]), e.x += Number(n[4]), e.y += Number(n[5]), t.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y);
                                break;
                            case"S":
                                e.x1 && e.y1 && e.x2 && e.y2 ? (e.x1 = e.x - e.x2 + e.x, e.y1 = e.y - e.y2 + e.y, e.x2 = Number(n[0]), e.y2 = Number(n[1]), e.x = Number(n[2]), e.y = Number(n[3]), t.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y)) : (e.x1 = Number(n[0]), e.y1 = Number(n[1]), e.x = Number(n[2]), e.y = Number(n[3]), t.quadraticCurveTo(e.x1, e.y1, e.x, e.y));
                                break;
                            case"s":
                                e.x1 && e.y1 && e.x2 && e.y2 ? (e.x1 = e.x - e.x2 + e.x, e.y1 = e.y - e.y2 + e.y, e.x2 = e.x + Number(n[0]), e.y2 = e.y + Number(n[1]), e.x += Number(n[2]), e.y += Number(n[3]), t.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y)) : (e.x1 = e.x + Number(n[0]), e.y1 = e.y + Number(n[1]), e.x += Number(n[2]), e.y += Number(n[3]), t.quadraticCurveTo(e.x1, e.y1, e.x, e.y));
                                break;
                            case"Q":
                                e.x1 = Number(n[0]), e.y1 = Number(n[1]), e.x = Number(n[2]), e.y = Number(n[3]), t.quadraticCurveTo(e.x1, e.y1, e.x, e.y);
                                break;
                            case"q":
                                e.x1 = e.x + Number(n[0]), e.y1 = e.y + Number(n[1]), e.x += Number(n[2]), e.y += Number(n[3]), t.quadraticCurveTo(e.x1, e.y1, e.x, e.y);
                                break;
                            case"A":
                            case"a":
                                break;
                            case"Z":
                            case"z":
                                t.closePath()
                        }
                    }
                }, {
                    key: "drawEllipse", value: function (t, e) {
                        t.save(), this.resetShapeStyles(t, e), void 0 !== e._transform && null !== e._transform && t.transform(e._transform.a, e._transform.b, e._transform.c, e._transform.d, e._transform.tx, e._transform.ty);
                        var i = e._x - e._radiusX, n = e._y - e._radiusY, o = 2 * e._radiusX, r = 2 * e._radiusY,
                            a = o / 2 * .5522848, s = r / 2 * .5522848, c = i + o, l = n + r, u = i + o / 2,
                            d = n + r / 2;
                        t.beginPath(), t.moveTo(i, d), t.bezierCurveTo(i, d - s, u - a, n, u, n), t.bezierCurveTo(u + a, n, c, d - s, c, d), t.bezierCurveTo(c, d + s, u + a, l, u, l), t.bezierCurveTo(u - a, l, i, d + s, i, d), e._styles && e._styles.fill && t.fill(), e._styles && e._styles.stroke && t.stroke(), t.restore()
                    }
                }, {
                    key: "drawRect", value: function (t, e) {
                        t.save(), this.resetShapeStyles(t, e), void 0 !== e._transform && null !== e._transform && t.transform(e._transform.a, e._transform.b, e._transform.c, e._transform.d, e._transform.tx, e._transform.ty);
                        var i = e._x, n = e._y, o = e._width, r = e._height, a = e._cornerRadius;
                        o < 2 * a && (a = o / 2), r < 2 * a && (a = r / 2), t.beginPath(), t.moveTo(i + a, n), t.arcTo(i + o, n, i + o, n + r, a), t.arcTo(i + o, n + r, i, n + r, a), t.arcTo(i, n + r, i, n, a), t.arcTo(i, n, i + o, n, a), t.closePath(), e._styles && e._styles.fill && t.fill(), e._styles && e._styles.stroke && t.stroke(), t.restore()
                    }
                }]), t
            }()
        }, function (t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {value: !0}), e.AutoLoader = void 0;
            var n = i(13), o = i(63), r = e.AutoLoader = function t() {
                !function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t)
            };
            r.sharedParser = new n.Parser, r.autoload = function (t, e) {
                if ("undefined" != typeof window && "undefined" != typeof document) {
                    var i = e || r.sharedParser;
                    if (t) {
                        if (("CANVAS" === t.tagName || "DIV" === t.tagName) && t.attributes.src && t.attributes.src.value.indexOf(".svga") === t.attributes.src.value.length - 5) {
                            var n = t.attributes.src.value, a = new o.Player(t);
                            i.load(n, (function (e) {
                                if (t.attributes.loops) {
                                    var i = parseFloat(t.attributes.loops.value) || 0;
                                    a.loops = i
                                }
                                if (t.attributes.clearsAfterStop) {
                                    var n = !("false" === t.attributes.clearsAfterStop.value);
                                    a.clearsAfterStop = n
                                }
                                a.setVideoItem(e), a.startAnimation()
                            })), t.player = a
                        }
                    } else for (var s = document.querySelectorAll('[src$=".svga"]'), c = 0; c < s.length; c++) t = s[c], r.autoload(t)
                }
            }
        }])
    }, module.exports = t()
}, , , , , , , , , , , , , , , , , , , , , function (t, e, i) {
    t.exports = i.p + "static/img/auth.fb6a43d9.png"
}, function (t, e, i) {
    "use strict";
    var n = i(79);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(80);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(81);
    i.n(n).a
}, function (t, e, i) {
}, , function (t, e, i) {
    "use strict";
    var n = i(82);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(83);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(37), o = i(345), r = i(100);
    n({target: "String", proto: !0, forced: !i(346)("includes")}, {
        includes: function (t) {
            return !!~String(r(this)).indexOf(o(t), arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, i) {
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAARVBMVEUAAAAAAADt7e00NDQAAAAAAAAAAAAAAAD5+fna2trU1NQxMTEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6Ojr///96jHstAAAAFnRSTlOAAO6OenQLMPne2o1uZlxYSD80KByQlCrO7wAAARVJREFUSMeVllkSgyAQRFsdwH0P9z9qSJmEScSl39+U/apQYQZkO5axb42Iaftx2T/9E6wbBAoZnD0R7BTT0ZnskTAbJDFzUrAdDunsXlgNTjDrv+AEp4j7FRwucVpY5VqQNQrW4AbGfoUOt+g+woybzJugF3S9qCBMuM30Eqwg8qjKuollU5fVAxGxGX5/QeW9z4tPVeShrKBwQRigKP1mxLwvoRiCIFDUfjNi3tdQSIYFmiZ/G9983kCzYNRljBVFVDUjeqSNdD7EW6SNdD7EDdJGOg8DQdpI5yG0QC+Jfmn6s9I/jt4a7Oajtzd9gOgjyjYBus2wjYxtlXQzZts9O1D4kcUPRX7s8oOdvzrwlxP6+vMEBiIX8eTRZ3EAAAAASUVORK5CYII="
}, function (t, e, i) {
    "use strict";
    var n = i(84);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(85);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(86);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(87);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(88);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(89);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(90);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(91);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(92);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(93);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(94);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(9), o = i.n(n), r = i(242);
    "undefined" != typeof window && (window.Sentry && (Sentry.init({
        dsn: "https://d340547ea5594fd68a13559a8c3c577e@api.bilibili.com/x/traceback/26",
        debug: !1,
        release: Object({NODE_ENV: "production", BASE_URL: "/"}).COMMIT_ID,
        environment: "production",
        sampleRate: .01,
        integrations: [new r.TrackingReport({env: "production"}), new Sentry.Integrations.Vue({
            Vue: o.a,
            attachProps: !0
        })]
    }), window.SentryTest = function () {
        var t = document.getElementById("some-element-not-exist");
        try {
            t.getBoundingClientRect()
        } catch (t) {
            Sentry.captureException(t)
        }
    }), "function" == typeof window.onLoginInfoLoaded && window.onLoginInfoLoaded((function (t) {
        if (t.isLogin) try {
            Sentry.configureScope((function (e) {
                e.setUser(t)
            }))
        } catch (t) {
        }
    })))
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABCCAYAAADuSnCvAAAAAXNSR0IArs4c6QAACMhJREFUeAHtm2lsFVUUx+3rgtC0BSvCB1SKLA2FLo/lA8pS0ASjLEqMcSeKCcgShUSJfjAqagigokEjbiCJKCgxEaLgwpIgfmhfFwpUGkrY92Jbu9NXf2d8M5k3zExnpu9BH+1N7rv3nnvuuef8737vvLibIuDa2triA4HAOML+CQkJB3Nzcw9EQGy7IoqLi4cGg8HsuLi4i62trXtHjx7d0m6hdhh87eQ7ygaMFYCxB+ZNV65cKSssLHzNUcEOMFHHAur6G0A2A8ZOQPm0A+K0ohEBBDDu1yQSIb0MhV/W0yIZpwHmUsdHeplGHfR5buIRAYTWKTFWioLLUXyxkd7RNDKfQ/bHRjnoUGykeUlHBBAUfInKjxgVoDuvwoCFRrrXdEFBwTPU9Rk+Ti8DME75fL55eprXeJhgr0Kk3P79+29vamraTTTDRM4LTHifmNAdkxiCT8D8NWAYG/FMfHz8xLy8vArHwmwYjcJtWO2zRo4ceYJWyofruJGTFlyDQc8b6U7TlH0UINabgHEOGZMjBYboE7EeohpXWlo6qLm5WXrKAJUmIaC0ETw7atSodZJ26hhysxh638KfoC+DvAv0jPxIL/ER6yGqstnZ2ZUom48/rdIkDI37L2jtJ/V0u3hRUdEMwNgITxgYpC8hb0qkwRBdHPUQ6arMEWlSwKljj5BJuW34PoYyrYA1OzExcZuBHpakl02E7zvKJ+kzoNWRnk75Ij3dLo6sIHNYtR2PmmcJCK2TS+vIEid7jDvwiWqhGA3r0buSeW4L4Zd+v/+YmR1XAVJRUZFaXV29CuY5ZgVuBBq9rBk73gSU5cSv6G0KA+TAgQP9GxoadsKQqWe6UeOA8UtqaurMIUOGNKk2apMqm560xsbG37sKGAIA08HUmpqa7wm1jqEBAlofkDFcRaqrhNj8ICvfItVeBRkIk8mQ3tFVXT2r1rCcnJyTyvoOGK84QYJedAreWie8nYinL7qkt6NPr5aWlgXwLI2TSxa5V7ArABA/4RdaLVV2Za93Hg0oNuawhVhHPMdKH+y7jH39EgBjqhWT0GH8GcYZhLL1jjkX0ruYRWMcypfhM8yMAKw+TB0jZVLNN2NQaTAujlUwVBskZKdaz6bsVT3NGMfWMQKI3Z7jDILKjQVjNc1h8A873Wn4gQLIrVZMMBy2yotFOqvIefSusdIde/v4+LnFigF62LbWhi+WsuxsSvMxbrTNWSxZFQ1dBYtuMAzIdgNiAMR4E2XI7niSE3QSJ+gRbI3Py9bYi0S5kqitrc1ic1Uiy6cXGU7LRBSQo0eP3sxdSjaK+/GjUMLPCXoEYRKva0sJlztVTM+HzPGkt+Jb2WCVsxAEiIsvTE5OLs7MzIzYccIzICjWi3VdbtX8KKYYf+nSJTkth8lkooKkHLVzlYiHHwDIDcmJp3gW8SzCp0RUXV1dG7rI9kABSEL0KuIm/h/Jd+vClHdSmMrfRcHp8GbS6o7nIIzIcyLfgseyLHLlxD4s5B+T8jSSgCSX3du55Z8vNKfOsUGqQCrJQInheFdlKTekpKQkWZXjJqQuV70rBNJd1GF6brGr25VRIgjDHN926ysWAOlR2Xqak7hMqNQ5yAmvCY9rXV0PGQxz/KiMIfI2U4hXxndKSorr70Z4QmikTjmRK/NUKHTU8m50Ra7iXAPCBzFFXKao5fXhcRIBTpSFABGAr5DnTXlq7JDLyspqRsCOkFdk8TrYh2sLPwbLhK5O6oNJy3yiOS+92TUgckDi3mAflZ+iZrX1A+wPLmqaRDnC6+BlqpArT+3aM7RXyQuBJL1pGPc4R9yq4hoQqYCZe5zbiqLNz1NCDXXsDnnP1bmeVD3XFCMFuwExNFQ3IN2AGBAwJLt7SGcERB7ZOXukGXS7LklPy64bTdkXyFfOX0mYlpY2L7Q8aiLIu5P7klIIZ7k+yMnIyGjUMolw/slgI/gem6wClvu39XnRiEd9yPDhjWyW5Kj+OPca3xDXGkEujziZbiIvFT+0qqoq7EvFQ4cOpbMjlS+NZlJuGZuvHsSj6jTlolVLjx49KukBsouV544H6BHbAWkJW/xqLo9WQxur1o3Rsxk6VaRXkj+cu441xOVoLy6g/47jf1Lkf6PeQziLVHFhMxPVG0R9jJ7MqVfOQ5XEpwmN4SDnFdUtJnKanvMboQrGSeIPqQzRDKMOiCjP7dVeWnwK0UoTY04AyN3kP0L4rzEf2p/cx07grHTcmBeNdNSHjKo0B619zBk5DJ+50Cbh5evCv/AfkidDqoBX+lLmjAXERwCEDJ2t5G0g3kr8mrhrBohYw/CRHrAy5IUU5vju9DCERWHEa5yQp8yY/MwhGjiBRVCeMuVuwdSRJ7fcN5qzs6lGJtULNhYPtsmLuSzZ16C05Y5YOocMGRm3Vm6A7BStMmONXl9fP6EdnY8LILvsmJj1V9jlx0qe7IrpAe/Y6cs9cIGPTdMOOyaEzOIOdQO7y952fJ05D90HstzL10N2X0vV8ixaotxSY/AuDJ9oZ5TMwPAcJKy14+tseeh8GzrJo5Wtw67VHB5fVPYhFJJhYQsIPDIBjyC0FRyLmYDRzHCRc9VNYqR8oScnys0S76LuDZ5XjortCiBKxOebT6gQJd2F3C6OB9pnGhogEC9wwMqn+xzrQmDs7dmz5zRs1s5KGiACAqAcYyyNheGHGxkU7Ati36r09PR7Q+crzVxlldFSughL1STuJOYwicpDs+zwYtoBgqwGp7FnC9cJa5kzyswMsgREz1xeXp7CK3xflUb8deJPq2l9SMUlVPiwnhatOHqsR/Y9FvJ/TEpKWiJ5XEgFe/fufdZ4X2tWztHxP/QNl7b/YN+yA6RNAYG+R/6qalZZpGlcN+5EphUgv3rRI2wOcaowc81GePea8J9jYn7LhB4VErf4K+mRVy0C0kuZLD/3UqknQKgw2K9fv/uoUJarMtLy98/1eLDyX/CiiJcy8qRB3WPwa6m7gvAQ/n224OND35W4Fvsfl7KGlCwvH7sAAAAASUVORK5CYII="
}, function (t, e) {
    /*!
 * @bilibili/userAvatar
 * version: 1.0.3. Powered by main-frontend
 * 用户头像公共组件.
 * author: wuxiuran
 */
    t.exports = function (t) {
        var e = {};

        function i(n) {
            if (e[n]) return e[n].exports;
            var o = e[n] = {i: n, l: !1, exports: {}};
            return t[n].call(o.exports, o, o.exports, i), o.l = !0, o.exports
        }

        return i.m = t, i.c = e, i.d = function (t, e, n) {
            i.o(t, e) || Object.defineProperty(t, e, {enumerable: !0, get: n})
        }, i.r = function (t) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {value: "Module"}), Object.defineProperty(t, "__esModule", {value: !0})
        }, i.t = function (t, e) {
            if (1 & e && (t = i(t)), 8 & e) return t;
            if (4 & e && "object" == typeof t && t && t.__esModule) return t;
            var n = Object.create(null);
            if (i.r(n), Object.defineProperty(n, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t) for (var o in t) i.d(n, o, function (e) {
                return t[e]
            }.bind(null, o));
            return n
        }, i.n = function (t) {
            var e = t && t.__esModule ? function () {
                return t.default
            } : function () {
                return t
            };
            return i.d(e, "a", e), e
        }, i.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }, i.p = "", i(i.s = 16)
    }([function (t, e, i) {
        "use strict";
        (function (t) {
            function n(t) {
                return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                })(t)
            }

            i.d(e, "f", (function () {
                return o
            })), i.d(e, "b", (function () {
                return a
            })), i.d(e, "d", (function () {
                return c
            })), i.d(e, "a", (function () {
                return d
            })), i.d(e, "e", (function () {
                return h
            })), i.d(e, "c", (function () {
                return f
            }));
            var o = "object" == ("undefined" == typeof self ? "undefined" : n(self)) && self.self === self && self || "object" == (void 0 === t ? "undefined" : n(t)) && t.global === t && t || void 0,
                r = o.devicePixelRatio && 3 === o.devicePixelRatio ? 3 : 2, a = function (t) {
                    o.document && (o.document.addEventListener ? o.document.addEventListener("DOMContentLoaded", (function () {
                        t && t()
                    })) : o.document.onreadystatechange = function () {
                        "complete" === o.document.readyState && t && t()
                    })
                }, s = function (t) {
                    if (!t) return "";
                    var e = t.replace(/^(http:\/\/|:\/\/|\/\/|\/)/, "https://");
                    return e.match(/^https:\/\//) ? e : "https://" + e
                }, c = function (t, e, i) {
                    var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                    return function (t) {
                        if (!t) return t;
                        var o = (t = s(t)).match(/(.*\.(jpg|jpeg|gif|png|JPG|JPEG|GIF|PNG|webp|WEBP))(\?.*)?/),
                            a = -1 != t.indexOf("/bfs/");
                        try {
                            if (!o || "gif" === o[2] || !a || !o) return t
                        } catch (e) {
                            return t
                        }
                        var c = e && i ? "@" + Math.round(+e * r) + "w_" + Math.round(+i * r) + "h" : "@";
                        n && (c += "_1c");
                        var u = o[3] ? o[3] : "";
                        return l ? o[1] + c + ".webp" + u : o[1] + c + "." + o[2] + u
                    }(t)
                }, l = function () {
                    try {
                        return o.document && 0 == o.document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")
                    } catch (t) {
                        return !1
                    }
                }(), u = function (t, e) {
                    return new RegExp("\\b" + e + "\\b").test(t.className)
                }, d = function (t, e) {
                    t.className ? u(t, e) || (t.className += " " + e) : t.className = e
                }, h = function (t, e) {
                    var i = new RegExp("\\b" + e + "\\b", "g");
                    u(t, e) && (t.className = t.className.replace(i, "").replace(/^\s+|\s+$/g, "").replace(/\s+/g, " "))
                }, f = function (t) {
                    return t <= 48 ? 48 : t <= 60 ? 60 : t <= 80 ? 80 : 120
                }
        }).call(this, i(4))
    }, function (t, e) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }

        t.exports = function (t) {
            return null != t && "object" == i(t)
        }
    }, function (t, e, i) {
        var n = i(1), o = i(8);
        t.exports = function (t) {
            return n(t) && 1 === t.nodeType && !o(t)
        }
    }, function (t, e, i) {
        var n = i(5), o = i(15), r = i(1);
        t.exports = function (t) {
            return "string" == typeof t || !o(t) && r(t) && "[object String]" == n(t)
        }
    }, function (t, e) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }

        var n;
        n = function () {
            return this
        }();
        try {
            n = n || new Function("return this")()
        } catch (t) {
            "object" === ("undefined" == typeof window ? "undefined" : i(window)) && (n = window)
        }
        t.exports = n
    }, function (t, e, i) {
        var n = i(6), o = i(11), r = i(12), a = n ? n.toStringTag : void 0;
        t.exports = function (t) {
            return null == t ? void 0 === t ? "[object Undefined]" : "[object Null]" : a && a in Object(t) ? o(t) : r(t)
        }
    }, function (t, e, i) {
        var n = i(9).Symbol;
        t.exports = n
    }, function (t, e, i) {
    }, function (t, e, i) {
        var n = i(5), o = i(13), r = i(1), a = Function.prototype, s = Object.prototype, c = a.toString,
            l = s.hasOwnProperty, u = c.call(Object);
        t.exports = function (t) {
            if (!r(t) || "[object Object]" != n(t)) return !1;
            var e = o(t);
            if (null === e) return !0;
            var i = l.call(e, "constructor") && e.constructor;
            return "function" == typeof i && i instanceof i && c.call(i) == u
        }
    }, function (t, e, i) {
        function n(t) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                return typeof t
            } : function (t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }

        var o = i(10),
            r = "object" == ("undefined" == typeof self ? "undefined" : n(self)) && self && self.Object === Object && self,
            a = o || r || Function("return this")();
        t.exports = a
    }, function (t, e, i) {
        (function (e) {
            function i(t) {
                return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                })(t)
            }

            var n = "object" == (void 0 === e ? "undefined" : i(e)) && e && e.Object === Object && e;
            t.exports = n
        }).call(this, i(4))
    }, function (t, e, i) {
        var n = i(6), o = Object.prototype, r = o.hasOwnProperty, a = o.toString, s = n ? n.toStringTag : void 0;
        t.exports = function (t) {
            var e = r.call(t, s), i = t[s];
            try {
                t[s] = void 0;
                var n = !0
            } catch (t) {
            }
            var o = a.call(t);
            return n && (e ? t[s] = i : delete t[s]), o
        }
    }, function (t, e) {
        var i = Object.prototype.toString;
        t.exports = function (t) {
            return i.call(t)
        }
    }, function (t, e, i) {
        var n = i(14)(Object.getPrototypeOf, Object);
        t.exports = n
    }, function (t, e) {
        t.exports = function (t, e) {
            return function (i) {
                return t(e(i))
            }
        }
    }, function (t, e) {
        var i = Array.isArray;
        t.exports = i
    }, function (t, e, i) {
        "use strict";
        i.r(e);
        var n, o = i(0), r = function (t, e) {
            var i = t.src, n = t.height, r = t.width, a = t.className, s = t.style, c = t.radius;
            return "<img ".concat(s ? ' style="' + s + '"' : "", ' class="').concat(a, '" ').concat(e ? "data-" : "", 'src="').concat(Object(o.d)(i, r, n, c), '" alt />')
        }, a = (i(7), i(2)), s = i.n(a), c = i(3), l = i.n(c), u = ((n = o.f).LazyLoad = function (t) {
            var e = {
                src: "data-src",
                srcset: "data-srcset",
                selector: ".lazyload",
                root: null,
                rootMargin: "0px",
                threshold: 0
            };

            function i(t, i) {
                this.settings = function t() {
                    var e = {}, i = !1, n = 0, o = arguments.length;
                    "[object Boolean]" === Object.prototype.toString.call(arguments[0]) && (i = arguments[0], n++);
                    for (var r = function (n) {
                        for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (i && "[object Object]" === Object.prototype.toString.call(n[o]) ? e[o] = t(!0, e[o], n[o]) : e[o] = n[o])
                    }; n < o; n++) {
                        var a = arguments[n];
                        r(a)
                    }
                    return e
                }(e, i || {}), this.images = t || document.querySelectorAll(this.settings.selector), this.observer = null, this.init()
            }

            if (i.prototype = {
                init: function () {
                    if (t.IntersectionObserver) {
                        var e = this, i = {
                            root: this.settings.root,
                            rootMargin: this.settings.rootMargin,
                            threshold: [this.settings.threshold]
                        };
                        this.observer = new IntersectionObserver((function (t) {
                            Array.prototype.forEach.call(t, (function (t) {
                                if (t.intersectionRatio > 0) {
                                    e.observer.unobserve(t.target);
                                    var i = t.target.getAttribute(e.settings.src),
                                        n = t.target.getAttribute(e.settings.srcset);
                                    "img" === t.target.tagName.toLowerCase() ? (i && (t.target.src = i), n && (t.target.srcset = n)) : t.target.style.backgroundImage = "url(" + i + ")"
                                }
                            }))
                        }), i), Array.prototype.forEach.call(this.images, (function (t) {
                            e.observer.observe(t)
                        }))
                    } else this.loadImages()
                }, loadAndDestroy: function () {
                    this.settings && (this.loadImages(), this.destroy())
                }, loadImages: function () {
                    if (this.settings) {
                        var t = this;
                        Array.prototype.forEach.call(this.images, (function (e) {
                            var i = e.getAttribute(t.settings.src), n = e.getAttribute(t.settings.srcset);
                            "img" === e.tagName.toLowerCase() ? (i && (e.src = i), n && (e.srcset = n)) : e.style.backgroundImage = "url('" + i + "')"
                        }))
                    }
                }, destroy: function () {
                    this.settings && (this.observer.disconnect(), this.settings = null)
                }
            }, t.lazyload = function (t, e) {
                return new i(t, e)
            }, t.jQuery) {
                var n = t.jQuery;
                n.fn.lazyload = function (t) {
                    return (t = t || {}).attribute = t.attribute || "data-src", new i(n.makeArray(this), t), this
                }
            }
            return i
        }(n), n.LazyLoad);

        function d(t, e) {
            for (var i = 0; i < e.length; i++) {
                var n = e[i];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
            }
        }

        var h = function (t) {
            return t.querySelectorAll(".bili-avatar-img").forEach((function (t) {
                t.addEventListener("error", (function (t) {
                    Object(o.a)(t.target, "bili-avatar-img-error")
                }))
            }))
        };
        Object(o.b)((function () {
            return h(document)
        }));
        var f = function () {
            function t() {
                !function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.lazy = [], this.$refs = {}
            }

            var e, i;
            return e = t, (i = [{
                key: "actionFn", value: function (t) {
                    this.lazy.length && this.lazy.forEach((function (e) {
                        e[t]()
                    }))
                }
            }, {
                key: "loadImages", value: function () {
                    this.actionFn("loadImages")
                }
            }, {
                key: "loadAndDestroy", value: function () {
                    this.actionFn("loadAndDestroy")
                }
            }, {
                key: "append", value: function (t, e, i) {
                    var n = t.avatar, a = t.pendent, c = t.avatarWidth, d = t.iconType, f = t.isAnimate, p = t.duration,
                        m = t.customIcon, v = function (t, e) {
                            var i = t.avatar, n = t.pendent, a = void 0 === n ? "" : n, s = t.avatarWidth,
                                c = t.pendentHeight, l = t.pendentWidth, u = t.iconType, d = void 0 === u ? "" : u,
                                h = t.isAnimate, f = void 0 !== h && h, p = t.duration, m = void 0 === p ? 2 : p,
                                v = t.customIcon, g = void 0 === v ? "" : v;
                            return '\n    <div class="bili-avatar">\n      '.concat(r({
                                src: void 0 === i ? "" : i,
                                className: "bili-avatar-img bili-avatar-face bili-avatar-img-radius",
                                height: t.avatarHeight,
                                width: s,
                                radius: !0
                            }, e), "\n      \n      ").concat(a ? '<div class="bili-avatar-pendent">\n          '.concat(r({
                                src: a,
                                className: "bili-avatar-img",
                                style: f && "-webkit-animation: bili-avatar ".concat(m, "s steps(").concat(39, ") infinite; -moz-animation: bili-avatar ").concat(m, "s steps(").concat(39, ") infinite; animation: bili-avatar ").concat(m, "s steps(").concat(39, ") infinite;"),
                                height: c,
                                width: l
                            }, e), "\n        </div>") : "", '\n      <span\n        class="bili-avatar-icon').concat(d && !g ? " bili-avatar-icon--" + d : "", '"\n        ').concat(g ? 'style="background-image: url(' + Object(o.d)(g, s / 3, s / 3, !0) + ');"' : "", "\n      ></span>\n    </div>\n  ")
                        }({
                            avatar: n,
                            pendent: a,
                            avatarHeight: c = Object(o.c)(c),
                            avatarWidth: c,
                            pendentHeight: 1.7 * c,
                            pendentWidth: f ? 1.7 * c * 40 : 1.7 * c,
                            iconType: d,
                            isAnimate: f,
                            duration: p,
                            customIcon: m
                        }, e), g = e;
                    if (!g) return v;
                    s()(g) ? (g.innerHTML = v, h(g)) : l()(g) && ((g = document.querySelector(g)).innerHTML = v, h(g)), this.lazy.push(new u(null, {
                        root: null,
                        rootMargin: "0px",
                        threshold: 0,
                        selector: ".bili-avatar-img"
                    })), i && (this.$refs[i] = g.firstElementChild)
                }
            }, {
                key: "resetConfig", value: function (t, e) {
                    var i = e.avatar, n = e.pendent, a = e.avatarWidth, c = e.iconType, u = e.isAnimate, d = e.duration,
                        h = e.customIcon;
                    a = Object(o.c)(a);
                    var f = null;
                    if (s()(t) ? f = t : l()(t) && (f = this.$refs[t]), f) {
                        var p = f.querySelector(".bili-avatar-pendent img");
                        if (p) n ? (p.src = Object(o.d)(n, u ? 1.7 * a * 40 : 1.7 * a, 1.7 * a), p.addEventListener("load", (function t() {
                            var e = "bili-avatar ".concat(d, "s steps(").concat(39, ") infinite");
                            p.style.cssText = u && "-webkit-animation: ".concat(e, "; -moz-animation: ").concat(e, "; animation: ").concat(e, ";"), p.removeEventListener("load", t)
                        }))) : f.removeChild(f.querySelector(".bili-avatar-pendent")); else if (n) {
                            var m = document.createElement("div");
                            Object(o.a)(m, "bili-avatar-pendent");
                            var v = "bili-avatar ".concat(d, "s steps(").concat(39, ") infinite");
                            m.innerHTML = r({
                                src: n,
                                className: "bili-avatar-img",
                                style: u && "-webkit-animation: ".concat(v, "; -moz-animation: ").concat(v, "; animation: ").concat(v, ";"),
                                height: 1.7 * a,
                                width: u ? 1.7 * a * 40 : 1.7 * a
                            }, !1), f.insertBefore(m, f.querySelector(".bili-avatar-icon"))
                        }
                        var g = f.querySelector(".bili-avatar-icon");
                        h ? (Object(o.e)(g, "bili-avatar-icon--big-vip"), Object(o.e)(g, "bili-avatar-icon--personal"), Object(o.e)(g, "bili-avatar-icon--business"), Object(o.e)(g, "bili-avatar-icon--small-vip"), g.style.backgroundImage = "url(".concat(Object(o.d)(h, a / 3, a / 3, !0), ")")) : (c ? new RegExp(c).test(g.className) || (Object(o.e)(g, "bili-avatar-icon--big-vip"), Object(o.e)(g, "bili-avatar-icon--personal"), Object(o.e)(g, "bili-avatar-icon--business"), Object(o.e)(g, "bili-avatar-icon--small-vip"), Object(o.a)(g, "bili-avatar-icon--".concat(c))) : (Object(o.e)(g, "bili-avatar-icon--big-vip"), Object(o.e)(g, "bili-avatar-icon--personal"), Object(o.e)(g, "bili-avatar-icon--business"), Object(o.e)(g, "bili-avatar-icon--small-vip")), g.style.cssText = "");
                        var y = f.querySelector(".bili-avatar-img");
                        i && (y.src = Object(o.d)(i, a, a, !0))
                    }
                }
            }]) && d(e.prototype, i), t
        }();
        e.default = f
    }])
}, function (t, e, i) {
    "use strict";
    (function (t) {
        i(12), i(20), i(31), i(27), i(26), i(35), i(11), i(24), i(16), i(258), i(21);
        var n = i(9), o = i.n(n), r = i(47), a = i(22), s = i(280);

        function c(t, e) {
            var i = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
                var n = Object.getOwnPropertySymbols(t);
                e && (n = n.filter((function (e) {
                    return Object.getOwnPropertyDescriptor(t, e).enumerable
                }))), i.push.apply(i, n)
            }
            return i
        }

        function l(t) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? c(Object(i), !0).forEach((function (e) {
                    u(t, e, i[e])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : c(Object(i)).forEach((function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
                }))
            }
            return t
        }

        function u(t, e, i) {
            return e in t ? Object.defineProperty(t, e, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : t[e] = i, t
        }

        var d = "undefined" == typeof window ? t : window, h = {}, f = {};
        r.a.allEmojiDataNew.map((function (t) {
            t.purl && "" !== t.purl && t.emojis && t.emojis.length && t.emojis && t.emojis.length > 0 && t.emojis.forEach((function (t) {
                f[t.name] = t.url
            }))
        })), r.a.allEmojiDataOld.map((function (t) {
            t.purl && "" !== t.purl && t.emojis && t.emojis.length && t.emojis && t.emojis.length > 0 && t.emojis.forEach((function (t) {
                h[t.name] = t.url
            }))
        })), e.a = o.a.component("renderJSX", {
            methods: {
                generateImageTag: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        i = arguments.length > 2 ? arguments[2] : void 0, n = this.$createElement,
                        o = /\[(?:[^[\]]+)]/g.test(e) ? s.a : e.replace(/^http:\/\//, "//");
                    return n("img", {
                        attrs: {src: o, contenteditable: "false", alt: t},
                        style: "margin: -1px 1px 0 1px;display: inline-block; width: ".concat(i.width, "px; height: ").concat(i.height, "px; vertical-align: ").concat(i.verticalAlign || "baseline", ";")
                    })
                }, renderEmoji: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        i = arguments.length > 2 ? arguments[2] : void 0,
                        n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], o = [], r = {};
                    r = i || d.bp_emoji_data_v3 || {}, f = l(l({}, f), Object(a.a)(r));
                    var s = {width: 22, height: 22};
                    e = Object.assign(s, e);
                    var c, u = new RegExp(/\[[^([.*?\])]+\]/g);
                    c = e.emojiType && 1 === e.emojiType ? f : h;
                    var p = !0, m = 0;
                    do {
                        var v = u.exec(t);
                        if (v) {
                            if (v.index === m) o.push(this.pushItemCb(v, o, c, e, n)); else {
                                var g = t.substring(m, v.index);
                                g && o.push(g), o.push(this.pushItemCb(v, o, c, e, n))
                            }
                            m = u.lastIndex
                        } else {
                            var y = t.substring(m);
                            y && o.push(y), p = !1
                        }
                    } while (p);
                    return o
                }, pushItemCb: function (t, e, i, n) {
                    var o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], r = t[0] || "";
                    if (o) {
                        var a = {width: f[r] && f[r].size > 1 ? 42 : 22, height: f[r] && f[r].size > 1 ? 42 : 22};
                        n = l(l({}, n), a)
                    }
                    e.push(i[r] ? this.generateImageTag(r, i[r].url, n) : f[r] ? this.generateImageTag(r, f[r].url, n) : r)
                }
            }
        })
    }).call(this, i(96))
}, function (t, e, i) {
    "use strict";
    e.a = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAGFBMVEUAAACbm5ucnJybm5uioqKampqdnZ2bm5smdd9FAAAACHRSTlMAMxMkBisMHUGvwZcAAAI6SURBVEjH5ZZNc5swEIYpxuTaLSZcsdy6V8uuJ1fHxek1asLk6nQy9BrHbfn7lWRgJehuk8kx78HjRc+g1X5oCd68onWyQSuWdxsC3AFco3UJsCBACZChpQA+ECBo5a1xpo2EAW9b454BpbMWKaC33uHeZmf6MDFoTXDndBMQmuLeZufzgNIItITRZ/Sip604rkroKb25eProJ+8TkPq+8Zyj5AfpK7D6EmBwWSXOYXkthh6W5arRulSOlxjc9ELMH/qZKCoxs4snM6SCi6v7zsUJgTVZf7T/3lEvxDq6bpsDjHdMTb1v350GjIxnLZhwoGoLbvofUOpAvgw8AGQceECQbDf/RdIBY9FWlDDZQNd8MJp1lbKDdEmCW2lbDxsyR9CN08wtqYM1/jRxRhD7a+LV6NLNnLKru6bsmzOEqivuSwNiLg+93ox/nzyxIDigNJX8K3D0U/0DtE5l+15xS70yAEewRAQvkHwABsWAsw/7ICUKjDo3Yx4cm8Sc5SbijzyYmPSZjKoFC450P0ag6RByBJ0U4r2w0LCGxtjBbq7PseWyK5lCVsks4MF70NYUR5hbZtIFYzNeQjtj6Faw2tb56YcAGU39LuTblehr+krJnge+/jZD8NkXaVcde5oLu6t5TH8U+Msj4I4dyW5oxF7nDxsRh4Zsx30txLyqHoriqqp+CFEf1wqMMixhXrd4Ll7O5cvIr1ZOqRPkbxyXe+E/KgK7Qw7Hvahr841QljcrrfpJzIvgbesvU3h9j3HYce0AAAAASUVORK5CYII="
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABOSURBVChTY9j65PN/mdW3/zMsvIYXg9SA1DKAGIdffv1PCIDUgA0G6SYWgG0DEcxEYrgGYgFlGqy3PwBjfGzKNBADyNNAcsSRljQ+/wcAjBTh4g09x4UAAAAASUVORK5CYII="
}, function (t, e, i) {
    "use strict";
    var n = i(9), o = i.n(n), r = i(33), a = i(43), s = i(15),
        c = (i(99), i(50), i(54), i(395), i(12), i(18), i(17), i(25), i(23), i(5)), l = i(3), u = i(4),
        d = (i(31), i(36), i(11), i(16), i(22));

    function h(t, e) {
        var i;
        if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
            if (Array.isArray(t) || (i = function (t, e) {
                if (!t) return;
                if ("string" == typeof t) return f(t, e);
                var i = Object.prototype.toString.call(t).slice(8, -1);
                "Object" === i && t.constructor && (i = t.constructor.name);
                if ("Map" === i || "Set" === i) return Array.from(t);
                if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return f(t, e)
            }(t)) || e && t && "number" == typeof t.length) {
                i && (t = i);
                var n = 0, o = function () {
                };
                return {
                    s: o, n: function () {
                        return n >= t.length ? {done: !0} : {done: !1, value: t[n++]}
                    }, e: function (t) {
                        throw t
                    }, f: o
                }
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        var r, a = !0, s = !1;
        return {
            s: function () {
                i = t[Symbol.iterator]()
            }, n: function () {
                var t = i.next();
                return a = t.done, t
            }, e: function (t) {
                s = !0, r = t
            }, f: function () {
                try {
                    a || null == i.return || i.return()
                } finally {
                    if (s) throw r
                }
            }
        }
    }

    function f(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    function p(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    var m = function (t) {
            var e = "";
            if (!t) return e;
            switch (t.nodeName) {
                case"IMG":
                    e = t.alt || "";
                    break;
                case"INPUT":
                    e = t.value || "";
                    break;
                case"A":
                    if (!t.getAttribute) return e;
                    var i = t.getAttribute("alt");
                    e = i || (t.textContent || "");
                    break;
                default:
                    e = t.textContent || ""
            }
            return e
        }, v = function () {
            function t(e) {
                !function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.div = e
            }

            var e, i, n;
            return e = t, (i = [{
                key: "getRange", value: function () {
                    var t = window.getSelection();
                    if (t && !(t.rangeCount < 1)) return t.getRangeAt(t.rangeCount - 1)
                }
            }, {
                key: "getTextOffset", value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], e = this.getRange();
                    if (!e) return 0;
                    var i = t ? e.startContainer : e.endContainer, n = t ? e.startOffset : e.endOffset, o = 0;
                    if (i === this.div) {
                        var r, a = 0, s = h(this.div.childNodes);
                        try {
                            for (s.s(); !(r = s.n()).done;) {
                                var c = r.value, l = m(c).length;
                                if (!(a < n)) return o > 0 ? o - 1 : 0;
                                o += l, a += 1
                            }
                        } catch (t) {
                            s.e(t)
                        } finally {
                            s.f()
                        }
                        return o > 0 ? o - 1 : 0
                    }
                    var u, d = h(this.div.childNodes);
                    try {
                        for (d.s(); !(u = d.n()).done;) {
                            var f = u.value;
                            if (f === i || f.firstChild === i) return (o += n) > 0 ? o - 1 : 0;
                            o += m(f).length
                        }
                    } catch (t) {
                        d.e(t)
                    } finally {
                        d.f()
                    }
                    return o > 0 ? o - 1 : 0
                }
            }, {
                key: "setCaret", value: function (t) {
                    var e = t + 1;
                    try {
                        var i = window.getSelection();
                        if (!i) return;
                        for (var n = 0, o = 0; o < this.div.childNodes.length; o++) {
                            var r = this.div.childNodes[o], a = m(r).length;
                            if (!(a < e - n)) {
                                if (a === e - n) {
                                    i.collapse(this.div, o + 1);
                                    break
                                }
                                1 === r.nodeType ? r.firstChild && r.firstChild.getAttribute && "false" !== r.firstChild.getAttribute("contenteditable") ? i.collapse(r.firstChild, e - n) : e - n == 0 ? i.collapse(this.div, o) : i.collapse(this.div, o + 1) : i.collapse(r, e - n);
                                break
                            }
                            n += a
                        }
                    } catch (t) {
                    }
                }
            }]) && p(e.prototype, i), n && p(e, n), t
        }(), g = (i(20), i(14), i(19), i(21), i(6)), y = i(40), b = i(279), _ = i(2), w = i(105),
        C = o.a.component("renderHTML", {
            mixins: [b.a], props: {bus: {type: Object}}, methods: {
                onVoteClick: function () {
                    this.bus.$emit("vote-item-click")
                }, onLotteryClick: function () {
                    this.bus.$emit("lottery-item-click")
                }, renderHTML: function () {
                    var t = this, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return new Promise((function (o) {
                        Object(w.a)(n).then((function (r) {
                            o(t.renderHTMLSync(e, i, n, r))
                        })).catch((function (i) {
                            console.error(i), o(t.renderHTMLSync(e, void 0, n, null, !0))
                        }))
                    }))
                }, renderHTMLSync: function () {
                    var t = this, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                        o = arguments.length > 3 ? arguments[3] : void 0,
                        r = arguments.length > 4 ? arguments[4] : void 0, a = this.$createElement, s = [];
                    if (r) return e.forEach((function (t) {
                        s.push(t.url || t.text || t.id)
                    })), s;
                    var c = i.verticalAlign, l = void 0 === c ? "text-bottom" : c, u = i.width,
                        d = void 0 === u ? 20 : u, h = i.height, f = void 0 === h ? 20 : h, p = i.extendCtrlJson,
                        m = void 0 === p ? "" : p, v = 0, b = Object(g.e)(m).from;
                    return b && (v = b.emoji_type), e.forEach((function (e) {
                        var i = "", r = "", c = e.url || e.text || e.id || "";
                        switch (e.type) {
                            case y.a.TYPE_STRING:
                                s.push(t.renderEmoji(c, {width: d, height: f, verticalAlign: l, emojiType: v}, o, n));
                                break;
                            case y.a.TYPE_LOTTERY:
                                r = e.text, s.push(a("span", {
                                    class: "dynamic-link-hover-bg",
                                    on: {click: t.onLotteryClick},
                                    attrs: {contenteditable: "false"},
                                    style: "cursor:pointer;color:#00a1d6;"
                                }, [a("i", {
                                    class: "bp-svg-icon lottery-btn",
                                    attrs: {contenteditable: "false"},
                                    style: "position:relative;top:-2px;margin-left:2px;margin-right:2px;"
                                }), r]));
                                break;
                            case y.a.TYPE_VOTE:
                                r = e.text, s.push(a("span", {
                                    class: "dynamic-link-hover-bg",
                                    on: {click: t.onVoteClick},
                                    attrs: {contenteditable: "false"},
                                    style: "cursor:pointer;color:#00a1d6;"
                                }, [a("i", {
                                    class: "bp-svg-icon vote-btn",
                                    attrs: {contenteditable: "false"},
                                    style: "position:relative;top:-1px;margin-left:2px;margin-right:2px;"
                                }), r]));
                                break;
                            case y.a.TYPE_AT:
                                i = "".concat(_.a.SPACE, "/").concat(e.id, "/dynamic"), s.push(a("a", {
                                    attrs: {
                                        href: i,
                                        target: "_blank",
                                        contenteditable: "false"
                                    }, class: "dynamic-link-hover-bg", style: "cursor:pointer;color:#00a1d6;"
                                }, [c]));
                                break;
                            case y.a.TYPE_LINK_AV:
                            case y.a.TYPE_LINK_BV:
                                s.push(a("a", {
                                    attrs: {
                                        href: "".concat(_.a.MAIN, "/video/").concat(e.id),
                                        target: "_blank",
                                        contenteditable: "false"
                                    }, class: "dynamic-link-hover-bg", style: "cursor:pointer;color:#00a1d6;"
                                }, [c]));
                                break;
                            case y.a.TYPE_LINK_CV:
                                s.push(a("a", {
                                    attrs: {
                                        href: "".concat(_.a.MAIN, "/read/").concat(e.id),
                                        target: "_blank",
                                        contenteditable: "false"
                                    }, class: "dynamic-link-hover-bg", style: "cursor:pointer;color:#00a1d6;"
                                }, [c]));
                                break;
                            case y.a.TYPE_LINK_VC:
                                s.push(a("a", {
                                    attrs: {
                                        href: "".concat(_.a.VC, "/video/").concat(e.id),
                                        target: "_blank",
                                        contenteditable: "false"
                                    }, class: "dynamic-link-hover-bg", style: "cursor:pointer;color:#00a1d6;"
                                }, [c]));
                                break;
                            default:
                                s.push(c)
                        }
                    })), s
                }
            }
        }), x = o.a.component("CoreEditor", {
            props: {
                value: {
                    type: String, default: function () {
                        return ""
                    }
                }, bus: {
                    type: Object, default: function () {
                        return new o.a
                    }
                }, pasteHandler: {type: Function}, extendCtrlJson: {
                    type: String, default: function () {
                        return "{}"
                    }
                }, chatPanel: {type: Boolean, default: !1}
            }, mixins: [C], data: function () {
                return {
                    textContent: this.value,
                    domText: this.value,
                    caretStart: 0,
                    caretPos: 0,
                    cm: void 0,
                    recordStack: [],
                    recordLen: 0,
                    ris: [],
                    componsionSelection: {start: 0, end: 0, ok: !1},
                    hasInit: !1
                }
            }, computed: {
                text: {
                    get: function () {
                        return this.textContent.replace(/\r\n|\r/g, "\n").replace(/\n{2,}/g, "\n\n").replace(/^\n+/, "").replace(/^ +/, "")
                    }, set: function (t) {
                        this.hasInit ? this.textContent = t : (this.textContent = this.value || t, this.hasInit = !0)
                    }
                }
            }, watch: {
                text: function (t, e) {
                    t !== e && (this.record(), this.emitTextUpdate(), this.emitDomTextUpdate(), this.updateRis(), this.chatPanel && this.$emit("inputMessage", t))
                }, extendCtrlJson: function (t, e) {
                    t !== e && this.updateRis()
                }, value: function (t) {
                    this.text !== t && (this.text = t)
                }, caretPos: function (t) {
                    this.bus.$emit("caret-change", t)
                }
            }, render: function () {
                var t = arguments[0];
                return t("div", {ref: "editor", attrs: {id: "editor"}}, ["‍", this.ris.map((function (t) {
                    return t || ""
                })), "‍"])
            }, created: function () {
                this.initBus()
            }, mounted: function () {
                var t = this.$refs.editor;
                t.contentEditable = "true", /MSIE |Trident/.test(window.navigator.userAgent) && document.execCommand("AutoUrlDetect", !1, !1), this.cm = new v(t), this.cm.setCaret(this.text.length), this.recordStack = [], this.recordLen = 0, this.record(), t.addEventListener("keypress", this.onKeypress), t.addEventListener("keydown", this.onKeydown), t.addEventListener("cut", this.onCut), t.addEventListener("paste", this.onPaste), t.addEventListener("compositionstart", this.onCompositionstart), t.addEventListener("compositionupdate", (function (t) {
                    return t.preventDefault()
                })), t.addEventListener("compositionend", this.onCompositionend), t.addEventListener("input", this.onInput), t.addEventListener("dragstart", (function (t) {
                    return t.preventDefault()
                })), t.addEventListener("drop", (function (t) {
                    return t.preventDefault()
                })), t.value = "", this.bus.$emit("editor-dom-change", t), this.updateRis()
            }, updated: function () {
                this.cm.setCaret(this.caretPos), this.fixSafariShadowText(), this.scrollIntoView()
            }, methods: {
                initBus: function () {
                    this.bus.$on("delete", this.deleteText), this.bus.$on("insert", this.insertText), this.bus.$on("replace", this.replaceText), this.bus.$on("reset", this.onReset), this.bus.$on("text-update", this.onTextUpdate)
                }, updateRis: function () {
                    var t = this, e = {extendCtrlJson: this.extendCtrlJson};
                    Object(u.n)(this.text, e).then((function (i) {
                        t.renderHTML(i, e, t.chatPanel).then((function (e) {
                            t.ris = e, t.$nextTick(t.emitDomTextUpdate)
                        }))
                    }))
                }, emitTextUpdate: function () {
                    this.bus.$emit("text-update", this.text);
                    var t = this.$refs.editor;
                    t.value = "‍".concat(this.text), t.dispatchEvent(new CustomEvent("input"))
                }, emitDomTextUpdate: function () {
                    this.$emit("dom-update", {text: m(this.$refs.editor).replace(/\n+$/g, "").replace("‍", "")})
                }, onReset: function () {
                    this.text = "", this.recordStack = [], this.recordLen = 0
                }, onTextUpdate: function (t) {
                    this.text = t
                }, record: function () {
                    this.recordLen < this.recordStack.length + 1 && this.recordStack.push({
                        text: this.text,
                        textOffset: this.caretPos
                    }), this.recordLen = this.recordStack.length
                }, onKeypress: function (t) {
                    if (!(t.ctrlKey || t.altKey || t.metaKey || t.isComposing || 0 === t.charCode)) {
                        var e = t.key;
                        switch (e) {
                            case"Spacebar":
                                e = " ";
                                break;
                            case"Esc":
                                e = "Escape"
                        }
                        t.preventDefault(), t.stopPropagation();
                        var i, n = this.cm.getTextOffset(!0), o = this.cm.getTextOffset();
                        if ("Enter" === e) i = this.text.slice(0, n) + "\n" + this.text.slice(o); else {
                            var r = t.keyCode ? String.fromCharCode(t.keyCode) : e;
                            i = this.text.slice(0, n) + r + this.text.slice(o)
                        }
                        this.caretPos = n + 1, this.text = i
                    }
                }, onKeydown: function (t) {
                    if (this.chatPanel && !t.shiftKey && "Enter" === t.key) return this.$emit("enterText", t), void t.preventDefault();
                    if ((t.ctrlKey || t.metaKey) && "z" === t.key) {
                        if (t.preventDefault(), this.recordStack.length <= 1) return;
                        this.recordStack.pop();
                        var e = this.recordStack[this.recordStack.length - 1];
                        this.caretPos = e.textOffset || e.text.length, this.text = e.text
                    }
                    t.isComposing || "Delete" !== t.key || (t.preventDefault(), this.backspaceDelete(!0)), t.isComposing || "Backspace" !== t.key || (t.preventDefault(), this.backspaceDelete(!1))
                }, backspaceDelete: function () {
                    var t = this, e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                        i = this.cm.getTextOffset(!0), n = this.cm.getTextOffset(), o = this.cm.getRange();
                    if (o) {
                        i > this.text.length && (i = this.text.length), n > this.text.length && (n = this.text.length);
                        var r = function (i, n) {
                            var o = m(i).length;
                            if (e) {
                                if (n + o > t.text.length) return;
                                var r = t.text.slice(0, n) + t.text.slice(n + o);
                                t.caretPos = n, t.text = r
                            } else {
                                if (n - o < 0) return;
                                var a = t.text.slice(0, n - o) + t.text.slice(n);
                                t.caretPos = n - o, t.text = a
                            }
                        }, a = function () {
                            if (e) {
                                if (n >= t.text.length) return;
                                var o = t.text.slice(0, n) + t.text.slice(n + 1);
                                t.caretPos = i, t.text = o
                            } else {
                                if (n < 1) return;
                                var r = t.text.slice(0, n - 1) + t.text.slice(n);
                                t.caretPos = n - 1, t.text = r
                            }
                        };
                        if (i !== n) {
                            var s = this.text.slice(0, i) + this.text.slice(n);
                            this.caretPos = i, this.text = s
                        } else if (n > 0) if (o.endContainer === this.$refs.editor) {
                            var c = this.$refs.editor.childNodes[e ? 0 : o.endOffset - 1];
                            1 === c.nodeType ? r(c, n) : a()
                        } else {
                            var l = o.endContainer, u = l.previousSibling, d = l.nextSibling;
                            l.parentNode !== this.$refs.editor && (!e && o.endOffset === m(l).length || e && o.startOffset === m(l).length) ? r(l.parentNode, e ? i : n) : !e && u && 1 === u.nodeType && 0 === o.endOffset ? r(u, n) : e && d && 1 === d.nodeType && 0 === o.startOffset ? r(d, i) : a()
                        } else a()
                    }
                }, deleteText: function () {
                    var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                        i = this.cm.getTextOffset(!0), n = this.cm.getTextOffset();
                    i > this.text.length && (i = this.text.length), n > this.text.length && (n = this.text.length), t = e > 0 ? this.text.slice(0, i - e) + this.text.slice(n) : this.text.slice(0, i) + this.text.slice(n - e), this.caretPos = i - e, this.text = t
                }, onInput: function (t) {
                    if (t.preventDefault(), "insertText" === t.inputType && !t.isComposing) {
                        var e = this.cm.getTextOffset(!0) - t.data.length, i = this.cm.getTextOffset() - t.data.length,
                            n = this.text.slice(0, e) + t.data + this.text.slice(i);
                        this.caretPos = e + t.data.length, this.text = n
                    }
                    this.emitDomTextUpdate()
                }, onCompositionstart: function () {
                    var t = this.cm.getTextOffset(!0), e = this.cm.getTextOffset();
                    this.componsionSelection.start = t, this.componsionSelection.end = e, this.componsionSelection.ok = !0
                }, onCompositionend: function (t) {
                    t.preventDefault();
                    var e = this.componsionSelection.ok ? this.componsionSelection.start : this.cm.getTextOffset(!0) - t.data.length,
                        i = this.componsionSelection.ok ? this.componsionSelection.end : this.cm.getTextOffset() - t.data.length;
                    this.componsionSelection.ok = !1;
                    var n = this.text.slice(0, e) + t.data + this.text.slice(i);
                    this.caretPos = e + t.data.length, this.text = n
                }, onCut: function (t) {
                    t.stopPropagation(), t.preventDefault();
                    var e = t.clipboardData || window.clipboardData, i = this.cm.getTextOffset(!0),
                        n = this.cm.getTextOffset();
                    e.setData("text/plain", this.text.slice(i, n));
                    var o = this.text.slice(0, i) + this.text.slice(n);
                    this.caretPos = i, this.text = o
                }, onPaste: function (t) {
                    if (this.pasteHandler && "function" == typeof this.pasteHandler) this.pasteHandler(t, this.insertText); else {
                        t.stopPropagation(), t.preventDefault();
                        var e = t.clipboardData || window.clipboardData,
                            i = "".concat(e.getData("Text"), " ").replace(/ +$/, " ");
                        this.insertText(Object(d.c)(i))
                    }
                }, insertText: function (t) {
                    var e = this.cm.getTextOffset(!0), i = this.cm.getTextOffset(),
                        n = this.text.slice(0, e) + t + this.text.slice(i);
                    this.caretPos = e + t.length, this.text = n
                }, replaceText: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {oldStr: "", newStr: ""},
                        e = t.oldStr, i = t.newStr, n = this.text.replace(e, i);
                    this.caretPos = 0, this.text = n
                }, fixSafariShadowText: function () {
                    var t = this.$refs.editor.childNodes;
                    if (!(t.length < 2)) {
                        var e = t[t.length - 1], i = t[t.length - 2];
                        3 === e.nodeType && 3 === i.nodeType && e.nodeValue && i.nodeValue && e.parentNode.removeChild(e)
                    }
                }, scrollIntoView: function () {
                    var t = this.cm.getRange();
                    if (t) {
                        var e = t.getBoundingClientRect().top, i = this.$refs.editor, n = i.getBoundingClientRect().top,
                            o = i.getBoundingClientRect().bottom;
                        (e < n || e > o) && (i.scrollTop = e - n)
                    }
                }
            }
        }), k = i(113);

    function I(t) {
        return (I = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function S(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function O(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function T(t, e) {
        return (T = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function E(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = L(t);
            if (e) {
                var o = L(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return P(this, i)
        }
    }

    function P(t, e) {
        return !e || "object" !== I(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function L(t) {
        return (L = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var j = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && T(t, e)
        }(r, t);
        var e, i, n, o = E(r);

        function r() {
            var t;
            return S(this, r), (t = o.apply(this, arguments)).text = t.placeText || "", t.domText = t.placeText || "", t.extendCtrlJson = JSON.stringify({from: {emoji_type: 1}}), t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("text-update", (function (e) {
                    t.text = e || t.placeText
                })), this.bus.$on("extend-json-changed", (function (e) {
                    t.extendCtrlJson = e
                }))
            }
        }, {
            key: "onDomUpdate", value: function (t) {
                var e = t.text;
                this.domText = e
            }
        }, {
            key: "handleEmptyAttachData", value: function () {
                this.bus.$emit("empty-attach-data"), this.bus.$emit("update-extension", {attach: null})
            }
        }, {
            key: "showPlaceholder", get: function () {
                return !this.domText.length && !this.text.length
            }
        }, {
            key: "textLength", get: function () {
                return Object(u.g)(this.text)
            }
        }]) && O(e.prototype, i), n && O(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)({
        type: String, default: function () {
            return "有什么想和大家分享的？"
        }
    })], j.prototype, "placeholder", void 0), Object(c.a)([Object(l.b)()], j.prototype, "bus", void 0), Object(c.a)([Object(l.b)(Function)], j.prototype, "pasteHandler", void 0), Object(c.a)([Object(l.b)()], j.prototype, "withScheduleBar", void 0), Object(c.a)([Object(l.b)({
        type: Number,
        default: function () {
            return 1e3
        }
    })], j.prototype, "maxLength", void 0), Object(c.a)([Object(l.b)({
        type: String, default: function () {
            return ""
        }
    })], j.prototype, "editorStyle", void 0), Object(c.a)([Object(l.b)(Boolean)], j.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.b)()], j.prototype, "attachData", void 0), Object(c.a)([Object(l.b)({
        type: String,
        default: ""
    })], j.prototype, "placeText", void 0);
    var A = j = Object(c.a)([Object(l.a)({name: "editor", components: {CoreEditor: x, ShopPanel: k.a}})], j),
        M = (i(396), i(1)), D = Object(M.a)(A, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", [i("div", {
                staticClass: "editor",
                class: {"placeholder-shown": t.showPlaceholder},
                attrs: {placeholder: t.placeholder}
            }, [i("core-editor", {
                staticClass: "core-style",
                class: {
                    "with-schedule-bar": t.withScheduleBar,
                    "too-long": t.textLength > t.maxLength,
                    "in-popup": t.isPopupPanel
                },
                style: t.editorStyle,
                attrs: {
                    value: t.placeText,
                    bus: t.bus,
                    "paste-handler": t.pasteHandler,
                    "extend-ctrl-json": t.extendCtrlJson
                },
                on: {"dom-update": t.onDomUpdate}
            })], 1), i("div", {staticClass: "attach-card"}, [t.attachData ? i("shop-panel", {
                attrs: {
                    "at-publish-panel": "true",
                    "shop-card-list": t.attachData,
                    "is-repost": !1
                }, on: {"empty-attach-data": t.handleEmptyAttachData}
            }) : t._e()], 1)])
        }), [], !1, null, "655ff91e", null).exports;
    i(108), i(49), i(38);

    function B(t) {
        var e = t.path || t.composedPath && t.composedPath();
        if (!e) {
            e = [];
            for (var i = t.target; i !== document;) e.unshift(i), i = i.parentNode
        }
        return e
    }

    var N = i(281), R = i.n(N);

    function $(t, e, i) {
        return ($ = H() ? Reflect.construct : function (t, e, i) {
            var n = [null];
            n.push.apply(n, e);
            var o = new (Function.bind.apply(t, n));
            return i && z(o, i.prototype), o
        }).apply(null, arguments)
    }

    function H() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
            }))), !0
        } catch (t) {
            return !1
        }
    }

    function z(t, e) {
        return (z = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function U(t) {
        return function (t) {
            if (Array.isArray(t)) return F(t)
        }(t) || function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
        }(t) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return F(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return F(t, e)
        }(t) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function F(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    var V = {
        props: {date: {type: Date}, min: {type: Date, required: !1}, max: {type: Date, required: !1}},
        data: function () {
            return {
                weekDays: ["日", "一", "二", "三", "四", "五", "六"],
                year: NaN,
                month: NaN,
                day: NaN,
                inputText: this.getFormatedDate(this.date),
                panelVisible: !1,
                dateIcon: R.a
            }
        },
        computed: {
            monthDays: function () {
                var t = new Date(this.year, this.month + 1, 0).getDate(), e = new Date(this.year, this.month);
                e.setDate(0);
                var i = e.getDay(), n = [];
                if (6 !== i) for (var o = i; o >= 0; o--) n.push(" ");
                for (var r = 1; r <= t; r++) n.push(r);
                return n
            }
        },
        watch: {
            date: function (t) {
                this.inputText = this.getFormatedDate(t)
            }
        },
        created: function () {
            var t = this.date;
            t || (t = new Date), this.year = t.getFullYear(), this.month = t.getMonth(), this.day = t.getDate()
        },
        methods: {
            commit: function (t) {
                this.min && t < this.min ? this.$emit("change", new Date(this.min)) : this.max && t > this.max ? this.$emit("change", new Date(this.max)) : this.$emit("change", t)
            }, setDate: function (t) {
                if (!this.isDisabled(t)) {
                    this.day = t;
                    var e = new Date(this.year, this.month, t);
                    this.inputText = this.getFormatedDate(e), this.panelVisible = !1, this.$refs.dateInput.firstChild.blur(), this.commit(e)
                }
            }, changeMonth: function (t) {
                this.month + t < 0 ? (this.year -= 1, this.month = 12 + this.month + t) : this.month + t > 11 ? (this.year += 1, this.month = this.month + t - 12) : this.month += t
            }, isSelected: function (t) {
                return this.date && this.year === this.date.getFullYear() && this.month === this.date.getMonth() && t === this.date.getDate()
            }, isDisabled: function (t) {
                return !(!this.min && !this.max) && (!(!this.min || !(this.min.getFullYear() > this.year || this.min.getFullYear() === this.year && this.min.getMonth() > this.month || this.min.getFullYear() === this.year && this.min.getMonth() === this.month && this.min.getDate() > t)) || !(!this.max || !(this.max.getFullYear() < this.year || this.max.getFullYear() === this.year && this.max.getMonth() < this.month || this.max.getFullYear() === this.year && this.max.getMonth() === this.month && this.max.getDate() < t)))
            }, handleBulr: function () {
                var t = this.inputText.split("-").slice(0, 3);
                t[1] -= 1;
                var e = $(Date, U(t));
                Number.isNaN(e.getTime()) || this.date && e.getTime() === this.date.getTime() ? this.inputText = this.getFormatedDate(this.date) : this.commit(e)
            }, handleEnter: function (t) {
                "Enter" === t.key && t.target.blur()
            }, showPanel: function (t) {
                var e = this, i = B(t);
                i.some((function (t) {
                    return t === e.$refs.dateInput
                })) && !i.some((function (t) {
                    return t === e.$refs.datePanel
                })) && !1 === this.panelVisible && (this.panelVisible = !0, this.closeHandler = this.handleClickOutside(this.$refs.dateInput), window.addEventListener("click", this.closeHandler))
            }, handleClickOutside: function (t) {
                var e = this;
                return function (i) {
                    B(i).some((function (e) {
                        return e === t
                    })) || (e.panelVisible = !1, window.removeEventListener("click", e.closeHandler), e.closeHandler = void 0)
                }
            }, getFormatedDate: function (t) {
                if (t && !Number.isNaN(t.getTime())) {
                    var e = t.getFullYear(), i = t.getMonth() + 1, n = t.getDate();
                    return "".concat(e, "-").concat(i, "-").concat(n)
                }
                return ""
            }
        }
    }, G = (i(397), Object(M.a)(V, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "dateInput",
            staticClass: "date-input",
            on: {click: t.showPanel}
        }, [i("input", {
            directives: [{name: "model", rawName: "v-model", value: t.inputText, expression: "inputText"}],
            class: {active: t.panelVisible},
            attrs: {placeholder: "选择日期"},
            domProps: {value: t.inputText},
            on: {
                blur: t.handleBulr, keyup: t.handleEnter, input: function (e) {
                    e.target.composing || (t.inputText = e.target.value)
                }
            }
        }), i("img", {attrs: {src: t.dateIcon}}), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.panelVisible,
                expression: "panelVisible"
            }], ref: "datePanel", staticClass: "date-panel"
        }, [i("div", {staticClass: "ym"}, [i("button", {
            on: {
                click: function (e) {
                    return t.changeMonth(-1)
                }
            }
        }, [i("span", {staticClass: "arrow left"})]), i("span", [t._v(t._s(t.year + "年 " + (t.month + 1) + "月"))]), i("button", {
            on: {
                click: function (e) {
                    return t.changeMonth(1)
                }
            }
        }, [i("span", {staticClass: "arrow right"})])]), i("div", {staticClass: "md"}, [i("div", {staticClass: "week"}, t._l(t.weekDays, (function (e) {
            return i("span", {key: e, domProps: {textContent: t._s(e)}})
        })), 0), i("div", {staticClass: "days"}, t._l(t.monthDays, (function (e, n) {
            return i("div", {
                key: n,
                staticClass: "day",
                class: {active: t.isSelected(e), disabled: t.isDisabled(e)},
                domProps: {textContent: t._s(e)},
                on: {
                    click: function (i) {
                        return t.setDate(e)
                    }
                }
            })
        })), 0)])])])
    }), [], !1, null, "c2aeee6e", null).exports), W = {
        model: {prop: "value", event: "change"},
        props: {
            value: {type: Number},
            label: {type: String, default: "时"},
            min: {type: Number, default: 0},
            max: {type: Number, default: 23}
        },
        data: function () {
            return {currentValue: this.value, panelVisible: !1}
        },
        computed: {
            isActive: function () {
                return this.panelVisible || this.$refs.sInput && this.$refs.sInput === document.activeElement
            }, range: function () {
                for (var t = [], e = this.min; e <= this.max; e++) t.push(e);
                return t
            }, scrollBarLength: function () {
                return "".concat(32400 / (30 * this.range.length), "px")
            }
        },
        watch: {
            value: function (t) {
                t !== this.currentValue && (this.currentValue = t)
            }, currentValue: function (t, e) {
                this.commit()
            }
        },
        methods: {
            showPanel: function (t) {
                var e = this, i = B(t);
                i.some((function (t) {
                    return t === e.$refs.sInput
                })) && !i.some((function (t) {
                    return t === e.$refs.sPanel
                })) && !1 === this.panelVisible && (this.panelVisible = !0, this.closeHandler = this.handleClickOutside(this.$refs.sInput), window.addEventListener("click", this.closeHandler))
            }, select: function (t) {
                this.panelVisible = !1, this.currentValue = t, this.commit()
            }, handleBlur: function (t) {
                this.handleChange(t), this.commit()
            }, handleEnter: function (t) {
                "Enter" === t.key && this.$refs.sInput.firstChild.blur()
            }, handleChange: function (t) {
                var e = parseInt(t.target.value);
                e !== this.currentValue && (Number.isNaN(e) ? t.target.value = void 0 === this.value ? null : this.value : this.currentValue = e)
            }, commit: function () {
                if (this.isActive || (this.panelVisible = !1), this.currentValue < this.min) throw new Error("value ".concat(this.currentValue, " lt min ").concat(this.min));
                if (this.currentValue > this.max) throw new Error("value ".concat(this.currentValue, " gt max ").concat(this.max));
                this.value !== this.currentValue && this.$emit("change", this.currentValue)
            }, handleClickOutside: function (t) {
                var e = this;
                return function (i) {
                    B(i).some((function (e) {
                        return e === t
                    })) || (e.panelVisible = !1, window.removeEventListener("click", e.closeHandler), e.closeHandler = void 0)
                }
            }
        }
    }, q = (i(398), {
        name: "DatePicker",
        components: {
            DateInput: G, ScrollInput: Object(M.a)(W, (function () {
                var t = this, e = t.$createElement, i = t._self._c || e;
                return i("div", {
                    ref: "sInput",
                    staticClass: "scroll-input",
                    class: {active: t.isActive}
                }, [i("input", {
                    staticClass: "s-input",
                    attrs: {type: "number"},
                    domProps: {value: t.currentValue},
                    on: {click: t.showPanel, blur: t.handleBlur, keyup: t.handleEnter, change: t.handleChange}
                }), i("span", {
                    staticClass: "arrow-down",
                    class: {active: t.panelVisible}
                }), i("span", {
                    staticClass: "s-label",
                    domProps: {textContent: t._s(t.label)}
                }), i("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: t.panelVisible,
                        expression: "panelVisible"
                    }], ref: "sPanel", staticClass: "s-panel"
                }, t._l(t.range, (function (e) {
                    return i("div", {
                        key: e,
                        staticClass: "s-item",
                        class: {active: e === t.value},
                        domProps: {textContent: t._s(e)},
                        on: {
                            click: function (i) {
                                return t.select(e)
                            }
                        }
                    })
                })), 0)])
            }), [], !1, null, "4ea87ec1", null).exports
        },
        props: {
            value: {type: [Date, String], required: !1},
            min: {type: Date, required: !1},
            max: {type: Date, required: !1},
            withTime: {type: Boolean, default: !0}
        },
        data: function () {
            return {date: void 0, hour: void 0, minute: void 0, minHour: 0, maxHour: 23, minMinute: 0, maxMinute: 59}
        },
        watch: {
            value: function (t) {
                t ? (this.checkLimit(t), this.date = t, this.hour = this.date.getHours(), this.minute = this.date.getMinutes()) : (this.date = void 0, this.hour = void 0, this.minute = void 0), this.computeLimit()
            }
        },
        created: function () {
            this.value && (this.checkLimit(this.value), this.date = new Date(this.value), this.hour = this.date.getHours(), this.minute = this.date.getMinutes(), this.computeLimit())
        },
        methods: {
            commit: function () {
                if (void 0 !== this.date && !Number.isNaN(this.date.getTime())) {
                    var t, e = this.date.getFullYear(), i = this.date.getMonth(), n = this.date.getDate();
                    if (this.withTime) {
                        if (void 0 === this.hour || Number.isNaN(this.hour) || void 0 === this.minute || Number.isNaN(this.minute)) return;
                        t = new Date(e, i, n, this.hour, this.minute)
                    } else t = new Date(e, i, n, 0, 0);
                    this.checkLimit(t), (!this.value || Math.abs(new Date(this.value).getTime() - t.getTime()) / 6e4 >= .1) && this.$emit("input", new Date(t))
                }
            }, computeLimit: function () {
                if (this.min && this.date && this.min.getFullYear() === this.date.getFullYear() && this.min.getMonth() === this.date.getMonth() && this.min.getDate() === this.date.getDate()) {
                    var t = this.min.getHours();
                    this.hour < t && (this.hour = t), this.minHour = t
                } else this.minHour = 0;
                if (this.max && this.date && this.max.getFullYear() === this.date.getFullYear() && this.max.getMonth() === this.date.getMonth() && this.max.getDate() === this.date.getDate()) {
                    var e = this.max.getHours();
                    this.hour > e && (this.hour = e), this.maxHour = e
                } else this.maxHour = 23;
                if (this.min && this.min.getDate() === (this.date && this.date.getDate()) && this.min.getHours() === this.hour) {
                    var i = this.min.getMinutes();
                    this.minute < i && (this.minute = i), this.minMinute = i
                } else this.minMinute = 0;
                if (this.max && this.max.getDate() === (this.date && this.date.getDate()) && this.max.getHours() === this.hour) {
                    var n = this.max.getMinutes();
                    this.minute > n && (this.minute = n), this.maxMinute = n
                } else this.maxMinute = 59
            }, handleDateChange: function (t) {
                this.date = t, this.computeLimit(), this.commit()
            }, handleHourChange: function (t) {
                this.hour = t, this.computeLimit(), this.commit()
            }, handleMinuteChange: function (t) {
                this.minute = t, this.computeLimit(), this.commit()
            }, checkLimit: function (t) {
                if (this.min && (this.min.setSeconds(0), this.min.setMilliseconds(0), t < this.min)) throw new Error("DatePicker: value ".concat(t, " less then min limit ").concat(this.min));
                if (this.max && (this.max.setSeconds(59), this.max.setMilliseconds(999), t > this.max)) throw new Error("DatePicker: value ".concat(t, " greater then max limit ").concat(this.max))
            }
        }
    }), J = (i(399), Object(M.a)(q, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "date-picker"}, [i("DateInput", {
            attrs: {date: t.date, min: t.min, max: t.max},
            on: {change: t.handleDateChange}
        }), t.withTime ? i("ScrollInput", {
            attrs: {value: t.hour, label: "时", min: t.minHour, max: t.maxHour},
            on: {change: t.handleHourChange}
        }) : t._e(), t.withTime ? i("ScrollInput", {
            attrs: {
                value: t.minute,
                label: "分",
                min: t.minMinute,
                max: t.maxMinute
            }, on: {change: t.handleMinuteChange}
        }) : t._e()], 1)
    }), [], !1, null, "8e11382e", null).exports), Y = o.a.component("DatePicker", J);

    function K(t) {
        return (K = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Z(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function X(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Q(t, e) {
        return (Q = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function tt(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = it(t);
            if (e) {
                var o = it(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return et(this, i)
        }
    }

    function et(t, e) {
        return !e || "object" !== K(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function it(t) {
        return (it = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var nt = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Q(t, e)
        }(r, t);
        var e, i, n, o = tt(r);

        function r() {
            var t;
            return Z(this, r), (t = o.apply(this, arguments)).publishTime = new Date, t.currentTime = Date.now(), t.updateTimeInterval = 0, t
        }

        return e = r, (i = [{
            key: "onPublishTimeChange", value: function (t) {
                this.bus.$emit("schedule-time-update", t)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                var t = this;
                this.initBus(), this.updateTimeInterval = setInterval((function () {
                    t.currentTime = Date.now()
                }), 6e4)
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
                clearInterval(this.updateTimeInterval)
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("schedule-time-update", (function (e) {
                    e && t.publishTime && e.getTime() !== t.publishTime.getTime() && (t.publishTime = e)
                }))
            }
        }]) && X(e.prototype, i), n && X(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], nt.prototype, "bus", void 0), Object(c.a)([Object(l.d)("publishTime")], nt.prototype, "onPublishTimeChange", null);
    var ot = nt = Object(c.a)([Object(l.a)({name: "schedule-bar", components: {DatePicker: Y}})], nt),
        rt = (i(400), Object(M.a)(ot, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "transition-box"}, [i("div", {staticClass: "schedule-bar"}, [i("span", {staticClass: "dp-label"}, [t._v("发布时间：")]), i("date-picker", {
                attrs: {
                    min: new Date(t.currentTime),
                    max: new Date(t.currentTime + 1296e6)
                }, model: {
                    value: t.publishTime, callback: function (e) {
                        t.publishTime = e
                    }, expression: "publishTime"
                }
            })], 1)])
        }), [], !1, null, "af5aaec4", null).exports), at = (i(28), i(10)), st = i.n(at), ct = (i(29), i(66));

    function lt(t) {
        return (lt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ut(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function dt(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function ht(t, e) {
        return (ht = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function ft(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = mt(t);
            if (e) {
                var o = mt(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return pt(this, i)
        }
    }

    function pt(t, e) {
        return !e || "object" !== lt(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function mt(t) {
        return (mt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var vt = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ht(t, e)
        }(r, t);
        var e, i, n, o = ft(r);

        function r() {
            var t;
            return ut(this, r), (t = o.apply(this, arguments)).field = null, t.topicName = "", t.emojiBoxShown = !1, t
        }

        return e = r, (i = [{
            key: "onEmojiBoxShownChange", value: function (t) {
                this.$emit("showUpdate", t)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("editor-dom-change", (function (e) {
                    t.inputElement = e
                }))
            }
        }, {
            key: "triggerEmojiShow", value: function () {
                this.emojiBoxShown = !this.emojiBoxShown, this.emojiBoxShown && this.inputElement.focus()
            }
        }, {
            key: "emojiSelectHandler", value: function (t) {
                this.bus.$emit("insert", t)
            }
        }, {
            key: "onEmojiBoxClose", value: function () {
                this.emojiBoxShown = !1, this.inputElement.focus()
            }
        }, {
            key: "frozenElements", get: function () {
                return [this.inputElement, this.$refs.btn]
            }
        }]) && dt(e.prototype, i), n && dt(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], vt.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], vt.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], vt.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.b)(Boolean)], vt.prototype, "revert", void 0), Object(c.a)([Object(l.d)("emojiBoxShown")], vt.prototype, "onEmojiBoxShownChange", null);
    var gt = vt = Object(c.a)([Object(l.a)({name: "emoji", components: {EmojiBox: ct.a}})], vt),
        yt = (i(401), Object(M.a)(gt, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "bp-emoji-box-container"}, [i("button", {
                ref: "btn",
                staticClass: "box-toggle emoji-btn",
                class: {active: t.emojiBoxShown},
                attrs: {title: "表情"},
                on: {click: t.triggerEmojiShow}
            }), t.emojiBoxShown ? i("emoji-box", {
                staticClass: "bp-emoji-box",
                attrs: {
                    revert: t.revert,
                    field: t.field,
                    "select-handler": t.emojiSelectHandler,
                    "frozen-elements": t.frozenElements,
                    "emoji-type": ["kaomojis", "dynamicEmojis"],
                    "spm-type": t.topicName ? "TAG" : "MAIN",
                    "pub-type": t.isPopupPanel ? "2" : "1"
                },
                on: {close: t.onEmojiBoxClose}
            }) : t._e()], 1)
        }), [], !1, null, "178df1d2", null).exports), bt = {
            props: {arrow: {type: Boolean, default: !1}, width: {type: Number, default: 300}}, data: function () {
                return {}
            }, methods: {
                onClose: function (t) {
                    this.$emit("close"), t.stopPropagation()
                }
            }
        }, _t = (i(402), Object(M.a)(bt, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("transition", {attrs: {name: "move-in"}}, [e("div", {
                staticClass: "static-popup",
                class: {"bp-arrow": this.arrow},
                style: {width: this.width + "px"}
            }, [e("div", {
                staticClass: "bp-icon-font icon-group-dynamic close-btn",
                attrs: {title: "放弃图片上传"},
                on: {click: this.onClose}
            }), e("div", {staticClass: "title"}, [this._t("title")], 2), e("div", {staticClass: "content-ctnr"}, [this._t("default")], 2)])])
        }), [], !1, null, "268b12ee", null).exports), wt = (i(44), i(65), i(45), i(48), i(104), i(8)), Ct = {
            data: function () {
                return {isShow: !0}
            },
            props: {
                status: {type: String, default: ""},
                errorText: {type: String, default: ""},
                imgUrl: {type: String, default: ""}
            },
            computed: {
                bgImg: function () {
                    var t = Object(g.g)(Object(wt.bfsImgLink)(this.imgUrl, 80, 80, {e: 1, c: 1}));
                    return /\.gif$/.test(t) && (t += "@1s.jpg"), t
                }
            }
        }, xt = (i(403), Object(M.a)(Ct, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "upload-status"}, ["loading" === t.status ? i("div", {staticClass: "loading-wrapper"}, [i("span", {staticClass: "loading"})]) : t._e(), "error" === t.status ? i("div", {staticClass: "error-wrapper b-box"}, [i("span", {staticClass: "bp-svg-icon error"}), i("span", {
                staticClass: "reason",
                domProps: {textContent: t._s(t.errorText)}
            })]) : t._e(), t.imgUrl ? i("div", {
                staticClass: "success-wrapper bg-center bg-cover",
                style: {backgroundImage: "url(" + t.bgImg + ")"}
            }) : t._e(), t._t("editBtn"), t._t("close")], 2)
        }), [], !1, null, "29129d22", null).exports), kt = i(224), It = i.n(kt);
    i(302);

    function St(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function Ot(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    St(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    St(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    function Tt(t) {
        return new Promise((function (e) {
            var i = new FileReader;
            i.onload = function (t) {
                var i = new DataView(t.target.result);
                65496 !== i.getUint16(0, !1) && e(-2);
                for (var n = i.byteLength, o = 2; o < n;) {
                    i.getUint16(o + 2, !1) <= 8 && e(-1);
                    var r = i.getUint16(o, !1);
                    if (o += 2, 65505 === r) {
                        1165519206 !== i.getUint32(o += 2, !1) && e(-1);
                        var a = 18761 === i.getUint16(o += 6, !1);
                        o += i.getUint32(o + 4, a);
                        var s = i.getUint16(o, a);
                        o += 2;
                        for (var c = 0; c < s; c++) 274 === i.getUint16(o + 12 * c, a) && e(i.getUint16(o + 12 * c + 8, a))
                    } else {
                        if (65280 != (65280 & r)) break;
                        o += i.getUint16(o, !1)
                    }
                }
                e(-1)
            }, i.readAsArrayBuffer(t)
        }))
    }

    function Et() {
        return (Et = Ot(st.a.mark((function t(e) {
            var n, o, r, a, s, c, l, u;
            return st.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        return t.next = 2, Tt(e);
                    case 2:
                        if (!((n = t.sent) < 2 || n > 8)) {
                            t.next = 5;
                            break
                        }
                        return t.abrupt("return", e);
                    case 5:
                        return (o = new Image).src = window.URL ? window.URL.createObjectURL(e) : window.webkitURL.createObjectURL(e), t.next = 9, new Promise((function (t) {
                            o.onload = function () {
                                return t()
                            }
                        }));
                    case 9:
                        if (s = 0, c = !1, [5, 6, 7, 8].some((function (t) {
                            return t === n
                        })) ? (r = o.height, a = o.width) : (r = o.width, a = o.height), [7, 8].some((function (t) {
                            return t === n
                        })) && (s = 1.5 * Math.PI), [3, 4].some((function (t) {
                            return t === n
                        })) && (s = Math.PI), [5, 6].some((function (t) {
                            return t === n
                        })) && (s = .5 * Math.PI), [2, 4, 5, 7].some((function (t) {
                            return t === n
                        })) && (c = !0), l = document.createElement("canvas"), u = l.getContext("2d"), l.width = r, l.height = a, c && (u.translate(r, 0), u.scale(-1, 1)), u.translate(r / 2, a / 2), u.rotate(s), u.drawImage(o, -o.width / 2, -o.height / 2), l.toBlob) {
                            t.next = 27;
                            break
                        }
                        return t.next = 27, i.e(2).then(i.t.bind(null, 606, 7));
                    case 27:
                        return t.abrupt("return", new Promise((function (t) {
                            l.toBlob((function (e) {
                                return t(e)
                            }), "image/jpeg")
                        })));
                    case 28:
                    case"end":
                        return t.stop()
                }
            }), t)
        })))).apply(this, arguments)
    }

    var Pt = {
        data: function () {
            return {
                uid: "",
                localUploadList: [].concat(window.__saveShareImages__ || []),
                gifMaxMByte: 8,
                errorType: {
                    common: "上传失败",
                    mbyte: "文件大小请勿超过".concat(this.maxMByte, "M"),
                    gifbype: "请上传小于".concat(8, "M的gif图"),
                    size: "宽高均不得小于".concat(this.minWidth, "像素"),
                    format: "仅支持JPG PNG GIF"
                },
                uploadBtnStyle: {}
            }
        }, mounted: function () {
            var t = this;
            this.initBus(), this.setInitFiles(), new It.a(this.$refs.uploadList, {
                filter: ".close",
                draggable: ".draggable",
                animation: 500,
                onMove: function (t) {
                    return t.related && t.related.className.indexOf("draggable") >= 0
                },
                onEnd: function (e) {
                    t.localUploadList.splice(e.newIndex, 0, t.localUploadList.splice(e.oldIndex, 1)[0])
                }
            })
        }, watch: {
            localUploadList: function (t) {
                this.$emit("update", t)
            }, draftPic: function () {
                this.setInitFiles()
            }
        }, props: {
            bus: null,
            initFiles: {},
            draftPic: {
                type: Array, default: function () {
                    return []
                }
            },
            editStatus: {type: Boolean, default: !0},
            maxAmount: {type: Number, default: 20},
            formatList: {
                type: Array, default: function () {
                    return ["jpg", "jpeg", "png", "gif"]
                }
            },
            maxMByte: {type: Number, default: 20},
            minWidth: {type: Number, default: 10},
            minHeight: {type: Number, default: 10}
        }, components: {UploadStatus: xt}, methods: {
            initBus: function () {
                var t = this;
                this.bus.$on("emit-image-upload-click", this.emitClick), this.bus.$on("image-list-clear", (function () {
                    t.localUploadList = []
                }))
            }, emitClick: function () {
                this.$refs.uploadInput.click()
            }, setInitFiles: function () {
                this.localUploadList = this.localUploadList.concat(this.draftPic), this.initFiles.length > 0 && (this.checkFilesAmount(this.initFiles), this.selectImage(this.initFiles))
            }, selectImage: function (t) {
                var e = this, i = Array.prototype.map.call(t, (function () {
                    return {status: "loading", errorText: "", imgUrl: ""}
                })), n = this.localUploadList.length;
                this.localUploadList = this.localUploadList.concat(i), this.localUploadList.length > this.maxAmount && this.localUploadList.splice(this.maxAmount, this.localUploadList.length - this.maxAmount);
                for (var o = function (i, o) {
                    var r = t[i - n];
                    e.checkFormat(r.type) || e.$set(e.localUploadList, i, {
                        status: "error",
                        errorText: e.errorType.format,
                        id: e.randomNum()
                    });
                    var a = function (t) {
                        var n = new Image;
                        n.src = URL.createObjectURL(t), n.onload = function () {
                            var o = e.checkImage(r.type, r.size, n.width, n.height);
                            o ? e.$set(e.localUploadList, i, {
                                status: "error",
                                errorText: o,
                                id: e.randomNum()
                            }) : e.uploadImage(t, i)
                        }
                    };
                    ["jpg", "jpeg"].some((function (t) {
                        return r.type.indexOf(t) > -1
                    })) ? function (t) {
                        return Et.apply(this, arguments)
                    }(r).then((function (t) {
                        a(t)
                    })) : a(r)
                }, r = n, a = this.localUploadList.length; r < a; r++) o(r)
            }, uploadImage: function (t, e) {
                var i = this, n = new FormData;
                n.append("file_up", t), n.append("biz", "draw"), n.append("category", "daily"), this.bpapi({
                    url: "".concat(_.a.API_VC, "/api/v1/drawImage/upload"),
                    method: "post",
                    data: n,
                    headers: {"Content-Type": "multipart/form-data"}
                }).then((function (n) {
                    i.$set(i.localUploadList, e, {
                        img_src: n.data.image_url,
                        img_width: n.data.image_width,
                        img_height: n.data.image_height,
                        img_size: t.size / 1024,
                        id: i.randomNum()
                    })
                }), (function () {
                    i.$set(i.localUploadList, e, {status: "error", errorText: "上传失败", id: i.randomNum()})
                }))
            }, clickSelect: function (t) {
                var e = t.target || t.srcElement, i = e.files;
                this.checkFilesAmount(i), this.selectImage(i), e.value = ""
            }, dropSelect: function (t) {
                t.stopPropagation(), t.preventDefault();
                var e = t.dataTransfer.files;
                this.checkFilesAmount(e), this.selectImage(e)
            }, checkFilesAmount: function (t) {
                this.localUploadList.length + t.length > this.maxAmount && this.linkMsg(this.$refs.uploadBtn, "上传图片不得超过".concat(this.maxAmount, "张（￣∞￣）"), "caution")
            }, dragover: function (t) {
                t.stopPropagation(), t.preventDefault(), t.dataTransfer.dropEffect = "copy"
            }, checkImage: function (t, e, i, n) {
                return this.checkFormat(t) ? t.indexOf("gif") > -1 && Math.floor(e / 1024 / 1024) >= this.gifMaxMByte ? this.errorType.gifbype : Math.floor(e / 1024 / 1024) >= this.maxMByte ? this.errorType.mbyte : (i < this.minWidth || n < this.minHeight) && this.errorType.size : this.errorType.format
            }, checkFormat: function (t) {
                for (var e = 0, i = this.formatList.length; e < i; e++) if (t.indexOf(this.formatList[e]) > -1) return !0
            }, removeUploadItem: function (t) {
                this.localUploadList.splice(t, 1)
            }, randomNum: function () {
                return Date.now() * Math.ceil(1e5 * Math.random())
            }
        }
    }, Lt = (i(404), Object(M.a)(Pt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "upload-image-wrapper"}, [i("div", {
            ref: "dropZone",
            staticClass: "upload-image",
            class: {center: !t.localUploadList.length},
            on: {dragover: t.dragover, drop: t.dropSelect}
        }, [i("div", {
            ref: "uploadList",
            staticClass: "f-clear upload-list"
        }, [t._l(t.localUploadList, (function (e, n) {
            return i("upload-status", {
                key: e.id || e.img_src,
                staticClass: "draggable f-left",
                attrs: {status: e.status, "error-text": e.errorText, "img-url": e.img_src}
            }, [i("span", {
                staticClass: "close pointer a-fade-in", attrs: {slot: "close"}, on: {
                    click: function (e) {
                        return t.removeUploadItem(n)
                    }
                }, slot: "close"
            }, [i("i", {staticClass: "bp-icon-font icon-group-dynamic c-pointer"})])])
        })), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.localUploadList.length < parseInt(t.maxAmount),
                expression: "localUploadList.length < parseInt(maxAmount)"
            }], ref: "uploadBtn", staticClass: "f-left upload-btn b-box"
        }, [i("input", {
            ref: "uploadInput",
            staticClass: "upload pointer",
            attrs: {type: "file", accept: "image/png, image/jpeg, image/jpg, image/gif", multiple: ""},
            on: {change: t.clickSelect}
        }), i("i", {staticClass: "bp-icon-font icon-add pointer"})])], 2)])])
    }), [], !1, null, "79017e14", null).exports), jt = {
        props: {
            bus: null, initFiles: {}, draftPic: {
                type: Array, default: function () {
                    return []
                }
            }
        }, data: function () {
            return {imageList: [], selectedFiles: this.initFiles}
        }, components: {StaticBox: _t, ImageUploader: Lt}, methods: {
            updateImageList: function (t) {
                this.imageList = t, this.$emit("update", t)
            }, close: function () {
                this.$emit("close"), this.imageList = [], this.selectedFiles = []
            }
        }
    }, At = (i(405), Object(M.a)(jt, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("static-box", {
            staticClass: "upload-image-box",
            attrs: {width: 290, arrow: !0},
            on: {close: t.close}
        }, [i("span", {
            attrs: {slot: "title"},
            slot: "title"
        }, [t._v("图片上传"), i("span", {staticClass: "d-i-block hint"}, [t._v(t._s(t.imageList.length) + " / 9")])]), i("image-uploader", {
            attrs: {
                bus: t.bus,
                "max-amount": 9,
                "init-files": t.selectedFiles,
                "draft-pic": t.draftPic
            }, on: {update: t.updateImageList}
        })], 1)
    }), [], !1, null, "2453fd06", null).exports), Mt = i(7), Dt = i(0);

    function Bt(t) {
        return (Bt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Nt(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Rt(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function $t(t, e) {
        return ($t = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Ht(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Ut(t);
            if (e) {
                var o = Ut(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return zt(this, i)
        }
    }

    function zt(t, e) {
        return !e || "object" !== Bt(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ut(t) {
        return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Ft = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && $t(t, e)
        }(r, t);
        var e, i, n, o = Ht(r);

        function r() {
            var t;
            return Nt(this, r), (t = o.apply(this, arguments)).imageBoxShown = !(!window.__saveShareImages__ || !window.__saveShareImages__.length), t.selectedFiles = [], t.draftPic = [], t.imageList = [], t
        }

        return e = r, (i = [{
            key: "onImageListChange", value: function (t) {
                this.bus.$emit("image-list-update", t)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                this.bus.$on("reset", this.onReset), this.bus.$on("image-draft-update", this.onImageDraftUpdate)
            }
        }, {
            key: "onReset", value: function () {
                this.onImageBoxClose()
            }
        }, {
            key: "triggerImageBoxShow", value: function () {
                this.imageBoxShown = !this.imageBoxShown, this.imageBoxShown && (this.bus.$emit("emit-image-upload-click"), this.isPopupPanel ? Object(Mt.d)(Dt.d.PUBLICH_PIC_2, "") : Object(Mt.d)(Dt.d.PUBLICH_PIC_1, ""))
            }
        }, {
            key: "updateImageList", value: function (t) {
                this.imageList = t
            }
        }, {
            key: "onImageDraftUpdate", value: function (t) {
                t.length > 0 && (this.imageBoxShown = !0), this.draftPic = t
            }
        }, {
            key: "onImageBoxClose", value: function () {
                this.bus.$emit("image-list-clear"), this.draftPic = [], this.imageList = [], this.selectedFiles = [], this.imageBoxShown = !1
            }
        }, {
            key: "validDraftPic", get: function () {
                return this.draftPic.filter((function (t) {
                    return t && void 0 !== t.img_src
                }))
            }
        }]) && Rt(e.prototype, i), n && Rt(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], Ft.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], Ft.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], Ft.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.d)("imageList")], Ft.prototype, "onImageListChange", null);
    var Vt = Ft = Object(c.a)([Object(l.a)({name: "image-box", components: {UploadImageBox: At}})], Ft),
        Gt = (i(406), Object(M.a)(Vt, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "image-box"}, [i("button", {
                staticClass: "box-toggle pic-box",
                class: {active: t.imageBoxShown},
                attrs: {title: "上传图片"},
                on: {click: t.triggerImageBoxShow}
            }), i("div", {staticClass: "image-popup"}, [i("upload-image-box", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.imageBoxShown,
                    expression: "imageBoxShown"
                }],
                attrs: {bus: t.bus, "init-files": t.selectedFiles, "draft-pic": t.validDraftPic},
                on: {update: t.updateImageList, close: t.onImageBoxClose}
            })], 1)])
        }), [], !1, null, "bcf85f44", null).exports), Wt = (i(27), i(114));

    function qt(t) {
        return (qt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Jt(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Yt(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Kt(t, e) {
        return (Kt = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Zt(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Qt(t);
            if (e) {
                var o = Qt(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Xt(this, i)
        }
    }

    function Xt(t, e) {
        return !e || "object" !== qt(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qt(t) {
        return (Qt = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var te = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Kt(t, e)
        }(r, t);
        var e, i, n, o = Zt(r);

        function r() {
            var t;
            return Jt(this, r), (t = o.apply(this, arguments)).field = null, t.inputElement = null, t.atCount = 0, t.unameToUid = {}, t.caretPos = 0, t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.debounceFetchNameToUid = Object(g.b)(this.fetchNameToUid, 1), this.debounceAtHandler = Object(g.b)(this.atHandler, 1), this.initBus()
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("text-update", this.debounceAtHandler), this.bus.$on("editor-dom-change", (function (e) {
                    t.inputElement = e
                })), this.bus.$on("caret-change", (function (e) {
                    t.caretPos = e
                })), this.bus.$on("at-update", (function (e) {
                    t.atCount = e
                }))
            }
        }, {
            key: "requestAt", value: function (t, e) {
                var i = this;
                return new Promise((function (n, o) {
                    var r = {uid: i.loginUid};
                    e && (r.keyword = e), i.bpapi({url: t, method: "get", data: r}).then(n).catch(o)
                }))
            }
        }, {
            key: "atHandler", value: function (t) {
                var e = /@[^\n\r\s@↵]{1,20}(?=\s)/g, i = [], n = !0;
                do {
                    var o = e.exec(t);
                    if (o) {
                        var r = o[0];
                        oe(r) && i.push({text: r, index: o.index})
                    } else n = !1
                } while (n);
                this.debounceFetchNameToUid(i)
            }
        }, {
            key: "generateCtrl", value: function (t) {
                var e = this, i = [];
                t.forEach((function (t) {
                    e.unameToUid[t.text] && i.push({
                        location: t.index,
                        type: 1,
                        length: t.text.length + 1,
                        data: String(e.unameToUid[t.text])
                    })
                })), this.bus.$emit("update-ctrl", {at: i})
            }
        }, {
            key: "fetchNameToUid", value: function (t) {
                var e = this, i = "", n = {};
                t.forEach((function (t) {
                    e.unameToUid[t.text] || n[t.text] || (n[t.text] = !0, i += ",".concat(t.text.slice(1)))
                })), (i = i.replace(/^,/, "")) ? this.bpapi({
                    method: "get",
                    url: "".concat(_.a.API_VC, "/dynamic_mix/v1/dynamic_mix/name_to_uid"),
                    data: {names: i, teenagers_mode: 0}
                }).then((function (i) {
                    i.data && i.data.uid_list && i.data.uid_list.forEach((function (t) {
                        e.unameToUid["@".concat(t.name)] = t.uid
                    })), e.generateCtrl(t)
                })).catch((function (i) {
                    console.error(i), e.generateCtrl(t)
                })) : this.generateCtrl(t)
            }
        }, {
            key: "triggerAtBoxShow", value: function (t) {
                t.stopPropagation(), t.preventDefault(), this.bus.$emit("insert", "@"), this.$refs.atPopup.try()
            }
        }, {
            key: "selectHandler", value: function (t) {
                var e = this, i = t.uid, n = t.uname,
                    o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                this.unameToUid["@".concat(n)] = i, this.bus.$emit("delete", o.length), setTimeout((function () {
                    e.bus.$emit("insert", "@".concat(n, " ")), 20 === e.atCount && e.linkMsg(e.inputElement, "最多支持@ 20位用户", "caution")
                }), 0)
            }
        }, {
            key: "logHandler", value: function () {
                var t = this.isPopupPanel ? Dt.d.PUBLISH_AT_LIST_SHOW_2 : Dt.d.PUBLISH_AT_LIST_SHOW_1;
                Object(Mt.d)(t)
            }
        }]) && Yt(e.prototype, i), n && Yt(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], te.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], te.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], te.prototype, "isPopupPanel", void 0), te = Object(c.a)([Object(l.a)({
        name: "at-box",
        components: {AtPopup: Wt.a}
    })], te);
    var ee, ie, ne, oe = function (t) {
            var e = t.replace(/^@/, "");
            return !!e && !/[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e) && /^[^\n\r\s@↵]{1,20}$/.test(e)
        }, re = te, ae = (i(407), Object(M.a)(re, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "at-box"}, [i("button", {
                staticClass: "box-toggle at-icon",
                on: {click: t.triggerAtBoxShow}
            }), i("at-popup", {
                ref: "atPopup",
                attrs: {"input-el": t.inputElement, request: t.requestAt},
                on: {
                    active: t.logHandler, select: function (e) {
                        var i = e.item, n = e.matchString;
                        return t.selectHandler(i, n)
                    }
                }
            })], 1)
        }), [], !1, null, "1f4b11c2", null).exports),
        se = (i(78), i(30), i(98), i(42), ["boxSizing", "width", "height", "overflowX", "overflowY", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "lineHeight", "fontFamily", "textAlign", "textTransform", "textIndent", "textDecoration", "letterSpacing", "wordSpacing"]),
        ce = function (t, e) {
            (ee = document.getElementById(t.nodeName + "--mirror-div")) || ((ee = document.createElement("div")).id = t.nodeName + "--mirror-div", document.body.appendChild(ee)), ne = ee.style, ie = getComputedStyle(t), ne.whiteSpace = "pre-wrap", "INPUT" !== t.nodeName && (ne.wordWrap = "break-word"), ne.position = "absolute", ne.top = t.offsetTop + parseInt(ie.borderTopWidth) + "px", ne.left = t.offsetLeft + parseInt(ie.borderLeftWidth) + "px", ne.visibility = "hidden", se.forEach((function (t) {
                ne[t] = ie[t]
            })), navigator.userAgent.indexOf("Firefox") > -1 ? (ne.width = parseInt(ie.width) - 2 + "px", t.scrollHeight > parseInt(ie.height) && (ne.overflowY = "scroll")) : ne.overflow = "hidden", ee.textContent = t.value.substring(0, e), "INPUT" === t.nodeName && (ee.textContent = ee.textContent.replace(/\s/g, " "));
            var i = document.createElement("span");
            return i.textContent = t.value.substring(e) || ".", ee.appendChild(i), {
                top: i.offsetTop + parseInt(ie.borderTopWidth) + parseInt(ie["line-height"]) - t.scrollTop,
                left: i.offsetLeft + parseInt(ie.borderLeftWidth)
            }
        }, le = /^ |\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]|@|\n| $/, ue = {
            data: function () {
                return {
                    isShow: !1,
                    top: 0,
                    left: 0,
                    selectedIndex: 0,
                    topicList: [],
                    mouseOverEnabled: !0,
                    needHide: !1,
                    isSafari: !1,
                    isIE: !1
                }
            }, props: {
                inputElm: {required: !0}, buttonElm: {}, clickButtonHandler: {
                    type: Function, default: function () {
                    }
                }, selectHandler: {
                    type: Function, default: function () {
                    }
                }, logHandler: {
                    type: Function, default: function () {
                    }
                }, loginUid: {type: Number, default: 0}, emojiBoxShown: {
                    type: Boolean, default: function () {
                        return !1
                    }
                }
            }, computed: {
                topPx: function () {
                    return this.top + "px"
                }, leftPx: function () {
                    return this.left + "px"
                }, computedHeight: function () {
                    return this.topicList.length > 0 ? "150px" : "30px"
                }
            }, beforeMount: function () {
                var t = Object(g.d)();
                this.isIE = -1 !== t.indexOf("IE"), this.isSafari = -1 !== t.indexOf("Safari")
            }, mounted: function () {
                this.initEvents(), this.debounceSearch = Object(g.b)(this.search, 500), this.debounceEnableMouseOver = Object(g.b)(this.enableMouseOver, 200)
            }, watch: {
                emojiBoxShown: function (t) {
                    t && (this.isShow = !1)
                }
            }, methods: {
                onMousedown: function (t) {
                    (t || window.event).preventDefault()
                }, onClickItem: function (t) {
                    var e = this, i = Object(u.e)(this.inputElm),
                        n = (this.isIE ? this.inputElm.value : this.inputElm.value.replace(/\n/g, "")).substring(0, i),
                        o = n.lastIndexOf("#"), r = n.substring(o, i);
                    this.selectHandler(t, r), this.hide(), this.topicList = [], this.inputElm.focus(), "TEXTAREA" === this.inputElm.tagName && setTimeout((function () {
                        var i = o + t.length + 3;
                        Object(u.p)(e.inputElm, i)
                    }), 0)
                }, show: function () {
                    this.emojiBoxShown || (this.isShow || (this.isShow = !0, this.selectedIndex = 0), this.calculatePosition())
                }, hide: function () {
                    this.isShow = !1
                }, updateView: function () {
                    var t = Object(u.e)(this.inputElm, !1), e = this.inputElm.value.substring(t - 33, t),
                        i = e.lastIndexOf("#");
                    if (~i) {
                        var n = e.substring(i + 1);
                        "" !== n && "" === String(n).trim() || n.match(le) || " " === n.substring(0, 1) ? this.hide() : (this.show(), this.debounceSearch(n))
                    } else this.hide()
                }, search: function (t) {
                    var e = this;
                    "" === t ? this.loginUid ? this.bpapi({
                        url: "".concat(_.a.API_VC, "/topic_svr/v1/topic_svr/get_rcmd_topic"),
                        method: "get"
                    }).then((function (t) {
                        if (0 === t.code) {
                            var i = t.data.rcmds || [];
                            Array.isArray(i) ? e.topicList = i.slice(0, 10).map((function (t) {
                                return t.topic_name
                            })) : e.topicList = []
                        } else e.topicList = []
                    }), (function () {
                        e.topicList = []
                    })) : this.topicList = [] : this.bpapi({
                        url: "".concat(_.a.API_VC, "/dynamic_topic/v1/Topic/search"),
                        method: "get",
                        data: {s: t}
                    }).then((function (t) {
                        if (0 === t.code) {
                            var i = t.data.list || [];
                            Array.isArray(i) ? e.topicList = i.slice(0, 10) : e.topicList = []
                        } else e.topicList = []
                    }), (function () {
                        e.topicList = []
                    }))
                }, calculatePosition: function () {
                    var t, e = Object(u.e)(this.inputElm),
                        i = (this.isIE ? this.inputElm.value : this.inputElm.value.replace(/\n/g, "")).substring(0, e).lastIndexOf("#");
                    if (this.isIE || this.isSafari) t = ce(this.inputElm, i), this.left = t.left, this.top = t.top; else {
                        var n = this.inputElm.getBoundingClientRect(), o = n.top, r = n.left,
                            a = window.getSelection().getRangeAt(0);
                        if (0 === a.getClientRects().length) {
                            var s = this.inputElm.value, c = document.createTextNode(" ");
                            a.insertNode(c), a.selectNode(c), t = a.getBoundingClientRect(), a.deleteContents(), a.collapse(!0), this.inputElm.value = s
                        } else t = a.getBoundingClientRect();
                        this.left = t.left - r, this.top = t.top + 18 - o
                    }
                    var l = parseFloat(getComputedStyle(this.inputElm, null).getPropertyValue("height").replace(/px/, ""));
                    (this.top > l + 10 || this.top < -20) && (this.top = l + 10), this.left < -20 && (this.left = 0)
                }, initEvents: function () {
                    this.inputElm && (this.inputElm.addEventListener("input", this.textInputHandler), this.inputElm.addEventListener("keydown", this.keyDownHandler), this.inputElm.addEventListener("keyup", this.keyUpHandler), this.inputElm.addEventListener("focus", this.focusHandler), this.inputElm.addEventListener("blur", this.blurHandler), this.inputElm.addEventListener("click", this.clickHandler)), this.buttonElm && this.buttonElm.addEventListener("click", this.buttonClickHandler)
                }, removeEvents: function () {
                    this.inputElm.removeEventListener("input", this.textInputHandler), this.inputElm.removeEventListener("keydown", this.keyDownHandler), this.inputElm.removeEventListener("keyup", this.keyUpHandler), this.inputElm.removeEventListener("focus", this.focusHandler), this.inputElm.removeEventListener("blur", this.blurHandler), this.inputElm.removeEventListener("click", this.clickHandler), this.buttonElm && this.buttonElm.removeEventListener("click", this.buttonClickHandler)
                }, mouseOverHandler: function (t) {
                    this.mouseOverEnabled && (this.selectedIndex = t)
                }, textInputHandler: function () {
                    var t = this;
                    setTimeout((function () {
                        t.updateView()
                    }), 0)
                }, keyDownHandler: function (t) {
                    if (this.isShow) if (13 === t.keyCode) {
                        var e = this.topicList[this.selectedIndex];
                        e && (this.onClickItem(e), t.preventDefault())
                    } else 38 === t.keyCode ? (t.preventDefault(), this.pickUp()) : 40 === t.keyCode && (t.preventDefault(), this.pickDown())
                }, keyUpHandler: function (t) {
                    t.keyCode >= 37 && t.keyCode <= 40 ? this.updateView() : 51 === t.keyCode && !0 === t.shiftKey && this.logHandler()
                }, blurHandler: function () {
                    var t = this;
                    setTimeout((function () {
                        t.needHide && t.hide()
                    }), 300), this.needHide = !0
                }, focusHandler: function () {
                    setTimeout(this.updateView, 0)
                }, buttonClickHandler: function () {
                    var t = this;
                    this.needHide = !1, this.clickButtonHandler && this.clickButtonHandler(), setTimeout((function () {
                        t.clickHandler()
                    }), 100)
                }, clickHandler: function () {
                    this.updateView()
                }, pickUp: function () {
                    this.selectedIndex - 1 >= 0 ? this.selectedIndex-- : this.selectedIndex = this.topicList.length - 1, this.updateListScrollTop()
                }, pickDown: function () {
                    this.selectedIndex + 1 < this.topicList.length ? this.selectedIndex++ : this.selectedIndex = 0, this.updateListScrollTop()
                }, updateListScrollTop: function () {
                    if (this.$refs.topicList) {
                        var t = this.selectedIndex;
                        24 * t > this.$refs.topicList.scrollTop + 96 ? (this.$refs.topicList.scrollTop = 24 * t - 96, this.disableMouseOver()) : 24 * t < this.$refs.topicList.scrollTop && (this.$refs.topicList.scrollTop = 24 * t, this.disableMouseOver())
                    }
                }, disableMouseOver: function () {
                    this.mouseOverEnabled = !1, this.debounceEnableMouseOver()
                }, enableMouseOver: function () {
                    this.mouseOverEnabled = !0
                }
            }
        }, de = (i(408), Object(M.a)(ue, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                directives: [{name: "show", rawName: "v-show", value: t.isShow, expression: "isShow"}],
                staticClass: "hash-popup bg-white",
                style: {top: t.topPx, left: t.leftPx, height: t.computedHeight}
            }, [i("p", {staticClass: "hint ff-yahei fs-12 tc-slate ls-0 c-default"}, [t._v("选择你想用的话题")]), t.topicList.length > 0 ? i("div", {
                ref: "topicList",
                staticClass: "topic-container w-100"
            }, t._l(t.topicList, (function (e, n) {
                return i("a", {
                    staticClass: "item ff-yahei fs-12 tc-black ls-0 d-block c-pointer",
                    class: {"is-selected": n === t.selectedIndex},
                    on: {
                        mouseover: function (e) {
                            return t.mouseOverHandler(n)
                        }, mousedown: t.onMousedown, click: function (i) {
                            return t.onClickItem(e)
                        }
                    }
                }, [t._v(t._s("#" + e + "#"))])
            })), 0) : t._e()])
        }), [], !1, null, "9f192432", null).exports);
    o.a.use(s.b);
    var he = de;

    function fe(t) {
        return (fe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function pe(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function me(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function ve(t, e) {
        return (ve = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function ge(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = be(t);
            if (e) {
                var o = be(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return ye(this, i)
        }
    }

    function ye(t, e) {
        return !e || "object" !== fe(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function be(t) {
        return (be = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var _e = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ve(t, e)
        }(r, t);
        var e, i, n, o = ge(r);

        function r() {
            var t;
            return pe(this, r), (t = o.apply(this, arguments)).text = "", t.field = null, t.inputElement = null, t.isMounted = !1, t.caretPos = 0, t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
                this.isMounted = !0, this.buttonElement = this.$refs.button
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("text-update", (function (e) {
                    t.text = e
                })), this.bus.$on("editor-dom-change", (function (e) {
                    t.inputElement = e
                })), this.bus.$on("caret-change", (function (e) {
                    t.caretPos = e
                }))
            }
        }, {
            key: "triggerTopicBoxShow", value: function (t) {
                t.stopPropagation(), t.preventDefault(), this.bus.$emit("insert", "#")
            }
        }, {
            key: "selectHandler", value: function (t) {
                var e = this, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                this.bus.$emit("delete", i.length), "#" === this.text.substring(this.caretPos - 1, this.caretPos) && setTimeout((function () {
                    e.bus.$emit("delete", -1)
                }), 0), setTimeout((function () {
                    e.bus.$emit("insert", "#".concat(t, "# "))
                }), 0)
            }
        }, {
            key: "logHandler", value: function () {
                var t = this.isPopupPanel ? Dt.d.PUBLISH_AT_LIST_SHOW_2 : Dt.d.PUBLISH_AT_LIST_SHOW_1;
                Object(Mt.d)(t)
            }
        }]) && me(e.prototype, i), n && me(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], _e.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], _e.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], _e.prototype, "isPopupPanel", void 0);
    var we = _e = Object(c.a)([Object(l.a)({name: "topic-box", components: {HashPopup: he}})], _e),
        Ce = (i(409), Object(M.a)(we, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "topic-box"}, [i("button", {
                ref: "button",
                staticClass: "box-toggle icon-topic",
                attrs: {title: "参与话题"},
                on: {click: t.triggerTopicBoxShow}
            }), t.isMounted ? i("hash-popup", {
                attrs: {
                    buttonElm: t.buttonElement,
                    "input-elm": t.inputElement,
                    "select-handler": t.selectHandler,
                    "login-uid": t.loginUid,
                    "log-handler": t.logHandler
                }
            }) : t._e()], 1)
        }), [], !1, null, "6a1caca2", null).exports), xe = (i(410), i(58));

    function ke(t) {
        return (ke = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ie(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Se(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Oe(t, e) {
        return (Oe = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Te(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Pe(t);
            if (e) {
                var o = Pe(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Ee(this, i)
        }
    }

    function Ee(t, e) {
        return !e || "object" !== ke(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Pe(t) {
        return (Pe = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Le = function (t) {
            !function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Oe(t, e)
            }(r, t);
            var e, i, n, o = Te(r);

            function r() {
                return Ie(this, r), o.apply(this, arguments)
            }

            return e = r, (i = [{
                key: "beforeCreate", value: function () {
                }
            }, {
                key: "created", value: function () {
                }
            }, {
                key: "beforeMount", value: function () {
                }
            }, {
                key: "mounted", value: function () {
                }
            }, {
                key: "beforeDestroy", value: function () {
                }
            }, {
                key: "destroyed", value: function () {
                }
            }, {
                key: "onClick", value: function (t) {
                    this.$emit("click", t)
                }
            }]) && Se(e.prototype, i), n && Se(e, n), r
        }(l.c), je = Le = Object(c.a)([Object(l.a)({name: "bp-add-button", components: {}})], Le),
        Ae = (i(411), Object(M.a)(je, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("button", {
                staticClass: "bp-add-button",
                on: {click: this.onClick}
            }, [e("i", {staticClass: "add-icon"}), this._t("default")], 2)
        }), [], !1, null, "f69b0614", null).exports);

    function Me(t) {
        return (Me = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function De(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Be(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Ne(t, e) {
        return (Ne = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Re(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = He(t);
            if (e) {
                var o = He(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return $e(this, i)
        }
    }

    function $e(t, e) {
        return !e || "object" !== Me(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function He(t) {
        return (He = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var ze = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Ne(t, e)
        }(r, t);
        var e, i, n, o = Re(r);

        function r() {
            return De(this, r), o.apply(this, arguments)
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "onClick", value: function (t) {
                this.$emit("click", t)
            }
        }, {
            key: "buttonClassArray", get: function () {
                var t = [];
                switch (this.status) {
                    case"active":
                        t = t.concat(["active", "no-border"])
                }
                return t
            }
        }]) && Be(e.prototype, i), n && Be(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)(String)], ze.prototype, "status", void 0);
    var Ue = ze = Object(c.a)([Object(l.a)({name: "bp-button", components: {}})], ze),
        Fe = (i(412), Object(M.a)(Ue, (function () {
            var t = this.$createElement;
            return (this._self._c || t)("div", {
                staticClass: "bp-button",
                class: this.buttonClassArray,
                on: {click: this.onClick}
            }, [this._t("default")], 2)
        }), [], !1, null, "b26b5ce0", null).exports);

    function Ve(t) {
        return (Ve = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ge(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function We(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function qe(t, e) {
        return (qe = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Je(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Ke(t);
            if (e) {
                var o = Ke(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Ye(this, i)
        }
    }

    function Ye(t, e) {
        return !e || "object" !== Ve(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ke(t) {
        return (Ke = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Ze = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && qe(t, e)
        }(r, t);
        var e, i, n, o = Je(r);

        function r() {
            var t;
            return Ge(this, r), (t = o.apply(this, arguments)).isOnFocus = !1, t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "onInput", value: function (t) {
                var e = t.target;
                this.$emit("input", e.value)
            }
        }, {
            key: "onFocus", value: function () {
                this.isOnFocus = !0
            }
        }, {
            key: "onBlur", value: function () {
                this.isOnFocus = !1
            }
        }, {
            key: "currentlength", get: function () {
                return String(this.value).length || 0
            }
        }]) && We(e.prototype, i), n && We(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)({
        type: String,
        default: "text"
    })], Ze.prototype, "type", void 0), Object(c.a)([Object(l.b)([String, Number])], Ze.prototype, "maxlength", void 0), Object(c.a)([Object(l.b)([String, Number])], Ze.prototype, "value", void 0), Object(c.a)([Object(l.b)(String)], Ze.prototype, "placeholder", void 0);
    var Xe = Ze = Object(c.a)([Object(l.a)({name: "bp-input", components: {}})], Ze),
        Qe = (i(413), Object(M.a)(Xe, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("label", {staticClass: "bp-input"}, ["textarea" === t.type ? [i("div", {
                staticClass: "content-box textarea-box",
                class: {"on-focus": t.isOnFocus}
            }, [i("textarea", {
                staticClass: "textarea",
                attrs: {placeholder: t.placeholder, maxlength: t.maxlength},
                domProps: {value: t.value},
                on: {input: t.onInput, focus: t.onFocus, blur: t.onBlur}
            }), i("div", {staticClass: "indicator"}, [t._v(t._s(t.currentlength) + "/" + t._s(t.maxlength))])])] : t._e(), "textarea" !== t.type ? [i("div", {
                staticClass: "content-box input-box",
                class: {"on-focus": t.isOnFocus}
            }, [t._t("prefix"), i("input", {
                staticClass: "input",
                class: "input-" + t.type,
                attrs: {type: t.type, placeholder: t.placeholder, maxlength: t.maxlength},
                domProps: {value: t.value},
                on: {input: t.onInput, focus: t.onFocus, blur: t.onBlur}
            }), i("div", {staticClass: "indicator"}, [t._v(t._s(t.currentlength) + "/" + t._s(t.maxlength))])], 2), t._t("suffix")] : t._e()], 2)
        }), [], !1, null, "793bb182", null).exports);

    function ti(t) {
        return (ti = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ei(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function ii(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function ni(t, e) {
        return (ni = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function oi(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = ai(t);
            if (e) {
                var o = ai(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return ri(this, i)
        }
    }

    function ri(t, e) {
        return !e || "object" !== ti(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ai(t) {
        return (ai = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var si = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ni(t, e)
        }(r, t);
        var e, i, n, o = oi(r);

        function r() {
            return ei(this, r), o.apply(this, arguments)
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "onClick", value: function (t) {
                this.$emit("click", t)
            }
        }]) && ii(e.prototype, i), n && ii(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)(Boolean)], si.prototype, "checked", void 0), Object(c.a)([Object(l.b)(String)], si.prototype, "value", void 0), Object(c.a)([Object(l.b)(String)], si.prototype, "name", void 0);
    var ci = si = Object(c.a)([Object(l.a)({name: "bp-radio", components: {}})], si),
        li = (i(414), Object(M.a)(ci, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("label", {
                staticClass: "bp-radio",
                on: {click: this.onClick}
            }, [e("div", {
                staticClass: "radio-icon",
                class: {checked: this.checked}
            }), e("input", {
                staticClass: "radio-input",
                attrs: {type: "radio", name: this.name},
                domProps: {value: this.value, checked: this.checked}
            }), this._t("default")], 2)
        }), [], !1, null, "55c64c29", null).exports);

    function ui(t) {
        return (ui = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function di(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function hi(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function fi(t, e) {
        return (fi = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function pi(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = vi(t);
            if (e) {
                var o = vi(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return mi(this, i)
        }
    }

    function mi(t, e) {
        return !e || "object" !== ui(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function vi(t) {
        return (vi = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var gi = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && fi(t, e)
        }(r, t);
        var e, i, n, o = pi(r);

        function r() {
            return di(this, r), o.apply(this, arguments)
        }

        return e = r, (i = [{
            key: "onValueChange", value: function (t) {
                var e = t.target;
                this.$emit("input", e.value)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }]) && hi(e.prototype, i), n && hi(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)([String, Number])], gi.prototype, "value", void 0), Object(c.a)([Object(l.b)(Array)], gi.prototype, "options", void 0);
    var yi = gi = Object(c.a)([Object(l.a)({name: "bp-selector", components: {}})], gi),
        bi = (i(415), Object(M.a)(yi, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("label", {staticClass: "bp-selector"}, [i("select", {
                staticClass: "selector",
                domProps: {value: t.value},
                on: {change: t.onValueChange}
            }, t._l(t.options, (function (e) {
                return i("option", {key: e.value, domProps: {value: e.value}}, [t._v(t._s(e.label) + "\n    ")])
            })), 0), i("i", {staticClass: "more-icon"})])
        }), [], !1, null, "6aaa05f4", null).exports);

    function _i(t) {
        return (_i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wi(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Ci(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function xi(t, e) {
        return (xi = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function ki(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Si(t);
            if (e) {
                var o = Si(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Ii(this, i)
        }
    }

    function Ii(t, e) {
        return !e || "object" !== _i(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Si(t) {
        return (Si = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Oi = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && xi(t, e)
        }(r, t);
        var e, i, n, o = ki(r);

        function r() {
            var t;
            return wi(this, r), (t = o.apply(this, arguments)).formatList = ["jpg", "jpeg", "png"], t.maxMByte = 20, t.minWidth = 10, t.minHeight = 10, t.errorType = {
                mbyte: "图片大小请勿超过20M",
                size: "图片宽高均不得小于10像素",
                format: "仅支持JPG PNG格式的图片"
            }, t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "imageBoxUrl", value: function () {
                var t = this.url;
                return "string" == typeof t && "loading" !== t && "error" !== t ? (t = Object(wt.bfsImgLink)(t.replace(/^(https?:)|^(\/\/)/, ""), 56, 56, {c: 1}), "background-image: url(".concat(t, "); background-size: cover;")) : ""
            }
        }, {
            key: "checkFormat", value: function (t) {
                for (var e = 0, i = this.formatList.length; e < i; e += 1) if (t.indexOf(this.formatList[e]) > -1) return !0;
                return !1
            }
        }, {
            key: "checkImage", value: function (t, e, i, n) {
                return this.checkFormat(t) ? Math.floor(e / 1024 / 1024) >= this.maxMByte ? this.errorType.mbyte : (i < this.minWidth || n < this.minHeight) && this.errorType.size : this.errorType.format
            }
        }, {
            key: "callFileDialog", value: function () {
                var t = this, e = document.createElement("input");
                e.type = "file", e.accept = "image/png, image/jpeg, image/jpg, image/gif", e.name = "upload", e.addEventListener("change", (function (e) {
                    var i = e.target || e.srcElement, n = i && i.files || [];
                    if (n && n.length > 0) {
                        var o = n[0], r = t.checkImage(o.type, o.size, 20, 20);
                        if (r) return void t.linkMsg(null, r, "error", !0, !0);
                        var a = new Image;
                        a.src = window.URL ? window.URL.createObjectURL(o) : window.webkitURL.createObjectURL(o), a.onload = function () {
                            var e = t.checkImage(o.type, o.size, a.width, a.height);
                            e ? t.linkMsg(null, e, "error", !0, !0) : (t.$emit("loading", {index: t.index}), t.uploadImage(n[0]).then((function (e) {
                                t.$emit("success", {index: t.index, bres: e})
                            }), (function (e) {
                                t.$emit("fail", {index: t.index, berr: e})
                            })))
                        }
                    }
                })), e.click(), window.upload_input = e, e = null
            }
        }, {
            key: "uploadImage", value: function (t) {
                var e = new FormData;
                return e.append("file_up", t), e.append("biz", "draw"), e.append("category", "daily"), this.bpapi({
                    url: "//api.vc.bilibili.com/api/v1/drawImage/upload",
                    method: "post",
                    data: e,
                    headers: {"Content-Type": "multipart/form-data"}
                })
            }
        }]) && Ci(e.prototype, i), n && Ci(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)(Number)], Oi.prototype, "index", void 0), Object(c.a)([Object(l.b)(String)], Oi.prototype, "url", void 0);
    var Ti = Oi = Object(c.a)([Object(l.a)({name: "bp-upload", components: {}})], Oi),
        Ei = (i(416), Object(M.a)(Ti, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                staticClass: "bp-upload", on: {
                    click: function (e) {
                        return t.callFileDialog(t.index)
                    }
                }
            }, [t.url ? i("div", {
                staticClass: "image-box",
                class: t.url,
                style: t.imageBoxUrl(t.index)
            }) : t._e(), t.url ? t._e() : i("div", {staticClass: "image-box"}), i("div", {staticClass: "bg-color"})])
        }), [], !1, null, "2be57f3e", null).exports);

    function Pi(t) {
        return (Pi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Li(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function ji(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Ai(t, e) {
        return (Ai = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Mi(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Bi(t);
            if (e) {
                var o = Bi(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Di(this, i)
        }
    }

    function Di(t, e) {
        return !e || "object" !== Pi(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Bi(t) {
        return (Bi = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Ni = function (t) {
            !function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ai(t, e)
            }(r, t);
            var e, i, n, o = Mi(r);

            function r() {
                return Li(this, r), o.apply(this, arguments)
            }

            return e = r, (i = [{
                key: "beforeCreate", value: function () {
                }
            }, {
                key: "created", value: function () {
                }
            }, {
                key: "beforeMount", value: function () {
                }
            }, {
                key: "mounted", value: function () {
                }
            }, {
                key: "beforeDestroy", value: function () {
                }
            }, {
                key: "destroyed", value: function () {
                }
            }]) && ji(e.prototype, i), n && ji(e, n), r
        }(l.c), Ri = Ni = Object(c.a)([Object(l.a)({name: "bp-title", components: {}})], Ni),
        $i = (i(417), Object(M.a)(Ri, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "title"}, [e("div", {staticClass: "title-content"}, [this._t("default")], 2), e("div", {staticClass: "slot-right"}, [this._t("right")], 2)])
        }), [], !1, null, "47d56164", null).exports);
    var Hi = function (t) {
        var e = "";
        return t.msg && "非法请求" !== t.msg && "电波无法到达~" !== t.msg && (e = t.msg), e || {
            100: "诶呦，似乎你还没有登录呢",
            1e3: "诶呦，似乎你还不能发布投票呢"
        }[t.code] || "电波无法到达~ ".concat(t.code)
    }, zi = i(32), Ui = i.n(zi);

    function Fi(t) {
        return (Fi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Vi(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function Gi(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Wi(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function qi(t, e) {
        return (qi = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Ji(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Ki(t);
            if (e) {
                var o = Ki(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Yi(this, i)
        }
    }

    function Yi(t, e) {
        return !e || "object" !== Fi(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ki(t) {
        return (Ki = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Zi = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && qi(t, e)
        }(s, t);
        var e, i, n, o, r, a = Ji(s);

        function s() {
            var t;
            return Gi(this, s), (t = a.apply(this, arguments)).voteTitle = "", t.typeList = [{
                name: "文字投票",
                value: "text"
            }, {
                name: "图片投票",
                value: "image"
            }], t.type = "text", t.optionsCount = 2, t.optionsList = ["", ""], t.optionsImageList = ["", ""], t.moreConfigShow = !1, t.hasIntroduction = !1, t.introduction = "", t.choiceCount = "1", t.durationList = [{
                label: "三天",
                value: String(259200)
            }, {label: "一周", value: String(604800)}, {
                label: "一个月",
                value: String(2592e3)
            }], t.duration = String(604800), t.voteId = "", t.errorList = [], t.defaultText = "我发起了一个投票", t.canUploadIOS = !0, t.canUploadAndroid = !0, t.maxOptionsCount = 20, t.maxTextLength = 20, t
        }

        return e = s, (i = [{
            key: "onOptionsCountChange", value: function (t) {
                "1" !== this.choiceCount && parseInt(this.choiceCount, 10) > t && (this.choiceCount = String(t))
            }
        }, {
            key: "onShowChange", value: function (t) {
                t && this.init()
            }
        }, {
            key: "onConfigChange", value: function () {
                this.init()
            }
        }, {
            key: "mounted", value: (o = st.a.mark((function t() {
                var e;
                return st.a.wrap((function (t) {
                    for (; ;) switch (t.prev = t.next) {
                        case 0:
                            return this.init(), e = "", t.next = 4, Ui.a.get().then((function (t) {
                                var i;
                                e = null == t || null === (i = t.data) || void 0 === i ? void 0 : i.mid
                            }));
                        case 4:
                            "928123" !== e && "32708587" !== e && "5552021" !== e || (this.maxOptionsCount = 9999), this.$bpreport.pv({
                                spmId: "444.41",
                                logId: "000391",
                                event: "poll_visit",
                                data: {type: "web"}
                            });
                        case 6:
                        case"end":
                            return t.stop()
                    }
                }), t, this)
            })), r = function () {
                var t = this, e = arguments;
                return new Promise((function (i, n) {
                    var r = o.apply(t, e);

                    function a(t) {
                        Vi(r, i, n, a, s, "next", t)
                    }

                    function s(t) {
                        Vi(r, i, n, a, s, "throw", t)
                    }

                    a(void 0)
                }))
            }, function () {
                return r.apply(this, arguments)
            })
        }, {
            key: "clear", value: function () {
                this.voteTitle = "", this.typeList = [{name: "文字投票", value: "text"}, {
                    name: "图片投票",
                    value: "image"
                }], this.type = "text", this.optionsCount = 2, this.optionsList = ["", ""], this.optionsImageList = ["", ""], this.moreConfigShow = !1, this.hasIntroduction = !1, this.introduction = "", this.choiceCount = "1", this.duration = String(604800), this.voteId = "", this.errorList = []
            }
        }, {
            key: "init", value: function () {
                this.config && this.config.vote_id ? (this.voteId = this.config.vote_id, this.fetchConfig()) : this.clear()
            }
        }, {
            key: "getOptionsList", value: function () {
                var t = this;
                return this.optionsList.map((function (e, i) {
                    var n = {desc: e.trim()};
                    return "image" === t.type && (n.img_url = t.optionsImageList[i]), n
                }))
            }
        }, {
            key: "setErrorList", value: function (t) {
                this.errorList = t
            }
        }, {
            key: "setTypeValue", value: function (t) {
                this.type = t.value
            }
        }, {
            key: "addIntroduction", value: function () {
                this.hasIntroduction = !0
            }
        }, {
            key: "addOption", value: function () {
                this.optionsCount += 1, this.optionsList.push(""), this.optionsImageList.push("")
            }
        }, {
            key: "deletePrize", value: function (t) {
                this.optionsCount > 2 && (this.optionsCount -= 1, this.optionsList.splice(t - 1, 1), this.optionsImageList.splice(t - 1, 1))
            }
        }, {
            key: "showMoreConfig", value: function () {
                this.moreConfigShow = !0
            }
        }, {
            key: "onImgLoading", value: function (t) {
                var e = t.index;
                this.optionsImageList[e - 1] = "loading", this.$forceUpdate()
            }
        }, {
            key: "onImgSuccess", value: function (t) {
                var e = t.index, i = t.bres;
                this.optionsImageList[e - 1] = i.data.image_url, this.$forceUpdate();
                var n = this.errorList;
                this.errorList = [], this.errorList = n
            }
        }, {
            key: "onImgFail", value: function (t) {
                var e = t.index, i = t.berr;
                this.optionsImageList[e - 1] = "error", this.$forceUpdate(), this.linkMsg(null, "".concat(i.msg, " ").concat(i.code), "error", !0, !0)
            }
        }, {
            key: "fetchConfig", value: function () {
                var t = this;
                this.bpapi({
                    method: "get",
                    url: "//api.vc.bilibili.com/vote_svr/v1/vote_svr/vote_info",
                    data: {vote_id: this.voteId}
                }).then((function (e) {
                    var i = e.data.info, n = [], o = [];
                    i.options.forEach((function (t) {
                        n[t.idx - 1] = t.desc, 1 === i.type && (o[t.idx - 1] = t.img_url)
                    })), t.optionsList = n, t.optionsImageList = o, t.voteTitle = i.title, i.desc && (t.introduction = i.desc, t.hasIntroduction = !0), t.type = 0 === i.type ? "text" : "image", t.optionsCount = n.length, t.choiceCount = String(i.choice_cnt);
                    var r = i.endtime - (new Date).getTime() / 1e3, a = Math.floor(r / 86400);
                    t.duration = String(a < 3 ? 259200 : a < 7 ? 604800 : 2592e3), t.moreConfigShow = !0, t.optionsList = n
                }), (function (e) {
                    var i = Hi(e);
                    t.linkMsg(null, i, "error", !0, !0)
                }))
            }
        }, {
            key: "onSubmit", value: function () {
                if (this.$bpreport.pv({
                    spmId: "444.41",
                    logId: "000391",
                    event: "dt_poll_submit",
                    data: {from: "create_vote.".concat(this.from || "dynamic", ".web")}
                }), this.isActive) this.apiSubmit(); else {
                    var t = this.errorList[0];
                    this.linkMsg(null, t || "请检查您所填写的全部内容", "success", !0, !0)
                }
            }
        }, {
            key: "apiSubmit", value: function () {
                var t = this, e = this.getOptionsList(), i = {
                    title: this.voteTitle.trim(),
                    desc: this.introduction,
                    type: "text" === this.type ? 0 : 1,
                    choice_cnt: this.choiceCount,
                    duration: parseInt(this.duration, 10),
                    options: e
                }, n = "//api.vc.bilibili.com/vote_svr/v1/vote_svr/create_vote";
                this.voteId && (n = "//api.vc.bilibili.com/vote_svr/v1/vote_svr/update_vote", i.vote_id = this.voteId), this.bpapi({
                    method: "post",
                    url: n,
                    data: {info: i},
                    useBridgeProxy: !0
                }).then((function (e) {
                    t.callNative(e.data.vote_id)
                }), (function (e) {
                    var i = Hi(e);
                    t.linkMsg(null, i, "error", !0, !0)
                }))
            }
        }, {
            key: "callNative", value: function (t) {
                var e = {vote_id: t, default_text: this.voteId ? "" : this.defaultText, title: this.voteTitle};
                this.postMessage(e)
            }
        }, {
            key: "postMessage", value: function (t) {
                this.$emit("vote-create", t)
            }
        }, {
            key: "onCancel", value: function () {
                this.$emit("cancel")
            }
        }, {
            key: "isActive", get: function () {
                var t = [], e = this.voteTitle.trim();
                e || t.push("请填写标题"), e.length > 32 && t.push("标题请不要超过32个字"), this.introduction.length > 100 && t.push("描述请不要超过100个字");
                for (var i = this.optionsImageList, n = Math.max(this.optionsCount, this.optionsImageList.length, this.optionsList.length), o = 0; o < n; o += 1) "image" !== this.type || i[o] && "loading" !== i[o] && "error" !== i[o] || t.push("请上传图片"), this.optionsList[o].trim() || t.push("请填写完所有选项");
                return this.setErrorList(t), !(this.errorList.length > 0)
            }
        }, {
            key: "choiceCountList", get: function () {
                for (var t = [{
                    label: "单选",
                    value: "1"
                }], e = 1; e < this.optionsCount; e += 1) t.push({
                    label: "最多选".concat(e + 1, "项"),
                    value: String(e + 1)
                });
                return t
            }
        }, {
            key: "zIndexStyle", get: function () {
                return "z-index: ".concat(this.zIndex || 2, ";")
            }
        }]) && Wi(e.prototype, i), n && Wi(e, n), s
    }(l.c);
    Object(c.a)([Object(l.b)(Number)], Zi.prototype, "zIndex", void 0), Object(c.a)([Object(l.b)(Object)], Zi.prototype, "config", void 0), Object(c.a)([Object(l.b)(Boolean)], Zi.prototype, "show", void 0), Object(c.a)([Object(l.b)(String)], Zi.prototype, "from", void 0), Object(c.a)([Object(l.d)("optionsCount")], Zi.prototype, "onOptionsCountChange", null), Object(c.a)([Object(l.d)("show")], Zi.prototype, "onShowChange", null), Object(c.a)([Object(l.d)("config")], Zi.prototype, "onConfigChange", null);
    var Xi = Zi = Object(c.a)([Object(l.a)({
        name: "create",
        components: {BpAddButton: Ae, BpButton: Fe, BpInput: Qe, BpRadio: li, BpSelector: bi, BpUpload: Ei, BpTitle: $i}
    })], Zi), Qi = (i(418), Object(M.a)(Xi, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "bp-vote-container"}, [i("transition", {attrs: {name: "move-in"}}, [i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.show,
                expression: "show"
            }], staticClass: "create-vote", style: t.zIndexStyle
        }, [i("div", {staticClass: "main-content"}, [i("div", {staticClass: "group"}, [i("bp-title", [t._v("投票标题")]), i("bp-input", {
            attrs: {
                placeholder: "请填写标题",
                maxlength: "32",
                "data-model": "voteTitle"
            }, model: {
                value: t.voteTitle, callback: function (e) {
                    t.voteTitle = e
                }, expression: "voteTitle"
            }
        }), t.hasIntroduction ? t._e() : i("bp-add-button", {on: {click: t.addIntroduction}}, [t._v("添加说明\n          ")]), t.hasIntroduction ? i("bp-title", [t._v("投票说明")]) : t._e(), t.hasIntroduction ? i("bp-input", {
            attrs: {
                type: "textarea",
                maxlength: "100",
                placeholder: "请填写投票说明(选填)",
                "data-model": "introduction"
            }, model: {
                value: t.introduction, callback: function (e) {
                    t.introduction = e
                }, expression: "introduction"
            }
        }) : t._e()], 1), i("div", {staticClass: "group"}, [i("bp-title", [i("span", [t._v("投票类型")]), t._l(t.typeList, (function (e) {
            return i("bp-radio", {
                key: e.value,
                attrs: {slot: "right", checked: e.value === t.type, value: e.value, name: "at-config"},
                on: {
                    click: function (i) {
                        return t.setTypeValue(e)
                    }
                },
                slot: "right"
            }, [t._v("\n              " + t._s(e.name) + "\n            ")])
        }))], 2)], 1), i("div", {staticClass: "group"}, [i("bp-title", [t._v("投票选项")]), t._l(t.optionsCount, (function (e) {
            return i("bp-input", {
                key: e,
                attrs: {
                    placeholder: "请填写选项内容" + e,
                    type: "text",
                    maxlength: t.maxTextLength,
                    "data-model": "number" + (e - 1)
                },
                model: {
                    value: t.optionsList[e - 1], callback: function (i) {
                        t.$set(t.optionsList, e - 1, i)
                    }, expression: "optionsList[index - 1]"
                }
            }, ["image" === t.type ? i("bp-upload", {
                attrs: {slot: "prefix", index: e, url: t.optionsImageList[e - 1]},
                on: {loading: t.onImgLoading, success: t.onImgSuccess, fail: t.onImgFail},
                slot: "prefix"
            }) : t._e(), t.optionsCount > 2 ? i("div", {
                staticClass: "option-delete",
                attrs: {slot: "suffix"},
                on: {
                    click: function (i) {
                        return i.preventDefault(), i.stopPropagation(), t.deletePrize(e)
                    }
                },
                slot: "suffix"
            }) : t._e()], 1)
        })), t.optionsCount < t.maxOptionsCount ? i("bp-add-button", {on: {click: t.addOption}}, [t._v("添加选项\n          ")]) : t._e()], 2), i("div", {staticClass: "group"}, [i("bp-title", [t._v("更多设置")]), i("bp-title", [i("span", [t._v("单选/多选")]), i("bp-selector", {
            attrs: {
                slot: "right",
                options: t.choiceCountList
            }, slot: "right", model: {
                value: t.choiceCount, callback: function (e) {
                    t.choiceCount = e
                }, expression: "choiceCount"
            }
        })], 1), i("bp-title", [i("span", [t._v("投票时长")]), i("bp-selector", {
            attrs: {
                slot: "right",
                options: t.durationList
            }, slot: "right", model: {
                value: t.duration, callback: function (e) {
                    t.duration = e
                }, expression: "duration"
            }
        })], 1)], 1)]), i("div", {staticClass: "button-bar"}, [i("bp-button", {on: {click: t.onCancel}}, [t._v("取消")]), i("bp-button", {
            attrs: {status: t.isActive ? "active" : "disable"},
            on: {click: t.onSubmit}
        }, [t._v(t._s(t.voteId ? "更新投票" : "发起投票") + "\n        ")])], 1)])])], 1)
    }), [], !1, null, "4b97839a", null).exports);
    o.a.use(Object(r.a)()), o.a.use(s.b), o.a.use(xe.b, {
        click: {spmId: "444.41", logId: "000391"},
        pv: {spmId: "444.41", logId: "000391"}
    });
    var tn = Qi;

    function en(t) {
        return (en = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function nn(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function on(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function rn(t, e) {
        return (rn = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function an(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = cn(t);
            if (e) {
                var o = cn(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return sn(this, i)
        }
    }

    function sn(t, e) {
        return !e || "object" !== en(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function cn(t) {
        return (cn = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var ln = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && rn(t, e)
        }(r, t);
        var e, i, n, o = an(r);

        function r() {
            var t;
            return nn(this, r), (t = o.apply(this, arguments)).text = "", t.voteBoxShown = !1, t.voteConfig = {}, t
        }

        return e = r, (i = [{
            key: "onVoteIndexChanged", value: function (t) {
                t < 0 ? this.clearCtrl() : this.updateCtrl()
            }
        }, {
            key: "onLotteryBoxShown", value: function (t) {
                this.bus.$emit("vote-trigger", t)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("text-update", (function (e) {
                    t.text = e
                })), this.bus.$on("vote-restore", this.restoreFromDraft), this.bus.$on("vote-item-click", (function () {
                    t.voteBoxShown = !0
                }))
            }
        }, {
            key: "triggerVoteBoxShow", value: function () {
                this.voteBoxShown = !0
            }
        }, {
            key: "onVoteCreate", value: function (t) {
                var e = this, i = t.default_text, n = t.title, o = t.vote_id, r = this.voteConfig.vote_id === o,
                    a = this.voteConfig.title || "";
                if (this.voteConfig = t, this.onVoteCancel(), r) this.bus.$emit("replace", {
                    oldStr: "​".concat(a),
                    newStr: "​".concat(n)
                }), setTimeout((function () {
                    e.updateCtrl()
                })); else {
                    var s = "".concat(i, " ​").concat(n, " ");
                    this.bus.$emit("insert", s), setTimeout((function () {
                        e.updateCtrl()
                    }))
                }
            }
        }, {
            key: "clearCtrl", value: function () {
                this.voteConfig = {}, this.onVoteCancel(), this.bus.$emit("update-ctrl", {vote: []}), this.bus.$emit("update-extension", {vote: null})
            }
        }, {
            key: "updateCtrl", value: function () {
                var t = [{
                    data: String(this.voteConfig.title.length + 1),
                    length: 0,
                    location: this.voteIndex,
                    type: 3
                }], e = {vote_id: this.voteConfig.vote_id, title: this.voteConfig.title};
                this.bus.$emit("update-ctrl", {vote: t}), this.bus.$emit("update-extension", {vote: e})
            }
        }, {
            key: "onVoteCancel", value: function () {
                this.voteBoxShown = !1
            }
        }, {
            key: "restoreFromDraft", value: function (t) {
                var e = t.ctrl, i = t.extension;
                if (e && i) {
                    var n = e.location + 1, o = Number(e.data) - 1, r = this.text.substring(n, n + o);
                    this.voteConfig = {vote_id: i.vote_id, title: r}
                }
            }
        }, {
            key: "voteIndex", get: function () {
                return this.voteConfig.title ? this.text.indexOf("​".concat(this.voteConfig.title)) : -1
            }
        }]) && on(e.prototype, i), n && on(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], ln.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], ln.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], ln.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.d)("voteIndex")], ln.prototype, "onVoteIndexChanged", null), Object(c.a)([Object(l.d)("voteBoxShown")], ln.prototype, "onLotteryBoxShown", null);
    var un = ln = Object(c.a)([Object(l.a)({name: "vote-box", components: {Vote: tn}})], ln),
        dn = (i(419), Object(M.a)(un, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "vote-box"}, [e("button", {
                staticClass: "box-toggle icon-vote",
                class: {active: this.voteBoxShown},
                attrs: {title: "发起投票"},
                on: {click: this.triggerVoteBoxShow}
            }), e("vote", {
                staticClass: "vote-popup",
                attrs: {show: this.voteBoxShown, config: this.voteConfig},
                on: {"vote-create": this.onVoteCreate, cancel: this.onVoteCancel}
            })], 1)
        }), [], !1, null, "667ed540", null).exports);
    i(420);

    function hn(t) {
        return (hn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fn(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function pn(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function mn(t, e) {
        return (mn = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function vn(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = yn(t);
            if (e) {
                var o = yn(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return gn(this, i)
        }
    }

    function gn(t, e) {
        return !e || "object" !== hn(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function yn(t) {
        return (yn = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var bn = function (t) {
            !function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && mn(t, e)
            }(r, t);
            var e, i, n, o = vn(r);

            function r() {
                return fn(this, r), o.apply(this, arguments)
            }

            return e = r, (i = [{
                key: "beforeCreate", value: function () {
                }
            }, {
                key: "created", value: function () {
                }
            }, {
                key: "beforeMount", value: function () {
                }
            }, {
                key: "mounted", value: function () {
                }
            }, {
                key: "beforeDestroy", value: function () {
                }
            }, {
                key: "destroyed", value: function () {
                }
            }, {
                key: "onClick", value: function (t) {
                    this.$emit("click", t)
                }
            }]) && pn(e.prototype, i), n && pn(e, n), r
        }(l.c), _n = bn = Object(c.a)([Object(l.a)({name: "bp-add-button", components: {}})], bn),
        wn = (i(421), Object(M.a)(_n, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("button", {
                staticClass: "bp-add-button",
                on: {click: this.onClick}
            }, [e("i", {staticClass: "add-icon"}), this._t("default")], 2)
        }), [], !1, null, "da335d44", null).exports);

    function Cn(t) {
        return (Cn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xn(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function kn(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function In(t, e) {
        return (In = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Sn(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Tn(t);
            if (e) {
                var o = Tn(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return On(this, i)
        }
    }

    function On(t, e) {
        return !e || "object" !== Cn(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Tn(t) {
        return (Tn = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var En = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && In(t, e)
        }(r, t);
        var e, i, n, o = Sn(r);

        function r() {
            return xn(this, r), o.apply(this, arguments)
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "onClick", value: function (t) {
                this.$emit("click", t)
            }
        }, {
            key: "buttonClassArray", get: function () {
                var t = [];
                switch (this.status) {
                    case"active":
                        t = t.concat(["active", "no-border"])
                }
                return t
            }
        }]) && kn(e.prototype, i), n && kn(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)(String)], En.prototype, "status", void 0);
    var Pn = En = Object(c.a)([Object(l.a)({name: "bp-button", components: {}})], En),
        Ln = (i(422), Object(M.a)(Pn, (function () {
            var t = this.$createElement;
            return (this._self._c || t)("div", {
                staticClass: "bp-button",
                class: this.buttonClassArray,
                on: {click: this.onClick}
            }, [this._t("default")], 2)
        }), [], !1, null, "791cd12a", null).exports);

    function jn(t) {
        return (jn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function An(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Mn(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Dn(t, e) {
        return (Dn = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Bn(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Rn(t);
            if (e) {
                var o = Rn(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Nn(this, i)
        }
    }

    function Nn(t, e) {
        return !e || "object" !== jn(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Rn(t) {
        return (Rn = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var $n = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Dn(t, e)
        }(r, t);
        var e, i, n, o = Bn(r);

        function r() {
            var t;
            return An(this, r), (t = o.apply(this, arguments)).isOnFocus = !1, t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "onInput", value: function (t) {
                var e = t.target;
                this.$emit("input", e.value)
            }
        }, {
            key: "onFocus", value: function (t) {
                this.isOnFocus = !0, this.$emit("focus", t)
            }
        }, {
            key: "onBlur", value: function (t) {
                this.isOnFocus = !1, this.$emit("blur", t)
            }
        }, {
            key: "onTextInput", value: function (t) {
                this.$emit("textInput", t)
            }
        }, {
            key: "onKeydown", value: function (t) {
                this.$emit("keyDown", t)
            }
        }, {
            key: "currentlength", get: function () {
                return String(this.value).length || 0
            }
        }]) && Mn(e.prototype, i), n && Mn(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)({
        type: String,
        default: "text"
    })], $n.prototype, "type", void 0), Object(c.a)([Object(l.b)([String, Number])], $n.prototype, "maxlength", void 0), Object(c.a)([Object(l.b)([String, Number])], $n.prototype, "max", void 0), Object(c.a)([Object(l.b)([String, Number])], $n.prototype, "value", void 0), Object(c.a)([Object(l.b)(String)], $n.prototype, "placeholder", void 0);
    var Hn = $n = Object(c.a)([Object(l.a)({name: "bp-input", components: {}})], $n),
        zn = (i(423), Object(M.a)(Hn, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("label", {staticClass: "bp-input"}, ["textarea" === t.type ? [i("div", {
                staticClass: "content-box textarea-box",
                class: {"on-focus": t.isOnFocus}
            }, [i("textarea", {
                staticClass: "textarea",
                attrs: {placeholder: t.placeholder, maxlength: t.maxlength},
                domProps: {value: t.value},
                on: {input: t.onInput, focus: t.onFocus, blur: t.onBlur}
            }), i("div", {staticClass: "indicator"}, [t._v(t._s(t.currentlength) + "/" + t._s(t.maxlength))])])] : t._e(), "textarea" !== t.type ? [i("div", {
                staticClass: "content-box input-box",
                class: {"on-focus": t.isOnFocus}
            }, [t._t("prefix"), i("input", {
                staticClass: "input",
                class: "input-" + t.type,
                attrs: {type: t.type, placeholder: t.placeholder, maxlength: t.maxlength, max: t.max},
                domProps: {value: t.value},
                on: {input: t.onInput, textInput: t.onTextInput, keydown: t.onKeydown, focus: t.onFocus, blur: t.onBlur}
            }), "number" !== t.type ? i("div", {staticClass: "indicator"}, [t._v(t._s(t.currentlength) + "/" + t._s(t.maxlength) + "\n      ")]) : t._e()], 2), t._t("suffix")] : t._e()], 2)
        }), [], !1, null, "54972c91", null).exports);

    function Un(t) {
        return (Un = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Fn(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Vn(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Gn(t, e) {
        return (Gn = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Wn(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Jn(t);
            if (e) {
                var o = Jn(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return qn(this, i)
        }
    }

    function qn(t, e) {
        return !e || "object" !== Un(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Jn(t) {
        return (Jn = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Yn = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Gn(t, e)
        }(r, t);
        var e, i, n, o = Wn(r);

        function r() {
            return Fn(this, r), o.apply(this, arguments)
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "onClick", value: function (t) {
                this.$emit("click", t)
            }
        }]) && Vn(e.prototype, i), n && Vn(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)(Boolean)], Yn.prototype, "checked", void 0), Object(c.a)([Object(l.b)([String, Number, Boolean])], Yn.prototype, "value", void 0), Object(c.a)([Object(l.b)(String)], Yn.prototype, "name", void 0);
    var Kn = Yn = Object(c.a)([Object(l.a)({name: "bp-radio", components: {}})], Yn),
        Zn = (i(424), Object(M.a)(Kn, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("label", {
                staticClass: "bp-radio",
                on: {click: this.onClick}
            }, [e("div", {
                staticClass: "radio-icon",
                class: {checked: this.checked}
            }), e("input", {
                staticClass: "radio-input",
                attrs: {type: "radio", name: this.name},
                domProps: {value: this.value, checked: this.checked}
            }), this._t("default")], 2)
        }), [], !1, null, "1f0bb9fe", null).exports);

    function Xn(t) {
        return (Xn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Qn(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function to(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function eo(t, e) {
        return (eo = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function io(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = oo(t);
            if (e) {
                var o = oo(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return no(this, i)
        }
    }

    function no(t, e) {
        return !e || "object" !== Xn(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function oo(t) {
        return (oo = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var ro = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && eo(t, e)
        }(r, t);
        var e, i, n, o = io(r);

        function r() {
            return Qn(this, r), o.apply(this, arguments)
        }

        return e = r, (i = [{
            key: "onValueChange", value: function (t) {
                var e = t.target;
                this.$emit("input", e.value)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }]) && to(e.prototype, i), n && to(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)([String, Number])], ro.prototype, "value", void 0), Object(c.a)([Object(l.b)(Array)], ro.prototype, "options", void 0);
    var ao = ro = Object(c.a)([Object(l.a)({name: "bp-selector", components: {}})], ro),
        so = (i(425), Object(M.a)(ao, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("label", {staticClass: "bp-selector"}, [i("select", {
                staticClass: "selector",
                domProps: {value: t.value},
                on: {change: t.onValueChange}
            }, t._l(t.options, (function (e) {
                return i("option", {key: e.value, domProps: {value: e.value}}, [t._v(t._s(e.label) + "\n    ")])
            })), 0), i("i", {staticClass: "more-icon"})])
        }), [], !1, null, "1d49d04b", null).exports);

    function co(t) {
        return (co = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function lo(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function uo(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function ho(t, e) {
        return (ho = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function fo(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = mo(t);
            if (e) {
                var o = mo(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return po(this, i)
        }
    }

    function po(t, e) {
        return !e || "object" !== co(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function mo(t) {
        return (mo = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var vo = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ho(t, e)
        }(r, t);
        var e, i, n, o = fo(r);

        function r() {
            var t;
            return lo(this, r), (t = o.apply(this, arguments)).formatList = ["jpg", "jpeg", "png"], t.maxMByte = 20, t.minWidth = 10, t.minHeight = 10, t.errorType = {
                mbyte: "图片大小请勿超过20M",
                size: "图片宽高均不得小于10像素",
                format: "仅支持JPG PNG格式的图片"
            }, t
        }

        return e = r, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "imageBoxUrl", value: function () {
                var t = this.url;
                return "string" == typeof t && "loading" !== t && "error" !== t ? (t = Object(wt.bfsImgLink)(t.replace(/^(https?:)|^(\/\/)/, ""), 56, 56, {c: 1}), "background-image: url(".concat(t, "); background-size: cover;")) : ""
            }
        }, {
            key: "checkFormat", value: function (t) {
                for (var e = 0, i = this.formatList.length; e < i; e += 1) if (t.indexOf(this.formatList[e]) > -1) return !0;
                return !1
            }
        }, {
            key: "checkImage", value: function (t, e, i, n) {
                return this.checkFormat(t) ? Math.floor(e / 1024 / 1024) >= this.maxMByte ? this.errorType.mbyte : (i < this.minWidth || n < this.minHeight) && this.errorType.size : this.errorType.format
            }
        }, {
            key: "callFileDialog", value: function () {
                var t = this, e = document.createElement("input");
                e.type = "file", e.accept = "image/png, image/jpeg, image/jpg, image/gif", e.name = "upload", e.addEventListener("change", (function (e) {
                    var i = e.target || e.srcElement, n = i && i.files || [];
                    if (n && n.length > 0) {
                        var o = n[0], r = t.checkImage(o.type, o.size, 20, 20);
                        if (r) return void t.linkMsg(null, r, "error", !0, !0);
                        var a = new Image;
                        a.src = window.URL ? window.URL.createObjectURL(o) : window.webkitURL.createObjectURL(o), a.onload = function () {
                            var e = t.checkImage(o.type, o.size, a.width, a.height);
                            e ? t.linkMsg(null, e, "error", !0, !0) : (t.$emit("loading", {index: t.index}), t.uploadImage(n[0]).then((function (e) {
                                t.$emit("success", {index: t.index, bres: e})
                            }), (function (e) {
                                t.$emit("fail", {index: t.index, berr: e})
                            })))
                        }
                    }
                })), e.click(), window.upload_input = e, e = null
            }
        }, {
            key: "uploadImage", value: function (t) {
                var e = new FormData;
                return e.append("file_up", t), e.append("biz", "draw"), e.append("category", "daily"), this.bpapi({
                    url: "//api.vc.bilibili.com/api/v1/drawImage/upload",
                    method: "post",
                    data: e,
                    headers: {"Content-Type": "multipart/form-data"}
                })
            }
        }]) && uo(e.prototype, i), n && uo(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)(Number)], vo.prototype, "index", void 0), Object(c.a)([Object(l.b)(String)], vo.prototype, "url", void 0);
    var go = vo = Object(c.a)([Object(l.a)({name: "bp-upload", components: {}})], vo),
        yo = (i(426), Object(M.a)(go, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                staticClass: "bp-upload", on: {
                    click: function (e) {
                        return t.callFileDialog(t.index)
                    }
                }
            }, [t.url ? i("div", {
                staticClass: "image-box",
                class: t.url,
                style: t.imageBoxUrl(t.index)
            }, [i("div", {staticClass: "change-tip"}, [t._v("更改")])]) : t._e(), t.url ? t._e() : i("div", {staticClass: "image-box"}), i("div", {staticClass: "bg-color"})])
        }), [], !1, null, "17892e73", null).exports);

    function bo(t) {
        return (bo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _o(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function wo(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Co(t, e) {
        return (Co = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function xo(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Io(t);
            if (e) {
                var o = Io(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return ko(this, i)
        }
    }

    function ko(t, e) {
        return !e || "object" !== bo(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Io(t) {
        return (Io = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var So = function (t) {
            !function (t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Co(t, e)
            }(r, t);
            var e, i, n, o = xo(r);

            function r() {
                return _o(this, r), o.apply(this, arguments)
            }

            return e = r, (i = [{
                key: "beforeCreate", value: function () {
                }
            }, {
                key: "created", value: function () {
                }
            }, {
                key: "beforeMount", value: function () {
                }
            }, {
                key: "mounted", value: function () {
                }
            }, {
                key: "beforeDestroy", value: function () {
                }
            }, {
                key: "destroyed", value: function () {
                }
            }]) && wo(e.prototype, i), n && wo(e, n), r
        }(l.c), Oo = So = Object(c.a)([Object(l.a)({name: "bp-title", components: {}})], So),
        To = (i(427), Object(M.a)(Oo, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "title"}, [e("div", {staticClass: "title-content"}, [this._t("default")], 2), e("div", {staticClass: "slot-right"}, [this._t("right")], 2)])
        }), [], !1, null, "28adec7b", null).exports);

    function Eo(t) {
        return (Eo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Po(t, e, i) {
        return (Po = Ro() ? Reflect.construct : function (t, e, i) {
            var n = [null];
            n.push.apply(n, e);
            var o = new (Function.bind.apply(t, n));
            return i && Bo(o, i.prototype), o
        }).apply(null, arguments)
    }

    function Lo(t) {
        return function (t) {
            if (Array.isArray(t)) return jo(t)
        }(t) || function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
        }(t) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return jo(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return jo(t, e)
        }(t) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function jo(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    function Ao(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function Mo(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Do(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Bo(t, e) {
        return (Bo = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function No(t, e) {
        return !e || "object" !== Eo(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ro() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
            }))), !0
        } catch (t) {
            return !1
        }
    }

    function $o(t) {
        return ($o = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Ho = {dynamic: 1, comment: 9, article: 64, archive: 8}, zo = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Bo(t, e)
        }(l, t);
        var e, i, n, o, r, a, s, c = (e = l, i = Ro(), function () {
            var t, n = $o(e);
            if (i) {
                var o = $o(this).constructor;
                t = Reflect.construct(n, arguments, o)
            } else t = n.apply(this, arguments);
            return No(this, t)
        });

        function l() {
            var t;
            return Mo(this, l), (t = c.apply(this, arguments)).loaded = !1, t.maxCount = 100, t.isSpecial = !1, t.lid = 0, t.atConfig = 0, t.followList = [{
                name: "不限制",
                value: 0
            }, {
                name: "关注我",
                value: 1
            }], t.followConfig = 1, t.prizeCount = 1, t.firstPrizeNum = "", t.secondPrizeNum = "", t.thirdPrizeNum = "", t.firstPrizeInfo = {
                needMail: "",
                desc: "",
                imgUrl: ""
            }, t.secondPrizeInfo = {needMail: "", desc: "", imgUrl: ""}, t.thirdPrizeInfo = {
                needMail: "",
                desc: "",
                imgUrl: ""
            }, t.mailRadioList = [{name: "需邮寄", value: !0}, {
                name: "不需邮寄",
                value: !1
            }], t.time = null, t.errorList = [], t.formatList = ["jpg", "jpeg", "png"], t.maxMByte = 20, t.minWidth = 10, t.minHeight = 10, t.errorType = {
                mbyte: "图片大小请勿超过20M",
                size: "图片宽高均不得小于10像素",
                format: "仅支持JPG PNG格式的图片"
            }, t.maxTimes = 1, t.lotteryTimes = 0, t.minDatetime = "", t.maxDatetime = "", t.realShow = !1, t.datePickerMinDate = Date.now() + 3e5, t.datePickerMaxDate = Date.now() + 7776e6, t.updateTimePid = 0, t.datePickerShown = !0, t
        }

        return n = l, (o = [{
            key: "onShowChange", value: function (t) {
                var e = this;
                t ? this.fetchLotteryTimes().then((function () {
                    e.haveLeftTimes ? (e.realShow = t, e.init()) : (e.linkMsg(null, "本月您发起抽奖次数已达到上限\n（每月上限为1次），下月再来吧~", "error", !0, !0), e.onCancel())
                })).catch((function () {
                    e.linkMsg(null, "本月您发起抽奖次数已达到上限\n（每月上限为1次），下月再来吧~", "error", !0, !0), e.onCancel()
                })) : this.realShow = t
            }
        }, {
            key: "onConfigChange", value: function () {
                this.init()
            }
        }, {
            key: "created", value: function () {
                var t = this;
                this.updateTimePid = setInterval((function () {
                    t.datePickerMinDate = Date.now() + 3e5, t.datePickerMaxDate = Date.now() + 7776e6
                }), 6e4)
            }
        }, {
            key: "beforeDestroy", value: function () {
                clearInterval(this.updateTimePid)
            }
        }, {
            key: "mounted", value: (a = st.a.mark((function t() {
                var e = this;
                return st.a.wrap((function (t) {
                    for (; ;) switch (t.prev = t.next) {
                        case 0:
                            return this.updateMinMaxDatetime(), t.next = 3, Ui.a.get().then((function (t) {
                                var i = t.data, n = String(i.mid);
                                "208259" !== n && "167388493" !== n && "6810576" !== n || (e.maxCount = 1e4, e.isSpecial = !0), e.isFromComment && (e.followConfig = 0)
                            }));
                        case 3:
                        case"end":
                            return t.stop()
                    }
                }), t, this)
            })), s = function () {
                var t = this, e = arguments;
                return new Promise((function (i, n) {
                    var o = a.apply(t, e);

                    function r(t) {
                        Ao(o, i, n, r, s, "next", t)
                    }

                    function s(t) {
                        Ao(o, i, n, r, s, "throw", t)
                    }

                    r(void 0)
                }))
            }, function () {
                return s.apply(this, arguments)
            })
        }, {
            key: "init", value: function () {
                var t = this;
                this.config && this.config.lottery_id ? (this.lid = this.config.lottery_id, this.bpapi({
                    method: "get",
                    url: "//api.vc.bilibili.com/lottery_svr/v1/lottery_svr/lottery_notice",
                    data: {lottery_id: this.lid}
                }).then((function (e) {
                    var i = e.data;
                    t.followConfig = i.lottery_feed_limit, t.firstPrizeNum = i.first_prize, t.secondPrizeNum = i.second_prize, t.thirdPrizeNum = i.third_prize, t.firstPrizeInfo = {
                        needMail: !!(1 & i.need_post),
                        desc: i.first_prize_cmt,
                        imgUrl: i.first_prize_pic
                    }, t.secondPrizeInfo = {
                        needMail: !!(2 & i.need_post),
                        desc: i.second_prize_cmt,
                        imgUrl: i.second_prize_pic
                    }, t.thirdPrizeInfo = {
                        needMail: !!(4 & i.need_post),
                        desc: i.third_prize_cmt,
                        imgUrl: i.third_prize_pic
                    }, t.prizeCount = 1, Number(t.secondPrizeNum) > 0 && (t.prizeCount += 1), Number(t.thirdPrizeNum) > 0 && (t.prizeCount += 1)
                }), (function (e) {
                    var i = "电波无法到达~ ".concat(e.code);
                    t.linkMsg(null, e.msg || i, "error", !0, !0), window.console.error(e)
                }))) : (this.clear(), this.resetDatetime())
            }
        }, {
            key: "clear", value: function () {
                this.followConfig = 1, this.prizeCount = 1, this.firstPrizeNum = "", this.secondPrizeNum = "", this.thirdPrizeNum = "", this.lid = 0, this.firstPrizeInfo = {
                    needMail: "",
                    desc: "",
                    imgUrl: ""
                }, this.secondPrizeInfo = {needMail: "", desc: "", imgUrl: ""}, this.thirdPrizeInfo = {
                    needMail: "",
                    desc: "",
                    imgUrl: ""
                }
            }
        }, {
            key: "getRealDate", value: function (t) {
                if ("string" == typeof t) {
                    var e = t.split(/-|T|:/g);
                    return e[1] = String(parseInt(e[1], 10) - 1), Po(Date, Lo(e))
                }
                return new Date(t)
            }
        }, {
            key: "toISOString", value: function (t, e) {
                var i = new Date;
                return t && (i = this.getRealDate(t)), new Date(i.getTime() - 6e4 * i.getTimezoneOffset() + e).toISOString().match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/)[0]
            }
        }, {
            key: "updateMinMaxDatetime", value: function () {
                this.minDatetime = this.toISOString(0, 3e5), this.maxDatetime = this.toISOString(0, 7776e6)
            }
        }, {
            key: "resetDatetime", value: function () {
                var t = this;
                this.time = null, this.datePickerShown = !1, setTimeout((function () {
                    t.datePickerShown = !0
                }), 0)
            }
        }, {
            key: "setFollowValue", value: function (t) {
                this.followConfig = t.value
            }
        }, {
            key: "setPrizeRadio", value: function (t, e) {
                this[t].needMail = e.value
            }
        }, {
            key: "addPrize", value: function () {
                this.prizeCount += 1
            }
        }, {
            key: "deletePrize", value: function (t) {
                2 === t && 2 === this.prizeCount ? (this.secondPrizeNum = "", this.secondPrizeInfo = {
                    needMail: "",
                    desc: "",
                    imgUrl: ""
                }, this.thirdPrizeNum = "", this.thirdPrizeInfo = {
                    needMail: "",
                    desc: "",
                    imgUrl: ""
                }) : 2 === t && 3 === this.prizeCount ? (this.secondPrizeNum = this.thirdPrizeNum, this.secondPrizeInfo = this.thirdPrizeInfo, this.thirdPrizeNum = "", this.thirdPrizeInfo = {
                    needMail: "",
                    desc: "",
                    imgUrl: ""
                }) : 3 === t && (this.thirdPrizeNum = "", this.thirdPrizeInfo = {
                    needMail: "",
                    desc: "",
                    imgUrl: ""
                }), this.prizeCount -= 1
            }
        }, {
            key: "onDatetimeOnChange", value: function () {
                return this.updateMinMaxDatetime(), !this.time || this.time.getTime() < this.getRealDate(this.minDatetime).getTime() ? (this.linkMsg(null, "开奖不可早于当前时间后5分钟", "info", !0, !0), !1) : !(this.time.getTime() > this.getRealDate(this.maxDatetime).getTime() && (this.linkMsg(null, "最长可设置90天后", "info", !0, !0), 1))
            }
        }, {
            key: "onNumberBlur", value: function () {
                (Number(this.firstPrizeNum) || 0) > this.maxCount ? (this.firstPrizeNum = this.maxCount, this.linkMsg(null, "最大可设置为".concat(this.maxCount), "info", !0, !0)) : (Number(this.firstPrizeNum) || 0) <= 0 && (this.firstPrizeNum = ""), this.prizeCount > 1 && (Number(this.secondPrizeNum) || 0) > this.maxCount ? (this.secondPrizeNum = this.maxCount, this.linkMsg(null, "最大可设置为".concat(this.maxCount), "info", !0, !0)) : this.prizeCount > 1 && (Number(this.secondPrizeNum) || 0) <= 0 && (this.secondPrizeNum = ""), this.prizeCount > 2 && (Number(this.thirdPrizeNum) || 0) > this.maxCount ? (this.thirdPrizeNum = this.maxCount, this.linkMsg(null, "最大可设置为".concat(this.maxCount), "info", !0, !0)) : this.prizeCount > 2 && (Number(this.thirdPrizeNum) || 0) <= 0 && (this.thirdPrizeNum = "")
            }
        }, {
            key: "onTextInput", value: function (t) {
                Number(t.data) || 0 === t.data || "0" === t.data || t.preventDefault()
            }
        }, {
            key: "onKeyDown", value: function (t) {
                "ArrowDown" !== t.key && "ArrowUp" !== t.key || t.preventDefault()
            }
        }, {
            key: "filterImgError", value: function (t) {
                return "loading" === t || "error" === t ? "" : t
            }
        }, {
            key: "fetchLotteryTimes", value: function () {
                var t = this, e = {business_type: Ho[this.from] || 1};
                return this.bpapi({
                    method: "get",
                    url: "//api.vc.bilibili.com/lottery_svr/v1/lottery_svr/query_lottery_times",
                    data: e
                }).then((function (e) {
                    t.loaded = !0, t.lotteryTimes = e.data.lottery_times, t.maxTimes = e.data.max_times, t.lotteryTimes >= t.maxTimes && t.$router.replace("/noTimes")
                })).catch((function () {
                    t.loaded = !0
                }))
            }
        }, {
            key: "onSubmit", value: function (t) {
                if (this.isActive) {
                    if (!0 !== t) {
                        if (!this.isActive) return;
                        if (!this.onDatetimeOnChange()) return
                    }
                    var e = this;
                    this.bpPopup({
                        title: "本月还剩".concat(e.maxTimes - e.lotteryTimes, "次发布抽奖机会，确认发起抽奖吗？"),
                        content: "发起抽奖动态将消耗1次抽奖机会",
                        button: {confirm: "发起抽奖", cancel: "取消"}
                    }).onConfirm((function (t) {
                        e.doSubmit(), t.close()
                    })).onCancel((function (t) {
                        t.close()
                    }))
                } else {
                    var i = this.errorList[0];
                    this.linkMsg(null, i || "请检查您所填写的全部内容", "success", !0, !0)
                }
            }
        }, {
            key: "doSubmit", value: function () {
                var t = this, e = 0;
                this.firstPrizeInfo.needMail && (e += 1), this.secondPrizeInfo.needMail && (e += 2), this.thirdPrizeInfo.needMail && (e += 4);
                var i = {
                    at_num: parseInt(String(this.atConfig), 10),
                    feed_limit: parseInt(String(this.followConfig), 10),
                    first_prize: parseInt(String(this.firstPrizeNum), 10) || void 0,
                    second_prize: parseInt(String(this.secondPrizeNum), 10) || void 0,
                    third_prize: parseInt(String(this.thirdPrizeNum), 10) || void 0,
                    lottery_time: this.getRealDate(this.time).getTime() / 1e3,
                    need_post: e,
                    first_prize_cmt: this.firstPrizeInfo.desc || void 0,
                    second_prize_cmt: this.secondPrizeInfo.desc || void 0,
                    third_prize_cmt: this.thirdPrizeInfo.desc || void 0,
                    first_prize_pic: this.filterImgError(this.firstPrizeInfo.imgUrl) || void 0,
                    second_prize_pic: this.filterImgError(this.secondPrizeInfo.imgUrl) || void 0,
                    third_prize_pic: this.filterImgError(this.thirdPrizeInfo.imgUrl) || void 0,
                    business_type: Ho[this.from] || 1
                }, n = "create";
                this.lid && (i.lottery_id = this.lid, n = "update"), this.bpapi({
                    method: "post",
                    url: "//api.vc.bilibili.com/lottery_svr/v1/lottery_svr/".concat(n, "_lottery"),
                    data: i
                }).then((function (e) {
                    var n = {
                        lottery_id: e.data.lottery_id,
                        lottery_time: i.lottery_time,
                        title: t.isFromComment ? "评论抽奖" : "互动抽奖"
                    };
                    t.$emit("lottery-create", n)
                }), (function (e) {
                    var i = "";
                    i = 4100003 === e.code ? "本月您发起抽奖次数已达到上限\n（每月上限为1次），下月再来吧~" : e.msg, t.linkMsg(null, i || e.msg, "error", !0, !0), window.console.error(e)
                }))
            }
        }, {
            key: "onCancel", value: function () {
                this.$emit("cancel")
            }
        }, {
            key: "onImgLoading", value: function (t, e) {
                this[e].imgUrl = "loading"
            }
        }, {
            key: "onImgSuccess", value: function (t, e) {
                var i = t.bres;
                this[e].imgUrl = i.data.image_url, this.$forceUpdate();
                var n = this.errorList;
                this.errorList = [], this.errorList = n
            }
        }, {
            key: "onImgFail", value: function (t, e) {
                var i = t.berr;
                this[e].imgUrl = "error", this.$forceUpdate(), this.linkMsg(null, "".concat(i.msg, " ").concat(i.code), "error", !0, !0)
            }
        }, {
            key: "deleteImg", value: function (t) {
                this[t].imgUrl = "", this.$forceUpdate()
            }
        }, {
            key: "haveLeftTimes", get: function () {
                return this.lotteryTimes < this.maxTimes
            }
        }, {
            key: "isActive", get: function () {
                var t = [];
                return this.haveLeftTimes || t.push("本月您发起抽奖次数已达到上限\n（每月上限为1次），下月再来吧~"), (1 === this.prizeCount && (Number(this.firstPrizeNum) < 1 || Number(this.firstPrizeNum) > this.maxCount) || 2 === this.prizeCount && (Number(this.secondPrizeNum) < 1 || Number(this.secondPrizeNum) > this.maxCount) || 3 === this.prizeCount && (Number(this.thirdPrizeNum) < 1 || Number(this.thirdPrizeNum) > this.maxCount)) && t.push("获奖人数最少1人，最多".concat(this.maxCount, "人")), (1 === this.prizeCount && "" === this.firstPrizeInfo.needMail || 2 === this.prizeCount && "" === this.secondPrizeInfo.needMail || 3 === this.prizeCount && "" === this.thirdPrizeInfo.needMail) && t.push("请选择奖品发放方式"), (1 === this.prizeCount && !this.firstPrizeInfo.desc || 2 === this.prizeCount && !this.secondPrizeInfo.desc || 3 === this.prizeCount && !this.thirdPrizeInfo.desc) && t.push("请填写奖品描述"), this.errorList = t, !!(1 === this.prizeCount && Number(this.firstPrizeNum) > 0 && Number(this.firstPrizeNum) <= this.maxCount && "" !== this.firstPrizeInfo.needMail && this.firstPrizeInfo.desc && this.haveLeftTimes) || !!(2 === this.prizeCount && Number(this.firstPrizeNum) > 0 && Number(this.firstPrizeNum) <= this.maxCount && "" !== this.firstPrizeInfo.needMail && this.firstPrizeInfo.desc && Number(this.secondPrizeNum) > 0 && Number(this.secondPrizeNum) <= this.maxCount && "" !== this.secondPrizeInfo.needMail && this.secondPrizeInfo.desc && this.haveLeftTimes) || !!(3 === this.prizeCount && Number(this.firstPrizeNum) > 0 && Number(this.firstPrizeNum) <= this.maxCount && "" !== this.firstPrizeInfo.needMail && this.firstPrizeInfo.desc && Number(this.secondPrizeNum) > 0 && Number(this.secondPrizeNum) <= this.maxCount && "" !== this.secondPrizeInfo.needMail && this.secondPrizeInfo.desc && Number(this.thirdPrizeNum) > 0 && Number(this.thirdPrizeNum) <= this.maxCount && "" !== this.thirdPrizeInfo.needMail && this.thirdPrizeInfo.desc && this.haveLeftTimes)
            }
        }, {
            key: "prizeNumPlaceholder", get: function () {
                return "最多".concat(this.maxCount, "人")
            }
        }, {
            key: "isFromComment", get: function () {
                return "comment" === this.from
            }
        }, {
            key: "conditionDetail", get: function () {
                return this.isFromComment ? "评论稿件即可参与抽奖" : "转发本动态，并符合下列条件可参与抽奖"
            }
        }, {
            key: "zIndexStyle", get: function () {
                return "z-index: ".concat(this.zIndex || 2, ";")
            }
        }]) && Do(n.prototype, o), r && Do(n, r), l
    }(l.c);
    Object(c.a)([Object(l.b)(Number)], zo.prototype, "zIndex", void 0), Object(c.a)([Object(l.b)(Object)], zo.prototype, "config", void 0), Object(c.a)([Object(l.b)(Boolean)], zo.prototype, "show", void 0), Object(c.a)([Object(l.b)({
        type: String,
        default: function () {
            return "dynamic"
        }
    })], zo.prototype, "from", void 0), Object(c.a)([Object(l.d)("show")], zo.prototype, "onShowChange", null), Object(c.a)([Object(l.d)("config")], zo.prototype, "onConfigChange", null);
    var Uo = zo = Object(c.a)([Object(l.a)({
        name: "create",
        components: {
            BpAddButton: wn,
            BpButton: Ln,
            BpInput: zn,
            BpRadio: Zn,
            BpSelector: so,
            BpUpload: yo,
            BpTitle: To,
            DatePicker: Y
        }
    })], zo), Fo = (i(428), Object(M.a)(Uo, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "bp-lottery-container"}, [i("transition", {attrs: {name: "move-in"}}, [i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.realShow,
                expression: "realShow"
            }], staticClass: "create-lottery", style: t.zIndexStyle
        }, [i("div", {staticClass: "main-content"}, [i("div", {staticClass: "group"}, [i("div", {staticClass: "tip condition-title"}, [t._v(t._s(t.conditionDetail))]), i("bp-title", {staticClass: "condition-title"}, [i("span", [t._v("关注条件")]), t._l(t.followList, (function (e) {
            return i("bp-radio", {
                key: e.value,
                attrs: {slot: "right", checked: e.value === t.followConfig, value: e.value, name: "follow-config"},
                on: {
                    click: function (i) {
                        return t.setFollowValue(e)
                    }
                },
                slot: "right"
            }, [t._v("\n              " + t._s(e.name) + "\n            ")])
        }))], 2)], 1), i("div", {staticClass: "group"}, [t.prizeCount > 1 ? i("bp-title", [i("span", {staticClass: "bold-title"}, [t._v("一等奖")])]) : t._e(), i("bp-title", [i("div", [i("span", [t._v("获奖人数")]), i("div", {staticClass: "tip"}, [t._v(t._s(t.prizeNumPlaceholder))])]), i("template", {slot: "right"}, [i("bp-input", {
            staticClass: "number-input",
            attrs: {type: "number", max: t.maxCount, placeholder: "0"},
            on: {blur: t.onNumberBlur, textInput: t.onTextInput, keyDown: t.onKeyDown},
            model: {
                value: t.firstPrizeNum, callback: function (e) {
                    t.firstPrizeNum = e
                }, expression: "firstPrizeNum"
            }
        }), t._v("\n              人\n            ")], 1)], 2), i("bp-title", [i("span", [t._v("奖品发放")]), t._l(t.mailRadioList, (function (e) {
            return i("bp-radio", {
                key: e.value,
                attrs: {
                    slot: "right",
                    checked: e.value === t.firstPrizeInfo.needMail,
                    value: e.value,
                    name: "first-prize-radio"
                },
                on: {
                    click: function (i) {
                        return t.setPrizeRadio("firstPrizeInfo", e)
                    }
                },
                slot: "right"
            }, [t._v("\n              " + t._s(e.name) + "\n            ")])
        }))], 2), i("bp-title", [i("span", [t._v("奖品描述")]), i("bp-input", {
            attrs: {
                slot: "right",
                type: "text",
                maxlength: 20,
                placeholder: "奖品描述信息"
            }, slot: "right", model: {
                value: t.firstPrizeInfo.desc, callback: function (e) {
                    t.$set(t.firstPrizeInfo, "desc", e)
                }, expression: "firstPrizeInfo.desc"
            }
        })], 1), i("bp-title", [i("div", [i("span", [t._v("奖品图片")]), i("div", {staticClass: "tip"}, [t._v("可选")])]), i("template", {slot: "right"}, [i("bp-upload", {
            attrs: {url: t.firstPrizeInfo.imgUrl},
            on: {
                loading: function (e) {
                    return t.onImgLoading(e, "firstPrizeInfo")
                }, success: function (e) {
                    return t.onImgSuccess(e, "firstPrizeInfo")
                }, fail: function (e) {
                    return t.onImgFail(e, "firstPrizeInfo")
                }
            }
        }), t.firstPrizeInfo.imgUrl ? i("button", {
            staticClass: "delete-button", on: {
                click: function (e) {
                    return t.deleteImg("firstPrizeInfo")
                }
            }
        }, [t._v("删除\n              ")]) : t._e()], 1)], 2)], 1), t.prizeCount > 1 ? i("div", {staticClass: "group"}, [i("bp-title", [i("span", {staticClass: "bold-title"}, [t._v("二等奖")]), i("div", {
            staticClass: "delete-button-box",
            attrs: {slot: "right"},
            slot: "right"
        }, [i("button", {
            staticClass: "delete-button", on: {
                click: function (e) {
                    return t.deletePrize(2)
                }
            }
        }, [t._v("删除奖项\n              ")])])]), i("bp-title", [i("div", [i("span", [t._v("获奖人数")]), i("div", {staticClass: "tip"}, [t._v(t._s(t.prizeNumPlaceholder))])]), i("template", {slot: "right"}, [i("bp-input", {
            staticClass: "number-input",
            attrs: {type: "number", max: t.maxCount, placeholder: "0"},
            on: {blur: t.onNumberBlur, textInput: t.onTextInput, keyDown: t.onKeyDown},
            model: {
                value: t.secondPrizeNum, callback: function (e) {
                    t.secondPrizeNum = e
                }, expression: "secondPrizeNum"
            }
        }), t._v("\n              人\n            ")], 1)], 2), i("bp-title", [i("span", [t._v("奖品发放")]), t._l(t.mailRadioList, (function (e) {
            return i("bp-radio", {
                key: e.value,
                attrs: {
                    slot: "right",
                    checked: e.value === t.secondPrizeInfo.needMail,
                    value: e.value,
                    name: "second-prize-radio"
                },
                on: {
                    click: function (i) {
                        return t.setPrizeRadio("secondPrizeInfo", e)
                    }
                },
                slot: "right"
            }, [t._v("\n              " + t._s(e.name) + "\n            ")])
        }))], 2), i("bp-title", [i("span", [t._v("奖品描述")]), i("bp-input", {
            attrs: {
                slot: "right",
                type: "text",
                maxlength: 20,
                placeholder: "奖品描述信息"
            }, slot: "right", model: {
                value: t.secondPrizeInfo.desc, callback: function (e) {
                    t.$set(t.secondPrizeInfo, "desc", e)
                }, expression: "secondPrizeInfo.desc"
            }
        })], 1), i("bp-title", [i("div", [i("span", [t._v("奖品图片")]), i("div", {staticClass: "tip"}, [t._v("可选")])]), i("template", {slot: "right"}, [i("bp-upload", {
            attrs: {
                slot: "right",
                url: t.secondPrizeInfo.imgUrl
            }, on: {
                loading: function (e) {
                    return t.onImgLoading(e, "secondPrizeInfo")
                }, success: function (e) {
                    return t.onImgSuccess(e, "secondPrizeInfo")
                }, fail: function (e) {
                    return t.onImgFail(e, "secondPrizeInfo")
                }
            }, slot: "right"
        }), t.secondPrizeInfo.imgUrl ? i("button", {
            staticClass: "delete-button", on: {
                click: function (e) {
                    return t.deleteImg("secondPrizeInfo")
                }
            }
        }, [t._v("删除\n              ")]) : t._e()], 1)], 2)], 1) : t._e(), t.prizeCount > 2 ? i("div", {staticClass: "group"}, [i("bp-title", [i("span", {staticClass: "bold-title"}, [t._v("三等奖")]), i("div", {
            staticClass: "delete-button-box",
            attrs: {slot: "right"},
            slot: "right"
        }, [i("button", {
            staticClass: "delete-button", on: {
                click: function (e) {
                    return t.deletePrize(3)
                }
            }
        }, [t._v("删除奖项\n              ")])])]), i("bp-title", [i("div", [i("span", [t._v("获奖人数")]), i("div", {staticClass: "tip"}, [t._v(t._s(t.prizeNumPlaceholder))])]), i("template", {slot: "right"}, [i("bp-input", {
            staticClass: "number-input",
            attrs: {type: "number", max: t.maxCount, placeholder: "0"},
            on: {blur: t.onNumberBlur, textInput: t.onTextInput, keyDown: t.onKeyDown},
            model: {
                value: t.thirdPrizeNum, callback: function (e) {
                    t.thirdPrizeNum = e
                }, expression: "thirdPrizeNum"
            }
        }), t._v("\n              人\n            ")], 1)], 2), i("bp-title", [i("span", [t._v("奖品发放")]), t._l(t.mailRadioList, (function (e) {
            return i("bp-radio", {
                key: e.value,
                attrs: {
                    slot: "right",
                    checked: e.value === t.thirdPrizeInfo.needMail,
                    value: e.value,
                    name: "third-prize-radio"
                },
                on: {
                    click: function (i) {
                        return t.setPrizeRadio("thirdPrizeInfo", e)
                    }
                },
                slot: "right"
            }, [t._v("\n              " + t._s(e.name) + "\n            ")])
        }))], 2), i("bp-title", [i("span", [t._v("奖品描述")]), i("bp-input", {
            attrs: {
                slot: "right",
                type: "text",
                maxlength: 20,
                placeholder: "奖品描述信息"
            }, slot: "right", model: {
                value: t.thirdPrizeInfo.desc, callback: function (e) {
                    t.$set(t.thirdPrizeInfo, "desc", e)
                }, expression: "thirdPrizeInfo.desc"
            }
        })], 1), i("bp-title", [i("div", [i("span", [t._v("奖品图片")]), i("div", {staticClass: "tip"}, [t._v("可选")])]), i("template", {slot: "right"}, [i("bp-upload", {
            attrs: {
                slot: "right",
                url: t.thirdPrizeInfo.imgUrl
            }, on: {
                loading: function (e) {
                    return t.onImgLoading(e, "thirdPrizeInfo")
                }, success: function (e) {
                    return t.onImgSuccess(e, "thirdPrizeInfo")
                }, fail: function (e) {
                    return t.onImgFail(e, "thirdPrizeInfo")
                }
            }, slot: "right"
        }), t.thirdPrizeInfo.imgUrl ? i("button", {
            staticClass: "delete-button", on: {
                click: function (e) {
                    return t.deleteImg("thirdPrizeInfo")
                }
            }
        }, [t._v("删除\n              ")]) : t._e()], 1)], 2)], 1) : t._e(), i("div", {staticClass: "group no-border"}, [t.prizeCount < 3 ? i("bp-add-button", {on: {click: t.addPrize}}, [t._v("添加选项\n          ")]) : t._e(), i("div", {staticClass: "tip button-tip"}, [t._v("\n            最多支持3个奖项，每个奖项人数最多100人\n            "), i("br"), t._v("\n            奖品选择需邮寄的，发奖人可在抽奖结果页面查看中奖人收货地址\n          ")])], 1), t.datePickerShown ? i("div", {staticClass: "group"}, [i("bp-title", {staticClass: "datepicker-aligntop"}, [i("span", {staticClass: "datepicker-title"}, [t._v("开奖时间")]), i("div", {
            attrs: {slot: "right"},
            slot: "right"
        }, [i("date-picker", {
            attrs: {min: new Date(t.datePickerMinDate), max: new Date(t.datePickerMaxDate)},
            on: {change: t.onDatetimeOnChange},
            model: {
                value: t.time, callback: function (e) {
                    t.time = e
                }, expression: "time"
            }
        }), i("div", {staticClass: "tip button-tip"}, [t._v("\n                开奖后将自动通过该账号发布开奖公示动态，并通过私信提醒中奖用户\n              ")])], 1)])], 1) : t._e(), i("div", {staticClass: "group datepicker-minheight"}, [i("div", {staticClass: "tip button-tip"}, [t._v("\n            查看\n            "), i("a", {
            staticClass: "btn",
            attrs: {
                href: "https://www.bilibili.com/blackboard/help.html#/?qid=2ddd463b778747d790ce1708ae55b4dc&pid=5b43558f91584f08888ce9c5fd6cb69c",
                target: "_blank"
            }
        }, [t._v("《动态抽奖服务协议》")]), i("a", {
            staticClass: "btn",
            attrs: {
                href: "https://www.bilibili.com/blackboard/help.html#/?qid=b65809ab0d924b3487c6f6a2a9303f22&pid=5b43558f91584f08888ce9c5fd6cb69c",
                target: "_blank"
            }
        }, [t._v("《动态抽奖工具说明》")])])])]), i("div", {staticClass: "button-bar"}, [i("bp-button", {on: {click: t.onCancel}}, [t._v("取消")]), i("bp-button", {
            attrs: {status: t.isActive ? "active" : "disable"},
            on: {click: t.onSubmit}
        }, [t._v(t._s(t.lid ? "更新抽奖" : "发起抽奖") + "\n        ")])], 1)])])], 1)
    }), [], !1, null, "4e90cad6", null).exports);
    o.a.use(Object(r.a)()), o.a.use(s.b), o.a.use(a.a);
    var Vo = Fo;

    function Go(t) {
        return (Go = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Wo(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function qo(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Jo(t, e) {
        return (Jo = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Yo(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Zo(t);
            if (e) {
                var o = Zo(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Ko(this, i)
        }
    }

    function Ko(t, e) {
        return !e || "object" !== Go(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Zo(t) {
        return (Zo = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Xo = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Jo(t, e)
        }(r, t);
        var e, i, n, o = Yo(r);

        function r() {
            var t;
            return Wo(this, r), (t = o.apply(this, arguments)).text = "", t.lotteryBoxShown = !1, t.lotteryConfig = {}, t
        }

        return e = r, (i = [{
            key: "onLotteryIndexChanged", value: function (t) {
                t < 0 ? this.clearCtrl() : this.updateCtrl()
            }
        }, {
            key: "onLotteryBoxShown", value: function (t) {
                this.bus.$emit("lottery-trigger", t)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("text-update", (function (e) {
                    t.text = e
                })), this.bus.$on("lottery-restore", this.restoreFromDraft), this.bus.$on("lottery-item-click", (function () {
                    t.lotteryBoxShown = !0
                }))
            }
        }, {
            key: "triggerLotteryBoxShow", value: function () {
                this.lotteryBoxShown = !0
            }
        }, {
            key: "onLotteryCreate", value: function (t) {
                var e = this, i = this.lotteryConfig.lottery_id === t.lottery_id;
                this.lotteryConfig = t, this.onLotteryCancel();
                var n = t.title;
                if (!i) {
                    var o = "​".concat(n, " ");
                    this.bus.$emit("insert", o), setTimeout((function () {
                        e.updateCtrl()
                    }))
                }
            }
        }, {
            key: "clearCtrl", value: function () {
                this.lotteryConfig = {}, this.onLotteryCancel(), this.bus.$emit("update-ctrl", {lottery: []}), this.bus.$emit("update-extension", {lottery: null})
            }
        }, {
            key: "updateCtrl", value: function () {
                var t = [{
                    data: String(this.lotteryConfig.title.length + 1),
                    length: 0,
                    location: this.lotteryIndex,
                    type: 2
                }], e = {lottery_id: this.lotteryConfig.lottery_id};
                this.bus.$emit("update-ctrl", {lottery: t}), this.bus.$emit("update-extension", {lottery: e})
            }
        }, {
            key: "onLotteryCancel", value: function () {
                this.lotteryBoxShown = !1
            }
        }, {
            key: "restoreFromDraft", value: function (t) {
                var e = t.ctrl, i = t.extension;
                if (e && i) {
                    var n = e.location + 1, o = Number(e.data) - 1, r = this.text.substring(n, n + o);
                    this.lotteryConfig = {lottery_id: i.lottery_id, title: r}
                }
            }
        }, {
            key: "lotteryIndex", get: function () {
                return this.lotteryConfig.title ? this.text.indexOf("​".concat(this.lotteryConfig.title)) : -1
            }
        }]) && qo(e.prototype, i), n && qo(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], Xo.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], Xo.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], Xo.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.d)("lotteryIndex")], Xo.prototype, "onLotteryIndexChanged", null), Object(c.a)([Object(l.d)("lotteryBoxShown")], Xo.prototype, "onLotteryBoxShown", null);
    var Qo = Xo = Object(c.a)([Object(l.a)({name: "lottery-box", components: {Lottery: Vo}})], Xo),
        tr = (i(429), Object(M.a)(Qo, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "lottery-box"}, [e("button", {
                staticClass: "box-toggle icon-lottery",
                class: {active: this.lotteryBoxShown},
                attrs: {title: "发起抽奖"},
                on: {click: this.triggerLotteryBoxShow}
            }), e("lottery", {
                staticClass: "lottery-popup",
                attrs: {show: this.lotteryBoxShown, config: this.lotteryConfig},
                on: {"lottery-create": this.onLotteryCreate, cancel: this.onLotteryCancel}
            })], 1)
        }), [], !1, null, "2fd80567", null).exports);

    function er(t) {
        return (er = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ir(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function nr(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function or(t, e) {
        return (or = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function rr(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = sr(t);
            if (e) {
                var o = sr(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return ar(this, i)
        }
    }

    function ar(t, e) {
        return !e || "object" !== er(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function sr(t) {
        return (sr = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var cr = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && or(t, e)
        }(r, t);
        var e, i, n, o = rr(r);

        function r() {
            var t;
            return ir(this, r), (t = o.apply(this, arguments)).scheduleBarShow = !1, t.schPubTipsVisable = !1, t
        }

        return e = r, (i = [{
            key: "onScheduleBarShow", value: function (t, e) {
                t !== e && this.bus.$emit("schedule-trigger", t)
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
                this.scheduledPublishTips()
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("schedule-trigger", (function (e) {
                    t.scheduleBarShow = e
                }))
            }
        }, {
            key: "triggerSchedule", value: function () {
                if (this.isLockedAsScheduled) this.scheduleBarShow = !0; else {
                    this.scheduleBarShow = !this.scheduleBarShow;
                    var t = this.editDraft ? 2 : this.isPopupPanel ? 1 : 0;
                    Object(Mt.d)(Dt.d.TIMER_ICON, t)
                }
            }
        }, {
            key: "scheduledPublishTips", value: function () {
                var t = this;
                "undefined" != typeof window && "true" !== window.localStorage.getItem("dynamic_scheduled_publish_intro_".concat(this.loginUid)) && (t.schPubTipsVisable = !0, window.localStorage.setItem("dynamic_scheduled_publish_intro_".concat(t.loginUid), String(!0)), setTimeout((function () {
                    t.schPubTipsVisable = !1
                }), 5e3))
            }
        }]) && nr(e.prototype, i), n && nr(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], cr.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], cr.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)()], cr.prototype, "isLockedAsScheduled", void 0), Object(c.a)([Object(l.b)(Boolean)], cr.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.b)()], cr.prototype, "editDraft", void 0), Object(c.a)([Object(l.d)("scheduleBarShow")], cr.prototype, "onScheduleBarShow", null);
    var lr = cr = Object(c.a)([Object(l.a)({name: "schedule-btn", components: {}})], cr),
        ur = (i(430), Object(M.a)(lr, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "schedule-btn"}, [i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.schPubTipsVisable,
                    expression: "schPubTipsVisable"
                }], staticClass: "sch-pub-tips"
            }, [i("span", [t._v("可以设置定时发布动态啦")]), i("i", {
                staticClass: "bp-icon-font icon-group-dynamic",
                on: {
                    click: function (e) {
                        t.schPubTipsVisable = !1
                    }
                }
            })]), i("button", {
                staticClass: "box-toggle icon-schedule",
                class: {active: t.scheduleBarShow},
                attrs: {title: "定时发布"},
                on: {click: t.triggerSchedule}
            })])
        }), [], !1, null, "225f81f9", null).exports), dr = i(77), hr = i.n(dr), fr = (i(24), i(326)), pr = {
            props: {
                value: {type: String, required: !0},
                type: {type: String, default: "text"},
                maxLength: {type: Number, default: 30},
                placeholder: {type: String, default: "请输入关键词进行检索"}
            }, data: function () {
                return {isOnFocus: !1, text: this.value}
            }, watch: {
                text: function (t) {
                    this.$emit("input", t), this.realtime && this.submit(!0)
                }, value: function (t) {
                    this.text = t
                }
            }, methods: {
                onFocus: function (t) {
                    this.isOnFocus = !0, this.$emit("inputFocused", t)
                }, onBlur: function (t) {
                    this.isOnFocus = !1, this.$emit("inputBlur", t)
                }, submit: Object(fr.a)(300, (function (t) {
                    this.$emit(t ? "change" : "submit")
                }))
            }
        }, mr = (i(431), Object(M.a)(pr, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "bp-input"}, [i("form", {
                staticClass: "input-form",
                attrs: {method: "get", action: "#"},
                on: {
                    submit: function (e) {
                        return e.preventDefault(), t.submit(!1)
                    }
                }
            }, ["checkbox" === t.type ? i("input", {
                directives: [{
                    name: "model",
                    rawName: "v-model",
                    value: t.text,
                    expression: "text"
                }],
                staticClass: "input",
                class: "input-" + t.type,
                attrs: {placeholder: t.placeholder, maxlength: t.maxLength, type: "checkbox"},
                domProps: {checked: Array.isArray(t.text) ? t._i(t.text, null) > -1 : t.text},
                on: {
                    focus: t.onFocus, blur: t.onBlur, change: function (e) {
                        var i = t.text, n = e.target, o = !!n.checked;
                        if (Array.isArray(i)) {
                            var r = t._i(i, null);
                            n.checked ? r < 0 && (t.text = i.concat([null])) : r > -1 && (t.text = i.slice(0, r).concat(i.slice(r + 1)))
                        } else t.text = o
                    }
                }
            }) : "radio" === t.type ? i("input", {
                directives: [{
                    name: "model",
                    rawName: "v-model",
                    value: t.text,
                    expression: "text"
                }],
                staticClass: "input",
                class: "input-" + t.type,
                attrs: {placeholder: t.placeholder, maxlength: t.maxLength, type: "radio"},
                domProps: {checked: t._q(t.text, null)},
                on: {
                    focus: t.onFocus, blur: t.onBlur, change: function (e) {
                        t.text = null
                    }
                }
            }) : i("input", {
                directives: [{name: "model", rawName: "v-model", value: t.text, expression: "text"}],
                staticClass: "input",
                class: "input-" + t.type,
                attrs: {placeholder: t.placeholder, maxlength: t.maxLength, type: t.type},
                domProps: {value: t.text},
                on: {
                    focus: t.onFocus, blur: t.onBlur, input: function (e) {
                        e.target.composing || (t.text = e.target.value)
                    }
                }
            })])])
        }), [], !1, null, null, null).exports), vr = {name: "bp-title"}, gr = (i(432), Object(M.a)(vr, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "popularize-title"}, [e("div", {staticClass: "title-content"}, [this._t("default")], 2), e("div", {staticClass: "slot-right"}, [this._t("right")], 2)])
        }), [], !1, null, null, null).exports), yr = {
            props: {
                value: {type: [String, Boolean, Number], default: ""},
                name: {type: String, default: ""},
                checked: {type: Boolean, default: !1}
            }, data: function () {
                return {}
            }, methods: {
                onClick: function () {
                    this.$emit("clickType")
                }
            }
        }, br = (i(433), Object(M.a)(yr, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("label", {
                staticClass: "bp-radio", on: {
                    click: function (e) {
                        return e.stopPropagation(), t.onClick(e)
                    }
                }
            }, [i("div", {staticClass: "radio-icon", class: {checked: t.checked}}), i("input", {
                staticClass: "radio-input",
                attrs: {type: "radio", name: t.name},
                domProps: {value: t.value, checked: t.checked}
            }), t._t("default")], 2)
        }), [], !1, null, null, null).exports), _r = {
            props: {
                name: {type: String, required: !0},
                id: {type: [String, Number], required: !0},
                keyword: {type: String, default: ""}
            }, methods: {
                hightLightKeywords: function (t, e) {
                    var i = t.toString();
                    return "" === e ? i : -1 !== i.indexOf(e) && "" !== e ? i.replace(e, '<font color="#00A1D6">' + e + "</font>") : i
                }
            }
        }, wr = (i(434), Object(M.a)(_r, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("li", {staticClass: "course-item"}, [e("span", {staticClass: "course-id"}, [this._v(this._s(this.id))]), e("span", {
                staticClass: "course-name",
                domProps: {innerHTML: this._s(this.hightLightKeywords(this.name, this.keyword))}
            })])
        }), [], !1, null, null, null).exports);

    function Cr(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var xr = {1: "漫画", 2: "课程", 3: "ogv", 4: "帮推"}, kr = {
        name: "popularize",
        components: {BpTitle: gr, BpRadio: br, BpInput: mr, BpCourseItem: wr},
        props: {
            types: {
                type: Array, default: function () {
                    return [2]
                }
            }, bus: {
                type: Object, default: function () {
                    return {}
                }
            }
        },
        data: function () {
            return {selectedType: this.types[0] || 2, value: "", uid: ""}
        },
        created: function () {
            this.getUid()
        },
        computed: {
            isSimple: function () {
                return !this.types[0] || 1 === this.types.length && 2 === this.types[0]
            }, title: function () {
                return this.isSimple ? "添加推广课程" : "添加推广内容"
            }, query: function () {
                return {biz_name: this.value.toString(), biz_type: this.selectedType, uid: this.uid, page: 1}
            }, typeInfo: function () {
                return this.types.map((function (t) {
                    return {name: xr[t], value: t}
                }))
            }, placeHolder: function () {
                return xr[this.selectedType] ? "请输入".concat(xr[this.selectedType], "名进行检索") : "请选择推广内容进行检索"
            }
        },
        methods: {
            getUid: function () {
                var t, e = this;
                return (t = st.a.mark((function t() {
                    return st.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, Ui.a.get().then((function (t) {
                                    e.uid = t.data.mid
                                }));
                            case 2:
                            case"end":
                                return t.stop()
                        }
                    }), t)
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            Cr(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            Cr(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })()
            }, handleToggleType: function (t) {
                this.selectedType = t, this.$refs.loader.initData()
            }, selectedCourse: function (t) {
                this.bus.$emit("click-selected-item", [t, this.selectedType])
            }
        }
    }, Ir = (i(435), Object(M.a)(kr, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "popularize-container"}, [i("div", {
            staticClass: "popularize__title",
            class: {"only-course": t.isSimple}
        }, [t._v(t._s(t.title))]), t.isSimple ? t._e() : i("bp-title", {staticClass: "condition-title"}, [i("span", [t._v("类型：")]), t._l(t.typeInfo, (function (e) {
            return i("bp-radio", {
                key: e.value,
                attrs: {slot: "right", checked: e.value === t.selectedType, value: e.value, name: "type-config"},
                on: {
                    clickType: function (i) {
                        return t.handleToggleType(e.value)
                    }
                },
                slot: "right"
            }, [t._v("\n      " + t._s(e.name) + "\n    ")])
        }))], 2), i("bp-input", {
            attrs: {placeholder: t.placeHolder}, model: {
                value: t.value, callback: function (e) {
                    t.value = e
                }, expression: "value"
            }
        }), i("div", {
            staticClass: "popularize__course",
            class: {"only-course": t.isSimple}
        }, [t.uid ? i("flow-loader", {
            ref: "loader",
            attrs: {func: "attachSearch", query: t.query, type: "page", "retry-on-error": ""},
            scopedSlots: t._u([{
                key: "default", fn: function (e) {
                    var n = e.flow;
                    return [i("ul", t._l(n, (function (e) {
                        return i("bp-course-item", {
                            key: e.biz_id,
                            attrs: {name: e.biz_name, id: e.biz_id, keyword: t.value},
                            nativeOn: {
                                click: function (i) {
                                    return t.selectedCourse(e.biz_id)
                                }
                            }
                        })
                    })), 1)]
                }
            }, {
                key: "loading", fn: function () {
                    return [i("div", {staticClass: "_notice"}, [t._v('("▔□▔)/ loading...')])]
                }, proxy: !0
            }, {
                key: "nothing", fn: function () {
                    return [i("div", {staticClass: "_notice"}, [t._v("这里还什么都没有呢～")])]
                }, proxy: !0
            }], null, !1, 1132371268)
        }) : t._e()], 1)], 1)
    }), [], !1, null, null, null).exports);
    o.a.use(Object(r.a)()), o.a.use(s.b), o.a.use(a.a), o.a.component(hr.a.FlowLoader.name, hr.a.FlowLoader);
    var Sr = {
        components: {Popularize: Ir},
        props: {bus: {type: Object}, attachTypes: {type: Array}},
        data: function () {
            return {popularizeBoxShown: !1}
        },
        methods: {
            triggerPopularizeBoxShow: function () {
                this.popularizeBoxShown = !this.popularizeBoxShown
            }
        }
    }, Or = (i(436), Object(M.a)(Sr, (function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "popularize-box"}, [e("button", {
            staticClass: "d-i-block bp-v-middle bp-icon-font popularize-create-btn box-toggle",
            class: {active: this.popularizeBoxShown},
            attrs: {title: "添加附加卡"},
            on: {click: this.triggerPopularizeBoxShow}
        }), this.popularizeBoxShown ? e("popularize", {
            staticClass: "popularize-popup",
            attrs: {types: this.attachTypes, bus: this.bus}
        }) : this._e()], 1)
    }), [], !1, null, null, null).exports);

    function Tr(t) {
        return (Tr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Er(t) {
        return function (t) {
            if (Array.isArray(t)) return Pr(t)
        }(t) || function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
        }(t) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return Pr(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return Pr(t, e)
        }(t) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function Pr(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    function Lr(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function jr(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    Lr(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    Lr(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    function Ar(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function Mr(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Ar(Object(i), !0).forEach((function (e) {
                Dr(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : Ar(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function Dr(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    function Br(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Nr(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Rr(t, e) {
        return (Rr = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function $r(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = zr(t);
            if (e) {
                var o = zr(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Hr(this, i)
        }
    }

    function Hr(t, e) {
        return !e || "object" !== Tr(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function zr(t) {
        return (zr = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Ur = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Rr(t, e)
        }(c, t);
        var e, i, n, r, a, s = $r(c);

        function c() {
            var t;
            return Br(this, c), (t = s.apply(this, arguments)).ifShow = !1, t.slot = {
                component: null,
                props: null,
                confirmOptions: {method: "", args: []},
                vm: null
            }, t.style = {}, t
        }

        return e = c, (i = [{
            key: "onVisibleChange", value: function (t) {
                this._toggle(t)
            }
        }, {
            key: "mounted", value: function () {
                "string" == typeof this.ifShow && this.style && console.log("remove tslint warn"), this._setup(), this._locate(), this._toggle(this.visible)
            }
        }, {
            key: "_setup", value: function () {
                if (this.slot.component) {
                    var t = document.createElement("div");
                    this.$refs.content.append(t);
                    var e = o.a.extend(this.slot.component);
                    this.slot.vm = new e({propsData: Mr({}, this.slot.props || {})}).$mount(t)
                }
            }
        }, {
            key: "_locate", value: function () {
                if (this.relative) {
                    var t = this.relative, e = t.el, i = t.offset, n = t.rect, o = t.real;
                    if (n) {
                        var r = i || {x: 0, y: 0}, a = r.x, s = r.y;
                        return void (this.style = {left: n.x + a + "px", top: n.y + s + n.height + "px"})
                    }
                    if (o && e) {
                        var c = i || {x: 0, y: 0}, l = c.x, u = c.y;
                        return this.style = {
                            position: "absolute",
                            left: l + "px",
                            top: u + "px"
                        }, void e.append(this.$el)
                    }
                }
                this.style = {left: "50%", top: "50%", transform: "translatex(-50%) translateY(-50%)"}
            }
        }, {
            key: "_toggle", value: function (t) {
                this.ifShow = t
            }
        }, {
            key: "_cancel", value: (a = jr(st.a.mark((function t() {
                return st.a.wrap((function (t) {
                    for (; ;) switch (t.prev = t.next) {
                        case 0:
                            if ("function" != typeof this.onCancel) {
                                t.next = 3;
                                break
                            }
                            return this.onCancel(this.hide.bind(this)), t.abrupt("return");
                        case 3:
                            this._toggle(!1);
                        case 4:
                        case"end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return a.apply(this, arguments)
            })
        }, {
            key: "_warn", value: function (t, e) {
                console.warn("Please set the type of [".concat(t, "] to '").concat(e, "'."))
            }
        }, {
            key: "_confirm", value: (r = jr(st.a.mark((function t() {
                var e, i, n, o, r, a;
                return st.a.wrap((function (t) {
                    for (; ;) switch (t.prev = t.next) {
                        case 0:
                            if ("function" == typeof this.onConfirm) {
                                t.next = 3;
                                break
                            }
                            return this._warn("onConfirm", "Function"), t.abrupt("return");
                        case 3:
                            if (!this.openByMethod) {
                                t.next = 17;
                                break
                            }
                            if (e = this.slot, i = e.vm, !((n = e.confirmOptions) && n.method && i[n.method])) {
                                t.next = 15;
                                break
                            }
                            if (o = n.method, r = n.args, !((a = i[o].apply(i, Er(r || []))) instanceof Promise)) {
                                t.next = 12;
                                break
                            }
                            return t.next = 11, a;
                        case 11:
                            a = t.sent;
                        case 12:
                            this.onConfirm(this.hide.bind(this), a), t.next = 16;
                            break;
                        case 15:
                            this.onConfirm(this.hide.bind(this));
                        case 16:
                            return t.abrupt("return");
                        case 17:
                            this.onConfirm();
                        case 18:
                        case"end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return r.apply(this, arguments)
            })
        }, {
            key: "hide", value: function () {
                this._toggle(!1)
            }
        }, {
            key: "show", value: function () {
                this._toggle(!0)
            }
        }, {
            key: "openByMethod", get: function () {
                return null !== this.slot.vm
            }
        }]) && Nr(e.prototype, i), n && Nr(e, n), c
    }(l.c);
    Object(c.a)([Object(l.b)({
        type: String,
        default: ""
    })], Ur.prototype, "id", void 0), Object(c.a)([Object(l.b)({
        type: Boolean,
        default: !1
    })], Ur.prototype, "visible", void 0), Object(c.a)([Object(l.b)({
        type: Boolean,
        default: !1
    })], Ur.prototype, "realHidden", void 0), Object(c.a)([Object(l.b)({type: Object})], Ur.prototype, "relative", void 0), Object(c.a)([Object(l.b)({
        type: String,
        default: "取消"
    })], Ur.prototype, "cancelBtnText", void 0), Object(c.a)([Object(l.b)({
        type: String,
        default: "确认"
    })], Ur.prototype, "confirmBtnText", void 0), Object(c.a)([Object(l.b)({
        type: Function,
        default: null
    })], Ur.prototype, "onConfirm", void 0), Object(c.a)([Object(l.b)({
        type: Function,
        default: null
    })], Ur.prototype, "onCancel", void 0), Object(c.a)([Object(l.d)("visible")], Ur.prototype, "onVisibleChange", null);
    var Fr = Ur = Object(c.a)([Object(l.a)({name: "PopupLayer"})], Ur), Vr = (i(437), Object(M.a)(Fr, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("transition", {attrs: {name: "move-in"}}, [!t.realHidden || t.ifShow ? i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.realHidden || t.ifShow,
                expression: "realHidden || ifShow"
            }], staticClass: "bili-popup-layer", style: t.style, attrs: {id: t.id}
        }, [i("div", {
            ref: "content",
            staticClass: "bili-popup-layer__content"
        }, [t._t("default")], 2), i("div", {staticClass: "bili-popup-layer__footer"}, [i("div", {
            staticClass: "bili-popup-layer__button",
            on: {click: t._confirm}
        }, [t._v(t._s(t.confirmBtnText))]), i("div", {
            staticClass: "bili-popup-layer__button",
            on: {click: t._cancel}
        }, [t._v(t._s(t.cancelBtnText))])])]) : t._e()])
    }), [], !1, null, "2835522e", null).exports);

    function Gr(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var Wr = o.a.extend(Vr), qr = function () {
        var t, e = (t = st.a.mark((function t(e) {
            var i, n, o, r, a, s, c, l;
            return st.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        return c = null, e.id && (c = document.getElementById(e.id)), c || (c = document.createElement("div"), document.body.append(c)), (l = new Wr({
                            propsData: {
                                realHidden: !e.id,
                                id: e.id,
                                relative: {
                                    el: null === (i = e.relative) || void 0 === i ? void 0 : i.el,
                                    real: null === (n = e.relative) || void 0 === n ? void 0 : n.real,
                                    offset: null === (o = e.relative) || void 0 === o ? void 0 : o.offset,
                                    rect: (null === (r = e.relative) || void 0 === r ? void 0 : r.real) ? null : (null === (a = e.relative) || void 0 === a || null === (s = a.el) || void 0 === s ? void 0 : s.getBoundingClientRect()) || null
                                },
                                onConfirm: e.onConfirm,
                                onCancel: e.onCancel,
                                confirmBtnText: e.confirmBtnText,
                                cancelBtnText: e.cancelBtnText
                            }, data: {slot: e.slot}
                        })).$mount(c), t.next = 7, l.$nextTick();
                    case 7:
                        return e.visible && l.show(), t.abrupt("return", l);
                    case 9:
                    case"end":
                        return t.stop()
                }
            }), t)
        })), function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    Gr(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    Gr(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        });
        return function (t) {
            return e.apply(this, arguments)
        }
    }(), Jr = [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "dynamic-reserve__about"}, [e("img", {
            attrs: {
                src: i(438),
                alt: ""
            }
        }), e("a", {
            staticClass: "link",
            attrs: {href: "https://www.bilibili.com/read/cv10555126", target: "_blank"}
        }, [this._v("关于预约")]), this._v("\n    （注意:目前投稿关联预约仅支持在App操作）\n  ")])
    }], Yr = (i(303), {props: {name: String, value: String}}), Kr = (i(439), Object(M.a)(Yr, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "form-option"}, [i("div", {staticClass: "form-option__name"}, [t._t("name"), t._v("\n    " + t._s(t.$slots.name ? "" : t.name) + "\n  ")], 2), i("div", {staticClass: "form-option__value"}, [t._t("value"), t._v("\n    " + t._s(t.$slots.value ? "" : t.value) + "\n  ")], 2)])
    }), [], !1, null, "fd863094", null).exports), Zr = {
        props: {value: String, maxlength: String, placeholder: String, readonly: Boolean, showWordLimit: Boolean},
        methods: {
            onInput: function (t) {
                this.$emit("input", t.target.value)
            }, onFocus: function (t) {
                this.$emit("focus", t)
            }, onBlur: function (t) {
                this.$emit("blur", t)
            }
        }
    }, Xr = (i(440), Object(M.a)(Zr, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "bili-input bili-border"}, [i("input", {
            staticClass: "bili-input__inner",
            attrs: {type: "text", readonly: t.readonly, maxlength: t.maxlength, placeholder: t.placeholder},
            domProps: {value: t.value},
            on: {input: t.onInput, focus: t.onFocus, blur: t.onBlur}
        }), i("span", {staticClass: "bili-input__suffix"}, [i("span", {staticClass: "bili-input__suffix-inner"}, [t._t("suffix"), t.showWordLimit && !t.$slots.suffix ? i("span", {staticClass: "bili-input__count"}, [t._v(t._s(t.value.length) + "/" + t._s(t.maxlength))]) : t._e()], 2)])])
    }), [], !1, null, "6426ad18", null).exports), Qr = {
        components: {BiliInput: Xr},
        props: {placeholder: String, value: {default: ""}},
        model: {prop: "value", event: "change"},
        data: function () {
            return {isSelect: !0, showDropdown: !1, label: ""}
        },
        computed: {
            iconClass: function () {
                return {"icon-arrow": !0, active: this.showDropdown}
            }
        },
        watch: {
            value: function (t) {
                this.getLabel(t)
            }
        },
        mounted: function () {
            this.getLabel(this.value)
        },
        methods: {
            getLabel: function (t) {
                for (var e = 0; e < this.$slots.default.length; e++) {
                    var i = this.$slots.default[e].componentOptions;
                    if ("BiliOption" === i.tag && i.propsData.value === t) return void (this.label = i.propsData.label || i.propsData.value)
                }
                this.label = this.value
            }, change: function (t) {
                this.$emit("change", t), this.blur()
            }, blur: function () {
                var t = this;
                setTimeout((function () {
                    t.showDropdown = !1
                }), 80)
            }
        }
    }, ta = (i(441), Object(M.a)(Qr, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "bili-select"}, [i("BiliInput", {
            attrs: {
                placeholder: t.placeholder,
                value: t.label,
                readonly: ""
            }, on: {
                focus: function (e) {
                    t.showDropdown = !0
                }, blur: t.blur
            }
        }, [i("i", {
            class: t.iconClass,
            attrs: {slot: "suffix"},
            slot: "suffix"
        })]), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.showDropdown,
                expression: "showDropdown"
            }], staticClass: "bili-select__dropdown"
        }, [t._t("default")], 2)], 1)
    }), [], !1, null, "13a820d6", null).exports), ea = {
        props: {label: {type: String, default: ""}, value: {default: ""}}, methods: {
            handleSelect: function () {
                this.$parent.isSelect && this.$parent.change(this.value || this.label)
            }
        }
    };
    i(442);

    function ia(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var na = {
        components: {
            FormOption: Kr, BiliInput: Xr, BiliSelect: ta, BiliOption: Object(M.a)(ea, (function () {
                var t = this, e = t.$createElement;
                return (t._self._c || e)("div", {
                    staticClass: "bili-select-dropdown__item", on: {
                        click: function (e) {
                            return e.stopPropagation(), t.handleSelect(e)
                        }
                    }
                }, [t._v("\n  " + t._s(t.label || t.value) + "\n")])
            }), [], !1, null, "dc2eefa6", null).exports
        }, props: {types: Array, id: Number}, data: function () {
            return {form: {type: 1, title: "", datetime: ""}, datePickerOptions: {min: 0, max: 0}, typeOptions: []}
        }, created: function () {
            var t = this;
            this.datePickerOptions.min = new Date(Date.now() + 3e5), this.datePickerOptions.max = new Date(Date.now() + 7776e6), this.typeOptions = [{
                label: "稿件",
                value: 1
            }].filter((function (e) {
                return !!t.types.find((function (t) {
                    return t.type === e.value
                }))
            })), this.id && this.bpapi({
                url: "//api.bilibili.com/x/activity/up/reserve/info",
                method: "get",
                data: {from: 1, id: this.id}
            }).then((function (e) {
                0 === e.code && (t.form.type = e.data.type, t.form.title = e.data.title)
            }))
        }, methods: {
            onDatetimeOnChange: function () {
                return !0
            }, submit: function () {
                var t, e = this;
                return (t = st.a.mark((function t() {
                    var i, n;
                    return st.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                if (e.form.title) {
                                    t.next = 2;
                                    break
                                }
                                return t.abrupt("return", {code: -1, msg: "请填写标题", type: "success"});
                            case 2:
                                return t.prev = 2, i = "//api.bilibili.com/x/activity/up/reserve/".concat(e.id ? "update" : "create"), t.next = 6, e.bpapi({
                                    method: "post",
                                    url: i,
                                    data: {
                                        id: e.id || void 0,
                                        type: e.form.type,
                                        title: e.form.title,
                                        stime: null,
                                        from: 1
                                    }
                                });
                            case 6:
                                if (0 !== (n = t.sent).code) {
                                    t.next = 9;
                                    break
                                }
                                return t.abrupt("return", {code: 0, data: {id: e.id || n.data, type: e.form.type}});
                            case 9:
                                return t.abrupt("return", n);
                            case 12:
                                return t.prev = 12, t.t0 = t.catch(2), t.abrupt("return", t.t0);
                            case 15:
                            case"end":
                                return t.stop()
                        }
                    }), t, null, [[2, 12]])
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            ia(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            ia(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })()
            }
        }
    }, oa = (i(443), Object(M.a)(na, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "dynamic-reserve"}, [i("div", {staticClass: "dynamic-reserve__form"}, [i("div", {staticClass: "dynamic-reserve__form__item"}, [i("FormOption", {attrs: {name: "预约类型"}}, [i("BiliSelect", {
            attrs: {slot: "value"},
            slot: "value",
            model: {
                value: t.form.type, callback: function (e) {
                    t.$set(t.form, "type", e)
                }, expression: "form.type"
            }
        }, t._l(t.typeOptions, (function (t, e) {
            return i("BiliOption", {key: e, attrs: {label: t.label, value: t.value}})
        })), 1)], 1)], 1), i("div", {staticClass: "dynamic-reserve__form__item"}, [i("FormOption", {attrs: {name: "预约标题"}}, [i("BiliInput", {
            attrs: {
                slot: "value",
                maxlength: "15",
                placeholder: "请填写标题",
                "show-word-limit": ""
            }, slot: "value", model: {
                value: t.form.title, callback: function (e) {
                    t.$set(t.form, "title", e)
                }, expression: "form.title"
            }
        })], 1)], 1)]), t._m(0)])
    }), Jr, !1, null, "4172ff2c", null).exports);

    function ra(t) {
        return (ra = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function aa(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function sa(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    aa(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    aa(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    function ca(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function la(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function ua(t, e) {
        return (ua = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function da(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = fa(t);
            if (e) {
                var o = fa(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return ha(this, i)
        }
    }

    function ha(t, e) {
        return !e || "object" !== ra(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function fa(t) {
        return (fa = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var pa = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ua(t, e)
        }(s, t);
        var e, i, n, o, r, a = da(s);

        function s() {
            var t;
            return ca(this, s), (t = a.apply(this, arguments)).lotteryBoxShown = !1, t.voteBoxShown = !1, t.ifShowScheduleBar = !1, t.hasLottery = !1, t.hasVote = !1, t.hasSchedule = !1, t.hasPopularize = !1, t.attachTypes = [], t.hasPopularizeRight = !1, t.uid = "", t.reserveId = 0, t
        }

        return e = s, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.initBus(), this.initUid(), this.formatImages()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "formatImages", value: function () {
                var t = this.shareImages.map((function (t) {
                    return {
                        id: Date.now() * Math.ceil(1e5 * Math.random()),
                        img_height: (null == t ? void 0 : t.height) || 530,
                        img_size: (null == t ? void 0 : t.size) || 500,
                        img_src: t.url,
                        img_width: (null == t ? void 0 : t.width) || 570
                    }
                }));
                window.__saveShareImages__ = t
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("lottery-trigger", (function (e) {
                    t.lotteryBoxShown = e
                })), this.bus.$on("vote-trigger", (function (e) {
                    t.voteBoxShown = e, t.hasPopularize = !t.hasPopularize
                })), this.bus.$on("schedule-trigger", (function (e) {
                    t.ifShowScheduleBar = e
                })), this.bus.$on("has-lottery", (function (e) {
                    t.hasLottery = e
                })), this.bus.$on("has-vote", (function (e) {
                    t.hasVote = e
                })), this.bus.$on("empty-attach-data", (function () {
                    t.clearReserve()
                }))
            }
        }, {
            key: "initUid", value: (r = sa(st.a.mark((function t() {
                var e = this;
                return st.a.wrap((function (t) {
                    for (; ;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, Ui.a.get().then((function (t) {
                                var i;
                                e.uid = null == t || null === (i = t.data) || void 0 === i ? void 0 : i.mid
                            }));
                        case 2:
                            this.isShowPopularize();
                        case 3:
                        case"end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return r.apply(this, arguments)
            })
        }, {
            key: "isShowPopularize", value: function () {
                var t = this;
                Object(wt.attachRight)(this.uid).then((function (e) {
                    e.code || (t.hasPopularize = 1 === e.data.state, t.hasPopularizeRight = 1 === e.data.state, t.attachTypes = e.data.types)
                }))
            }
        }, {
            key: "clearReserve", value: function () {
                this.reserveId = 0, this.bus.$emit("update-extension", {reserve: null})
            }
        }, {
            key: "showReserveConfig", value: (o = sa(st.a.mark((function t() {
                var e;
                return st.a.wrap((function (t) {
                    for (; ;) switch (t.prev = t.next) {
                        case 0:
                            return Object(Mt.d)(Dt.d.PUBLISH_RESERVE_CLICK), e = this, t.next = 4, qr({
                                id: "reserve-box",
                                visible: !0,
                                relative: {el: e.$refs.reserve, real: !0, offset: {x: 18, y: 28}},
                                slot: {
                                    component: oa,
                                    props: {types: e.reserveTypes, id: e.reserveId},
                                    confirmOptions: {method: "submit"}
                                },
                                confirmBtnText: "发起预约",
                                onConfirm: function (t, i) {
                                    i && 0 === i.code ? (Object(Mt.d)(Dt.d.PUBLISH_RESERVE_COMPLETE, {
                                        biz_type: i.data.type,
                                        oid: i.data.id
                                    }), e.reserveId = i.data.id, e.bus.$emit("update-extension", {reserve: i.data.id}), t()) : e.linkMsg(null, i ? i.msg : "网络错误", i && i.type || "caution", !0, !0)
                                },
                                onCancel: function (t) {
                                    e.clearReserve(), t()
                                }
                            });
                        case 4:
                        case"end":
                            return t.stop()
                    }
                }), t, this)
            }))), function () {
                return o.apply(this, arguments)
            })
        }, {
            key: "showLotteryBtn", get: function () {
                return this.canLottery && !this.ifShowScheduleBar
            }
        }, {
            key: "showReserveBtn", get: function () {
                return this.canReserve && !this.ifShowScheduleBar && this.reserveTypes.filter((function (t) {
                    return 1 === t.type
                })).length > 0
            }
        }, {
            key: "showVoteBtn", get: function () {
                return this.canVote && !this.ifShowScheduleBar && this.canPopularize
            }
        }, {
            key: "showScheduleBtn", get: function () {
                return this.canBeScheduled && !(this.lotteryBoxShown || this.voteBoxShown || this.hasVote || this.hasLottery || this.reserveId)
            }
        }, {
            key: "showPopularize", get: function () {
                return this.hasPopularizeRight && this.hasPopularize && this.canPopularize && !(this.lotteryBoxShown || this.voteBoxShown || this.hasVote || this.hasLottery || this.reserveId)
            }
        }]) && la(e.prototype, i), n && la(e, n), s
    }(l.c);
    Object(c.a)([Object(l.b)()], pa.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], pa.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], pa.prototype, "canLottery", void 0), Object(c.a)([Object(l.b)(Boolean)], pa.prototype, "canVote", void 0), Object(c.a)([Object(l.b)(Boolean)], pa.prototype, "canBeScheduled", void 0), Object(c.a)([Object(l.b)(Boolean)], pa.prototype, "canReserve", void 0), Object(c.a)([Object(l.b)(Array)], pa.prototype, "reserveTypes", void 0), Object(c.a)([Object(l.b)()], pa.prototype, "isLockedAsScheduled", void 0), Object(c.a)([Object(l.b)(Boolean)], pa.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.b)()], pa.prototype, "editDraft", void 0), Object(c.a)([Object(l.b)(Boolean)], pa.prototype, "canPopularize", void 0), Object(c.a)([Object(l.b)()], pa.prototype, "shareImages", void 0);
    var ma = pa = Object(c.a)([Object(l.a)({
            name: "toolbar",
            components: {
                Emoji: yt,
                ImageBox: Gt,
                AtBox: ae,
                TopicBox: Ce,
                VoteBox: dn,
                LotteryBox: tr,
                ScheduleBtn: ur,
                Popularize: Or
            }
        })], pa), va = (i(444), Object(M.a)(ma, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "toolbar-box"}, [i("emoji", {
                staticClass: "toolbar-item",
                attrs: {bus: t.bus, "login-uid": t.loginUid}
            }), i("image-box", {
                staticClass: "toolbar-item",
                attrs: {"is-popup-panel": t.isPopupPanel, bus: t.bus, "login-uid": t.loginUid}
            }), i("at-box", {
                staticClass: "toolbar-item",
                attrs: {"is-popup-panel": t.isPopupPanel, bus: t.bus, "login-uid": t.loginUid}
            }), i("topic-box", {
                staticClass: "toolbar-item",
                attrs: {"is-popup-panel": t.isPopupPanel, bus: t.bus, "login-uid": t.loginUid}
            }), t.showVoteBtn ? i("vote-box", {
                staticClass: "toolbar-item",
                attrs: {"is-popup-panel": t.isPopupPanel, bus: t.bus, "login-uid": t.loginUid}
            }) : t._e(), t.showLotteryBtn ? i("lottery-box", {
                staticClass: "toolbar-item",
                attrs: {"is-popup-panel": t.isPopupPanel, bus: t.bus, "login-uid": t.loginUid}
            }) : t._e(), t.showPopularize ? i("popularize", {
                attrs: {
                    attachTypes: t.attachTypes,
                    bus: t.bus
                }
            }) : t._e(), t.showScheduleBtn ? i("schedule-btn", {
                staticClass: "toolbar-item",
                attrs: {
                    "is-popup-panel": t.isPopupPanel,
                    "is-locked-as-scheduled": t.isLockedAsScheduled,
                    "edit-draft": t.editDraft,
                    bus: t.bus,
                    "login-uid": t.loginUid
                }
            }) : t._e(), t.showReserveBtn ? i("div", {
                ref: "reserve",
                staticClass: "toolbar-item p-rel"
            }, [i("button", {
                staticClass: "box-toggle icon-reserve",
                class: t.reserveId ? "active" : "",
                on: {click: t.showReserveConfig}
            })]) : t._e()], 1)
        }), [], !1, null, "f1417eee", null).exports), ga = (i(52), i(53), i(56), i(505), i(231)), ya = "", ba = "close",
        _a = "choose";

    function wa(t) {
        return (wa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ca(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function xa(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function ka(t, e) {
        return (ka = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Ia(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Oa(t);
            if (e) {
                var o = Oa(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Sa(this, i)
        }
    }

    function Sa(t, e) {
        return !e || "object" !== wa(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Oa(t) {
        return (Oa = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Ta = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && ka(t, e)
        }(r, t);
        var e, i, n, o = Ia(r);

        function r() {
            var t;
            return Ca(this, r), (t = o.apply(this, arguments)).ifPanelShow = !1, t.selection = "", t.settingOptions = [{
                value: ya,
                label: "允许评论"
            }, {value: ba, label: "关闭评论"}, {value: _a, label: "评论精选"}], t
        }

        return e = r, (i = [{
            key: "setPanelShow", value: function (t) {
                var e = this;
                t && this.$nextTick((function () {
                    e.$el.focus()
                }))
            }
        }, {
            key: "created", value: function () {
                this.initBus()
            }
        }, {
            key: "handleSelect", value: function (t) {
                this.selection = t, this.bus.$emit("comment-setting-update", t)
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("set-comment-setting", (function (e) {
                    t.selection = e
                }))
            }
        }, {
            key: "filteredSettingOptions", get: function () {
                var t = this;
                return this.settingOptions.filter((function (e) {
                    return e.value === ya || t.settings.some((function (t) {
                        return t === e.value
                    }))
                }))
            }
        }, {
            key: "activeLabel", get: function () {
                var t, e = this;
                return (null === (t = this.settingOptions.find((function (t) {
                    return t.value === e.selection
                }))) || void 0 === t ? void 0 : t.label) || ""
            }
        }]) && xa(e.prototype, i), n && xa(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], Ta.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], Ta.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)()], Ta.prototype, "settings", void 0), Object(c.a)([Object(l.d)("ifPanelShow")], Ta.prototype, "setPanelShow", null);
    var Ea = Ta = Object(c.a)([Object(l.a)({name: "comment-setting", components: {SvgIcon: ga.a}})], Ta),
        Pa = (i(445), Object(M.a)(Ea, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {
                staticClass: "comment-setting", attrs: {tabindex: "1"}, on: {
                    blur: function (e) {
                        t.ifPanelShow = !1
                    }
                }
            }, [i("div", {
                staticClass: "d-i-block bp-v-middle comment-setting__btn",
                class: {active: t.ifPanelShow},
                on: {
                    click: function (e) {
                        t.ifPanelShow = !t.ifPanelShow
                    }
                }
            }, [t._v("\n      " + t._s(t.activeLabel) + "\n      "), i("svg-icon", {
                staticClass: "comment-setting__icon",
                class: t.ifPanelShow && "comment-setting__icon--reverse",
                attrs: {name: "next"}
            })], 1), i("transition", {attrs: {name: "move-in"}}, [i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.ifPanelShow,
                    expression: "ifPanelShow"
                }], staticClass: "settings-panel"
            }, t._l(t.filteredSettingOptions, (function (e, n) {
                return i("div", {
                    key: n,
                    staticClass: "settings-panel__option",
                    class: t.selection === e.value ? "settings-panel__option--active" : "",
                    on: {
                        click: function (i) {
                            return t.handleSelect(e.value)
                        }
                    }
                }, [t._v(t._s(e.label))])
            })), 0)])], 1)
        }), [], !1, null, "9a452248", null).exports), La = i(57), ja = {}, Aa = (i(446), Object(M.a)(ja, (function () {
            var t = this.$createElement;
            this._self._c;
            return this._m(0)
        }), [function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "specification p-rel"}, [e("iframe", {
                staticClass: "iframe",
                attrs: {src: "//t.bilibili.com/h5/dynamic/specification"}
            })])
        }], !1, null, "2fd23f66", null).exports);

    function Ma(t) {
        return (Ma = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Da(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function Ba(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Da(Object(i), !0).forEach((function (e) {
                Na(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : Da(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function Na(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    function Ra(t, e) {
        return function (t) {
            if (Array.isArray(t)) return t
        }(t) || function (t, e) {
            if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(t))) return;
            var i = [], n = !0, o = !1, r = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(n = (a = s.next()).done) && (i.push(a.value), !e || i.length !== e); n = !0) ;
            } catch (t) {
                o = !0, r = t
            } finally {
                try {
                    n || null == s.return || s.return()
                } finally {
                    if (o) throw r
                }
            }
            return i
        }(t, e) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return $a(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return $a(t, e)
        }(t, e) || function () {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function $a(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    function Ha(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function za(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function Ua(t, e) {
        return (Ua = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Fa(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Ga(t);
            if (e) {
                var o = Ga(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Va(this, i)
        }
    }

    function Va(t, e) {
        return !e || "object" !== Ma(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ga(t) {
        return (Ga = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Wa = 1, qa = {}, Ja = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Ua(t, e)
        }(r, t);
        var e, i, n, o = Fa(r);

        function r() {
            var t;
            return Ha(this, r), (t = o.apply(this, arguments)).publishTime = new Date, t.text = "", t.ctrlObj = {}, t.cacheAtCount = 0, t.ctrlKeys = ["at", "vote", "lottery"], t.extensionObj = {}, t.extendCtrlJson = "{}", t.commentSetting = "", t.isPublishing = !1, t.specificationShown = !1, t.specificationAgreed = !1, t.schConfirmVisible = !1, t.isScheduled = Boolean(t.editDraft || t.isLockedAsScheduled), t.imageList = [], t.textPublishParam = {}, t.albumPublishParam = {}, t.schConfirmText = "", t.articleMinTextCount = 400, t.articleMaxTextCount = 2e4, t.articlePubConfirmVisible = !1, t.articlePubTipsVisable = !1, t
        }

        return e = r, (i = [{
            key: "onExtendCtrlJson", value: function (t) {
                this.bus.$emit("extend-json-changed", t)
            }
        }, {
            key: "onLockedAsScheduledChange", value: function (t) {
                this.bus.$emit("schedule-trigger", t)
            }
        }, {
            key: "onScheduleModeChange", value: function (t) {
                var e = this.editDraft ? 2 : this.isPopupPanel ? 1 : 0;
                Object(Mt.d)(Dt.d.TIMER_ICON, e), this.isScheduled = t
            }
        }, {
            key: "onLoginUidChange", value: function () {
                this.initLocalStorage(), this.onTopicPageInit(), this.checkSpecification(), this.scheduleEditDraftRecovery()
            }
        }, {
            key: "onPublishImageListChange", value: function () {
                this.debounceGenerateExtendCtrlJson()
            }
        }, {
            key: "onPublishTime", value: function (t) {
                this.bus.$emit("schedule-time-update", t)
            }
        }, {
            key: "onIfShowArticleBtn", value: function (t) {
                t && (this.checkIfShowArticlePubTips(), this.articlePubShowReport())
            }
        }, {
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.debounceGenerateExtendCtrlJson = Object(g.b)(this.generateExtendCtrlJson, 1), this.initBus()
            }
        }, {
            key: "beforeMount", value: function () {
            }
        }, {
            key: "mounted", value: function () {
                this.initLocalStorage(), this.onTopicPageInit(), this.checkSpecification(), this.scheduleEditDraftRecovery(), this.getArticleMaxLength()
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("schedule-time-update", (function (e) {
                    t.publishTime = e
                })), this.bus.$on("comment-setting-update", (function (e) {
                    t.commentSetting = e, t.debounceGenerateExtendCtrlJson()
                })), this.bus.$on("update-ctrl", (function (e) {
                    t.ctrlKeys.forEach((function (i) {
                        e[i] && e[i] instanceof Array && (t.ctrlObj[i] = e[i])
                    })), t.debounceGenerateExtendCtrlJson()
                })), this.bus.$on("update-extension", (function (e) {
                    e.vote ? t.extensionObj.vote = e.vote : null === e.vote && delete t.extensionObj.vote, e.lottery ? t.extensionObj.lottery = e.lottery : null === e.lottery && delete t.extensionObj.lottery, e.reserve ? t.extensionObj.reserve = e.reserve : null === e.reserve && delete t.extensionObj.reserve, e.attach ? t.extensionObj.attach = e.attach : null === e.attach && delete t.extensionObj.attach, t.debounceGenerateExtendCtrlJson()
                })), this.bus.$on("text-update", (function (e) {
                    t.text = e, t.debounceGenerateExtendCtrlJson()
                })), this.bus.$on("image-list-update", (function (e) {
                    t.imageList = e, t.debounceGenerateExtendCtrlJson()
                }))
            }
        }, {
            key: "getArticleMaxLength", value: function () {
                var t = this;
                this.bpapi({method: "get", url: "//api.bilibili.com/x/article/conf"}).then((function (e) {
                    t.articleMaxTextCount = e.content_max || t.articleMaxTextCount
                }))
            }
        }, {
            key: "onPublishBtnClick", value: function () {
                if (this.disabled) this.textLength > this.articleMaxTextCount ? this.linkMsg(this.$refs.publishBtn, "超过规定字数了哦~", "caution") : this.ifArticleBtnActive && this.showArticlePubConfirm(); else {
                    var t = this.schConfirmVisible ? this.$refs.schPubConfirm.buttons.confirmBtn : this.$refs.publishBtn;
                    if (this.isPopupPanel ? Object(Mt.d)(Dt.d.PUBLICH_CLICK_2, "") : Object(Mt.d)(Dt.d.PUBLICH_CLICK_1, ""), !this.isPublishing) {
                        if (!this.specificationAgreed) return void this.showSpecification();
                        this.isPublishing = !0, this.publishImageList.length > 0 ? this.publishAlbum(t) : this.publishText(t)
                    }
                }
            }
        }, {
            key: "showSpecification", value: function () {
                if (this.specificationAgreed || this.specificationShown) return !1;
                this.specificationShown = !0
            }
        }, {
            key: "generateExtendCtrlJson", value: function () {
                var t = {from: {emoji_type: 1}}, e = this.ctrlObj.lottery, i = this.ctrlObj.vote,
                    n = (this.ctrlObj.at || []).slice(0, 20);
                this.ctrlObj.at && this.cacheAtCount !== this.ctrlObj.at.length && (this.cacheAtCount = Math.min(this.ctrlObj.at.length, 20), this.bus.$emit("at-update", this.cacheAtCount));
                var o = e ? e.slice() : [], r = [], a = function (t, e) {
                    for (var i = !0, n = 0; n < r.length; n++) {
                        var o = Ra(r[n], 2), a = o[0];
                        if (!(i = !!(t >= o[1] || e <= a))) break
                    }
                    return i
                };
                e instanceof Array && e.length > 0 ? (this.bus.$emit("has-lottery", !0), e.forEach((function (t) {
                    r.push([t.location, t.location + Number(t.data)])
                }))) : this.bus.$emit("has-lottery", !1), i instanceof Array && i.length > 0 ? (this.bus.$emit("has-vote", !0), i.forEach((function (t) {
                    a(t.location, t.location + Number(t.data)) && (r.push([t.location, t.location + Number(t.data)]), o.push(t))
                }))) : this.bus.$emit("has-vote", !1);
                var s = [];
                n instanceof Array && n.forEach((function (t) {
                    a(t.location, t.location + t.length) && (o.push(t), s.push(t.data))
                })), t.ctrl = o, this.extensionObj.vote && (t.vote = this.extensionObj.vote), this.extensionObj.lottery && (t.lottery = this.extensionObj.lottery), this.extensionObj.attach && (t.attach = {
                    type: {
                        1: "manga",
                        2: "pugv",
                        3: "ogv",
                        4: "activity"
                    }[this.extensionObj.attach.type], id: this.extensionObj.attach.id
                }), this.extendCtrlJson = JSON.stringify(t);
                var c = Object(d.c)(this.content), l = {
                    dynamic_id: 0,
                    type: 4,
                    rid: 0,
                    content: c,
                    up_choose_comment: this.commentSetting === _a ? 1 : 0,
                    up_close_comment: this.commentSetting === ba ? 1 : 0
                }, u = {
                    biz: 3,
                    category: 3,
                    type: 0,
                    pictures: JSON.stringify(this.publishImageList),
                    title: "",
                    tags: "",
                    description: c,
                    content: c,
                    setting: this.isScheduled ? void 0 : JSON.stringify({copy_forbidden: 0, cachedTime: 0}),
                    from: "create.dynamic.web",
                    up_choose_comment: this.commentSetting === _a ? 1 : 0,
                    up_close_comment: this.commentSetting === ba ? 1 : 0
                };
                if (t.attach && t.attach.type) try {
                    qa = Na({}, t.attach.type, Na({}, "".concat(t.attach.type, "_id"), parseInt(t.attach.id)))
                } catch (t) {
                    qa = {}
                }
                this.extensionObj.reserve && (qa = Ba(Ba({}, qa), {}, {reserve: {reserve_id: this.extensionObj.reserve}}));
                var h = {emoji_type: 1, from: {emoji_type: 1}, vote_cfg: t.vote, lott_cfg: t.lottery, flag_cfg: qa},
                    f = JSON.stringify(t.ctrl);
                l.extension = JSON.stringify(h), l.at_uids = s.join(","), l.ctrl = f, u.extension = JSON.stringify(h), u.at_uids = s.join(","), u.at_control = f, this.textPublishParam = l, this.albumPublishParam = u, this.setLocalStorage()
            }
        }, {
            key: "onTopicPageInit", value: function () {
                this.topicName && "" === this.text && this.bus.$emit("text-update", "#".concat(this.topicName, "# "))
            }
        }, {
            key: "checkSpecification", value: function () {
                this.specificationAgreed = 1 === parseInt(g.a.getItem("dy_spec_agreed"))
            }
        }, {
            key: "publishText", value: function (t) {
                var e = this;
                this.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_svr/v1/dynamic_svr/create"),
                    method: "post",
                    data: this.textPublishParam
                }).then((function (i) {
                    0 === i.data.result ? (e.bus.$emit("empty-attach-data"), e.linkMsg(t, "发布成功 ".concat(wt.randomEmoji.happy()), "success"), e.dispatchFeedUpdate(i.data.dynamic_id), e.$emit("succeed", {isScheduled: !1}), e.handlePublishComplete()) : 2 === i.data.result ? Object(wt.showVerifyPopup)(e) : e.linkMsg(t, i.data.errmsg, "caution"), e.publishHandler && e.publishHandler(), e.isPublishing = !1
                }), (function (i) {
                    e.linkMsg(t, i.msg, i.type), e.isPublishing = !1
                }))
            }
        }, {
            key: "publishAlbum", value: function (t) {
                var e = this;
                this.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_svr/v1/dynamic_svr/create_draw"),
                    method: "post",
                    data: this.albumPublishParam
                }).then((function (i) {
                    e.bus.$emit("empty-attach-data"), e.linkMsg(t, "发布成功 ".concat(wt.randomEmoji.happy()), "success"), setTimeout((function () {
                        e.dispatchFeedUpdate(i.data.dynamic_id)
                    }), 1e3), e.$emit("succeed", {isScheduled: !1}), e.handlePublishComplete(), e.publishHandler && e.publishHandler()
                }), (function (i) {
                    if (-6 === i.code) return e.linkMsg(t, "你还没有登陆哦～ -6", i.type), void (e.isPublishing = !1);
                    e.linkMsg(t, i.msg, i.type), e.isPublishing = !1
                }))
            }
        }, {
            key: "showArticlePubConfirm", value: function () {
                this.ifArticleBtnActive && (this.articlePubConfirmVisible = !0)
            }
        }, {
            key: "articlePubConfirm", value: function () {
                if (this.ifArticleBtnActive) {
                    var t = this.content, e = {
                            infoDescription: t = t.replace(/\r\n/g, "\n").replace(/%/g, "%25"),
                            images: this.publishImageList.map((function (t) {
                                return t.img_src.replace(/^http:/, "https:")
                            })),
                            vote: null
                        },
                        i = "https://member.bilibili.com/v2#/upload/text/edit?config=".concat(encodeURIComponent(JSON.stringify(e)));
                    window.open(i), this.articlePubConfirmVisible = !1, this.articlePubClickReport(), this.handlePublishComplete()
                } else this.textLength > this.articleMaxTextCount && this.linkMsg(this.$refs.publishBtn, "超过规定字数了哦~", "caution")
            }
        }, {
            key: "handlePublishComplete", value: function () {
                this.resetPublishBox(), this.isPublishing = !1, this.schConfirmVisible = !1, u.b.$emit("textChange", "")
            }
        }, {
            key: "schPubConfirm", value: function () {
                var t, e, i, n = this, o = this.$refs.schPubConfirm.buttons.confirmBtn;
                this.editDraft ? (i = n.editDraft.draft_id, n.publishImageList.length > 0 ? (e = 2, t = n.albumPublishParam) : (e = 4, t = n.textPublishParam), n.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_draft/v1/dynamic_draft/publish_now"),
                    method: "post",
                    data: {draft_id: i, type: e, request: JSON.stringify(t)}
                }).then((function (t) {
                    n.linkMsg(o, "发送成功", t.type), n.schConfirmVisible = !1, n.$emit("succeed", {isScheduled: !1}), n.handlePublishComplete(), n.publishHandler && n.publishHandler()
                }), (function (t) {
                    n.linkMsg(o, t.msg, "error"), n.schConfirmVisible = !1, n.$emit("failed", t)
                }))) : this.onPublishBtnClick()
            }
        }, {
            key: "scheduledPublish", value: function () {
                var t = this;
                if (this.schPubDisabled) this.textLength > this.articleMaxTextCount ? this.linkMsg(this.$refs.publishBtn, "超过规定字数了哦~", "caution") : this.ifArticleBtnActive && this.showArticlePubConfirm(); else {
                    var e = this.editDraft ? 2 : this.isPopupPanel ? 1 : 0;
                    Object(Mt.d)(Dt.d.TIMER_SET, e);
                    var i = this.$refs.publishBtn;
                    if (this.specificationAgreed) {
                        var n, o, r, a, s = function (e) {
                            t.schConfirmText = e, t.schConfirmVisible = !0
                        }, c = new Date;
                        this.publishTime.getTime() - c.getTime() < -6e4 || this.publishTime.getTime() - c.getTime() < 0 && this.publishTime.getMinutes() !== c.getMinutes() ? s("设置的时间点已过，是否直接发布？") : this.publishTime.getTime() - c.getTime() < 3e5 ? s("设置的时间点过于接近当前时间，是否直接发布？") : (a = function () {
                            t.$emit("succeed", {
                                isScheduled: !0,
                                draft: {
                                    draft_id: r,
                                    publish_time: Math.ceil(t.publishTime.getTime() / 1e3),
                                    type: o,
                                    request: JSON.stringify(n),
                                    publish_status: 0
                                }
                            })
                        }, t.publishImageList.length > 0 ? (o = 2, n = t.albumPublishParam) : (o = 4, n = t.textPublishParam), t.editDraft ? t.bpapi({
                            url: "".concat(_.a.API_VC, "/dynamic_draft/v1/dynamic_draft/modify_draft"),
                            method: "post",
                            data: {
                                draft_id: t.editDraft.draft_id,
                                type: o,
                                publish_time: Math.ceil(t.publishTime.getTime() / 1e3),
                                request: JSON.stringify(n)
                            }
                        }).then((function () {
                            t.bus.$emit("empty-attach-data"), u.b.$emit("refresh-draft-feed", !0), t.linkMsg(i, "编辑定时发布成功", "success"), r = t.editDraft.draft_id, a(), t.handlePublishComplete(), t.publishHandler && t.publishHandler()
                        }), (function (e) {
                            t.linkMsg(i, e.msg, "error"), t.$emit("failed", e)
                        })) : t.bpapi({
                            url: "".concat(_.a.API_VC, "/dynamic_draft/v1/dynamic_draft/add_draft"),
                            method: "post",
                            data: {
                                type: o,
                                publish_time: Math.ceil(t.publishTime.getTime() / 1e3),
                                request: JSON.stringify(n)
                            }
                        }).then((function (e) {
                            t.bus.$emit("empty-attach-data"), t.linkMsg(i, "定时发布成功", "success"), r = e.data.draft_id, a(), t.handlePublishComplete(), t.publishHandler && t.publishHandler()
                        }), (function (e) {
                            t.linkMsg(i, e.msg, "error"), t.$emit("failed", e)
                        })))
                    } else this.showSpecification()
                }
            }
        }, {
            key: "dispatchFeedUpdate", value: function (t) {
                t && this.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_svr/v1/dynamic_svr/get_dynamic_detail"),
                    method: "get",
                    data: {dynamic_id: t}
                }).then((function (t) {
                    u.b.$emit(Dt.b.ADD, t.data.card)
                }))
            }
        }, {
            key: "generateAlbumFakeCard", value: function (t, e) {
                try {
                    var i = {
                        at_control: t.at_control,
                        category: "daily",
                        description: t.description,
                        pictures: t.pictures,
                        pictures_count: t.pictures.length,
                        reply: 0,
                        role: "",
                        source: "",
                        title: "",
                        id: e.doc_id
                    }, n = u.r.getMyUserInfo(), o = {head_url: n.card.face, uid: n.card.mid, name: n.card.name}, r = {
                        type: Dt.a.PIC,
                        uid: ~~n.card.mid,
                        dynamic_id: "-".concat(Wa),
                        user_profile: {
                            card: {},
                            info: {
                                face: n.card.face,
                                uid: n.card.mid,
                                uname: n.card.name,
                                platform_user_level: (n.card.level_info || {}).current_level
                            }
                        },
                        timestamp: Date.now()
                    };
                    Wa += 1;
                    var a = {
                        card: JSON.stringify({item: i, user: o}),
                        desc: r,
                        extend_json: t.extension,
                        did: e.dynamic_id_str
                    };
                    u.b.$emit(Dt.b.ADD, a)
                } catch (t) {
                    console.error(t)
                }
            }
        }, {
            key: "resetPublishBox", value: function () {
                this.bus.$emit("reset"), this.bus.$emit("set-comment-setting", ""), this.editDraft || this.isLockedAsScheduled || this.bus.$emit("schedule-trigger", !1)
            }
        }, {
            key: "specificationConfirm", value: function () {
                g.a.setItem("dy_spec_agreed", 1, 1 / 0, "/", ".bilibili.com"), this.specificationAgreed = !0, this.specificationShown = !1, this.isScheduled ? this.scheduledPublish() : this.onPublishBtnClick()
            }
        }, {
            key: "specificationCancel", value: function () {
                this.specificationShown = !1
            }
        }, {
            key: "scheduleEditDraftRecovery", value: function () {
                if (this.editDraft) {
                    var t = Number(this.editDraft.publish_time);
                    Number.isNaN(t) || (this.publishTime = new Date(1e3 * t)), this.bus.$emit("schedule-trigger", !0);
                    var e = Object(g.e)(this.editDraft.request);
                    if (e.pictures) {
                        var i = [];
                        i = "string" == typeof e.pictures ? Object(g.e)(e.pictures) : e.pictures, this.bus.$emit("image-draft-update", i)
                    }
                    var n = e.content || "";
                    this.bus.$emit("text-update", n), e.up_choose_comment ? this.bus.$emit("set-comment-setting", _a) : e.up_close_comment ? this.bus.$emit("set-comment-setting", ba) : this.bus.$emit("set-comment-setting", ya)
                }
            }
        }, {
            key: "setLocalStorage", value: function () {
                if ("undefined" != typeof window && this.loginUid && !this.isLockedAsScheduled) if (this.content.length > 0 || this.publishImageList.length > 0) {
                    if (this.topicName) return;
                    var t = {
                        text: this.content,
                        ctrlObj: this.ctrlObj,
                        extensionObj: this.extensionObj,
                        imageList: this.publishImageList
                    };
                    window.localStorage.setItem("bp_publish_draft_v2_".concat(this.loginUid), JSON.stringify(t))
                } else window.localStorage.removeItem("bp_publish_draft_v2_".concat(this.loginUid))
            }
        }, {
            key: "initLocalStorage", value: function () {
                if (this.storeInput && !this.isLockedAsScheduled && "undefined" != typeof window && this.loginUid) {
                    var t = window.localStorage.getItem("bp_publish_draft_v2_".concat(this.loginUid));
                    if (t) {
                        var e = Object(g.e)(t);
                        this.bus.$emit("text-update", e.text);
                        var i = e.ctrlObj.vote ? e.ctrlObj.vote[0] : null, n = e.extensionObj.vote;
                        this.bus.$emit("vote-restore", {ctrl: i, extension: n});
                        var o = e.ctrlObj.lottery ? e.ctrlObj.lottery[0] : null, r = e.extensionObj.lottery;
                        this.bus.$emit("lottery-restore", {ctrl: o, extension: r})
                    }
                }
            }
        }, {
            key: "checkIfShowArticlePubTips", value: function () {
                var t = this;
                "undefined" != typeof window && "true" !== window.localStorage.getItem("dynamic_article_publish_intro_".concat(this.loginUid)) && (t.articlePubTipsVisable = !0, window.localStorage.setItem("dynamic_article_publish_intro_".concat(t.loginUid), String(!0)), setTimeout((function () {
                    t.articlePubTipsVisable = !1
                }), 5e3))
            }
        }, {
            key: "articlePubShowReport", value: function () {
                var t = "444.41", e = "publish_article_show1";
                this.isPopupPanel && (e = "publish_article_show2"), this.topicName && (e = "publish_article_show", t = "333.169"), xe.a.event({
                    spmId: t,
                    event: e
                })
            }
        }, {
            key: "articlePubClickReport", value: function () {
                var t = "444.41", e = "publish_article_click1";
                this.isPopupPanel && (e = "publish_article_click2"), this.topicName && (e = "publish_article_click", t = "333.169"), xe.a.event({
                    spmId: t,
                    event: e
                })
            }
        }, {
            key: "content", get: function () {
                return (this.text || this.placeText).replace(/\n{2,}/g, "\n\n").replace(/^\n+/, "").replace(/\n+$/, "").replace(/^ +/, "").replace(/ +$/, " ")
            }
        }, {
            key: "settings", get: function () {
                var t = [];
                return this.canCloseComment && t.push(ba), this.canPickComment && t.push(_a), t
            }
        }, {
            key: "hasSettingPermission", get: function () {
                return this.settings.length > 0
            }
        }, {
            key: "textLength", get: function () {
                return Object(u.g)(this.content)
            }
        }, {
            key: "leftTextCount", get: function () {
                return this.maxLength - this.textLength
            }
        }, {
            key: "indicatorShowTextCount", get: function () {
                return this.leftTextCount < 0 ? this.leftTextCount : this.textLength
            }
        }, {
            key: "ifShowArticleBtn", get: function () {
                return this.textLength >= this.articleMinTextCount && !this.editDraft && !this.isLockedAsScheduled
            }
        }, {
            key: "ifArticleBtnActive", get: function () {
                return this.textLength >= this.articleMinTextCount && this.textLength <= this.articleMaxTextCount
            }
        }, {
            key: "publishBtnText", get: function () {
                var t = "发布";
                return this.isScheduled ? t = !this.editDraft && this.scheduledCount > 20 ? "已满上限" : "定时发布" : this.isPublishing && (t = "发布中"), t
            }
        }, {
            key: "publishImageList", get: function () {
                return this.imageList.filter((function (t) {
                    return !t.status && t.img_src && "" !== t.img_src
                })).map((function (t) {
                    return {img_src: t.img_src, img_width: t.img_width, img_height: t.img_height, img_size: t.img_size}
                }))
            }
        }, {
            key: "disabled", get: function () {
                return 0 === this.textLength && 0 === this.publishImageList.length || this.textLength > this.maxLength || this.imageList.length !== this.publishImageList.length || this.topicName && this.content === "#".concat(this.topicName, "#")
            }
        }, {
            key: "schPubDisabled", get: function () {
                return this.disabled || !this.editDraft && this.scheduledCount >= 20
            }
        }]) && za(e.prototype, i), n && za(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], Ja.prototype, "bus", void 0), Object(c.a)([Object(l.b)()], Ja.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)({
        type: Number,
        default: function () {
            return 1e3
        }
    })], Ja.prototype, "maxLength", void 0), Object(c.a)([Object(l.b)(String)], Ja.prototype, "topicName", void 0), Object(c.a)([Object(l.b)()], Ja.prototype, "editDraft", void 0), Object(c.a)([Object(l.b)(Number)], Ja.prototype, "scheduledCount", void 0), Object(c.a)([Object(l.b)(Boolean)], Ja.prototype, "storeInput", void 0), Object(c.a)([Object(l.b)(Boolean)], Ja.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.b)(Boolean)], Ja.prototype, "onScheduleMode", void 0), Object(c.a)([Object(l.b)(Function)], Ja.prototype, "publishHandler", void 0), Object(c.a)([Object(l.b)(Boolean)], Ja.prototype, "isLockedAsScheduled", void 0), Object(c.a)([Object(l.b)(Boolean)], Ja.prototype, "canPickComment", void 0), Object(c.a)([Object(l.b)(Boolean)], Ja.prototype, "canCloseComment", void 0), Object(c.a)([Object(l.b)({
        type: String,
        default: ""
    })], Ja.prototype, "placeText", void 0), Object(c.a)([Object(l.d)("extendCtrlJson")], Ja.prototype, "onExtendCtrlJson", null), Object(c.a)([Object(l.d)("isLockedAsScheduled")], Ja.prototype, "onLockedAsScheduledChange", null), Object(c.a)([Object(l.d)("onScheduleMode")], Ja.prototype, "onScheduleModeChange", null), Object(c.a)([Object(l.d)("loginUid")], Ja.prototype, "onLoginUidChange", null), Object(c.a)([Object(l.d)("publishImageList")], Ja.prototype, "onPublishImageListChange", null), Object(c.a)([Object(l.d)("publishTime")], Ja.prototype, "onPublishTime", null), Object(c.a)([Object(l.d)("ifShowArticleBtn")], Ja.prototype, "onIfShowArticleBtn", null);
    var Ya, Ka = Ja = Object(c.a)([Object(l.a)({
        name: "publish-launcher",
        components: {DynamicSpecification: Aa, BpPopup: La.a, CommentSetting: Pa}
    })], Ja), Za = (i(447), Object(M.a)(Ka, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "publish-launcher",
            class: {"is-popup-panel": t.isPopupPanel}
        }, [i("span", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: 0 !== t.indicatorShowTextCount,
                expression: "indicatorShowTextCount !== 0"
            }],
            staticClass: "indicator",
            class: {"too-long": t.textLength > t.maxLength},
            attrs: {title: "全角字符计数为1\n半角字符计数为0.5，不足1时记为1"}
        }, [t._v(t._s(t.indicatorShowTextCount))]), t.hasSettingPermission ? i("comment-setting", {
            attrs: {
                settings: t.settings,
                bus: t.bus,
                "login-uid": t.loginUid
            }
        }) : t._e(), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.ifShowArticleBtn,
                expression: "ifShowArticleBtn"
            }], staticClass: "article-pub-btn-box"
        }, [t.articlePubTipsVisable && t.ifShowArticleBtn ? i("div", {staticClass: "article-pub-tips"}, [i("span", [t._v("字数较多，点击可以快速发布专栏")]), i("i", {
            staticClass: "bp-icon-font icon-group-dynamic",
            on: {
                click: function (e) {
                    t.articlePubTipsVisable = !1
                }
            }
        })]) : t._e(), i("button", {
            staticClass: "publish-btn d-i-block bp-v-middle to-article",
            class: {disabled: !t.ifArticleBtnActive},
            on: {click: t.articlePubConfirm}
        }, [t._v("转为专栏\n    ")])]), t.isScheduled ? t._e() : i("button", {
            ref: "publishBtn",
            staticClass: "publish-btn d-i-block bp-v-middle",
            class: {publishing: t.isPublishing, disabled: t.disabled && !t.ifArticleBtnActive},
            on: {click: t.onPublishBtnClick}
        }, [t._v(t._s(t.publishBtnText) + "\n  ")]), t.isScheduled ? i("button", {
            ref: "publishBtn",
            staticClass: "publish-btn d-i-block bp-v-middle",
            class: {publishing: t.isPublishing, disabled: t.schPubDisabled && !t.ifArticleBtnActive},
            on: {click: t.scheduledPublish}
        }, [t._v(t._s(t.publishBtnText) + "\n  ")]) : t._e(), i("bp-popup", {
            staticClass: "dynamic-specification-popup",
            class: {"is-popup": t.isPopupPanel},
            attrs: {
                show: t.specificationShown,
                width: 796,
                button: {confirm: "确认并发送"},
                "on-confirm": t.specificationConfirm,
                "on-cancel": t.specificationCancel
            }
        }, [i("dynamic-specification")], 1), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.schConfirmVisible,
                expression: "schConfirmVisible"
            }], staticClass: "sch-confirm-wrapper"
        }, [i("bp-popup", {
            ref: "schPubConfirm",
            staticClass: "sch-confirm",
            attrs: {
                show: t.schConfirmVisible,
                button: {confirm: "是", cancel: "否"},
                width: 360,
                onConfirm: t.schPubConfirm,
                onCancel: function () {
                    t.schConfirmVisible = !1
                }
            }
        }, [i("p", [t._v(t._s(t.schConfirmText))])])], 1), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.articlePubConfirmVisible,
                expression: "articlePubConfirmVisible"
            }], staticClass: "sch-confirm-wrapper"
        }, [i("bp-popup", {
            ref: "artPubConfirm",
            staticClass: "sch-confirm",
            attrs: {
                title: "动态字数过多",
                show: t.articlePubConfirmVisible,
                button: {confirm: "发布专栏", cancel: "取消"},
                width: 360,
                onConfirm: t.articlePubConfirm,
                onCancel: function () {
                    t.articlePubConfirmVisible = !1
                }
            }
        }, [i("p", [t._v("是否转为专栏发布？")])])], 1)], 1)
    }), [], !1, null, "d0fcfa2c", null).exports);
    i(228), i(448);

    function Xa(t) {
        return (Xa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Qa(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function ts(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function es(t, e) {
        return (es = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function is(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = os(t);
            if (e) {
                var o = os(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return ns(this, i)
        }
    }

    function ns(t, e) {
        return !e || "object" !== Xa(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function os(t) {
        return (os = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function rs(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var as = [{
        type: "comment-setting",
        active: "default",
        config: (Ya = {}, rs(Ya, "default", ""), rs(Ya, _a, "动态发布后评论内容在经过你的精选后向所有用户展示"), rs(Ya, ba, "动态发布后将关闭评论区"), Ya)
    }], ss = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && es(t, e)
        }(r, t);
        var e, i, n, o = is(r);

        function r() {
            var t;
            return Qa(this, r), (t = o.apply(this, arguments)).config = {}, t
        }

        return e = r, (i = [{
            key: "created", value: function () {
                this.init()
            }
        }, {
            key: "init", value: function () {
                var t = this;
                as.forEach((function (e) {
                    t.$set(t.config, e.type, e), t.bus.$on("".concat(e.type, "-update"), (function (i) {
                        var n = i || "default";
                        t.config[e.type].active = n
                    }))
                }))
            }
        }, {
            key: "render", value: function () {
                var t = arguments[0], e = Object.values(this.config).map((function (t) {
                    return t.config[t.active]
                })).filter(Boolean);
                return t("div", {class: "publish-tip"}, [e.map((function (e) {
                    return t("div", [e])
                }))])
            }
        }]) && ts(e.prototype, i), n && ts(e, n), r
    }(l.c);
    Object(c.a)([Object(l.b)()], ss.prototype, "bus", void 0);
    var cs = ss = Object(c.a)([Object(l.a)({name: "publish-tip"})], ss), ls = (i(508), i(115)), us = {},
        ds = (i(449), Object(M.a)(us, (function () {
            var t = this.$createElement;
            this._self._c;
            return this._m(0)
        }), [function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "specification p-rel"}, [e("iframe", {
                staticClass: "iframe",
                attrs: {src: "//t.bilibili.com/h5/dynamic/specification"}
            })])
        }], !1, null, "7f2da7ec", null).exports), hs = {
            props: {arrow: {type: Boolean, default: !1}, width: {type: Number, default: 300}}, data: function () {
                return {}
            }, methods: {
                onClose: function (t) {
                    this.$emit("close"), t.stopPropagation()
                }
            }
        }, fs = (i(450), Object(M.a)(hs, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("transition", {attrs: {name: "move-in"}}, [e("div", {
                staticClass: "static-popup",
                class: {"bp-arrow": this.arrow},
                style: {width: this.width + "px"}
            }, [e("div", {
                staticClass: "bp-icon-font icon-group-dynamic close-btn",
                on: {click: this.onClose}
            }), e("div", {staticClass: "title"}, [this._t("title")], 2), e("div", {staticClass: "content-ctnr"}, [this._t("default")], 2)])])
        }), [], !1, null, "3bcd26f6", null).exports), ps = {
            data: function () {
                return {isShow: !0}
            },
            props: {
                status: {type: String, default: ""},
                errorText: {type: String, default: ""},
                imgUrl: {type: String, default: ""}
            },
            computed: {
                bgImg: function () {
                    var t = Object(g.g)(Object(wt.bfsImgLink)(this.imgUrl, 80, 80, {e: 1, c: 1}));
                    return /\.gif$/.test(t) && (t += "@1s.jpg"), t
                }
            }
        }, ms = (i(451), Object(M.a)(ps, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "upload-status"}, ["loading" === t.status ? i("div", {staticClass: "loading-wrapper"}, [i("span", {staticClass: "loading"})]) : t._e(), "error" === t.status ? i("div", {staticClass: "error-wrapper b-box"}, [i("span", {staticClass: "bp-svg-icon error"}), i("span", {
                staticClass: "reason",
                domProps: {textContent: t._s(t.errorText)}
            })]) : t._e(), t.imgUrl ? i("div", {
                staticClass: "success-wrapper bg-center bg-cover",
                style: {backgroundImage: "url(" + t.bgImg + ")"}
            }) : t._e(), t._t("editBtn"), t._t("close")], 2)
        }), [], !1, null, "20c6bfae", null).exports);

    function vs(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    function gs(t) {
        return function () {
            var e = this, i = arguments;
            return new Promise((function (n, o) {
                var r = t.apply(e, i);

                function a(t) {
                    vs(r, n, o, a, s, "next", t)
                }

                function s(t) {
                    vs(r, n, o, a, s, "throw", t)
                }

                a(void 0)
            }))
        }
    }

    function ys(t) {
        return new Promise((function (e) {
            var i = new FileReader;
            i.onload = function (t) {
                var i = new DataView(t.target.result);
                65496 !== i.getUint16(0, !1) && e(-2);
                for (var n = i.byteLength, o = 2; o < n;) {
                    i.getUint16(o + 2, !1) <= 8 && e(-1);
                    var r = i.getUint16(o, !1);
                    if (o += 2, 65505 === r) {
                        1165519206 !== i.getUint32(o += 2, !1) && e(-1);
                        var a = 18761 === i.getUint16(o += 6, !1);
                        o += i.getUint32(o + 4, a);
                        var s = i.getUint16(o, a);
                        o += 2;
                        for (var c = 0; c < s; c++) 274 === i.getUint16(o + 12 * c, a) && e(i.getUint16(o + 12 * c + 8, a))
                    } else {
                        if (65280 != (65280 & r)) break;
                        o += i.getUint16(o, !1)
                    }
                }
                e(-1)
            }, i.readAsArrayBuffer(t)
        }))
    }

    function bs() {
        return (bs = gs(st.a.mark((function t(e) {
            var n, o, r, a, s, c, l, u;
            return st.a.wrap((function (t) {
                for (; ;) switch (t.prev = t.next) {
                    case 0:
                        return t.next = 2, ys(e);
                    case 2:
                        if (!((n = t.sent) < 2 || n > 8)) {
                            t.next = 5;
                            break
                        }
                        return t.abrupt("return", e);
                    case 5:
                        return (o = new Image).src = window.URL ? window.URL.createObjectURL(e) : window.webkitURL.createObjectURL(e), t.next = 9, new Promise((function (t) {
                            o.onload = function () {
                                return t()
                            }
                        }));
                    case 9:
                        if (s = 0, c = !1, [5, 6, 7, 8].some((function (t) {
                            return t === n
                        })) ? (r = o.height, a = o.width) : (r = o.width, a = o.height), [7, 8].some((function (t) {
                            return t === n
                        })) && (s = 1.5 * Math.PI), [3, 4].some((function (t) {
                            return t === n
                        })) && (s = Math.PI), [5, 6].some((function (t) {
                            return t === n
                        })) && (s = .5 * Math.PI), [2, 4, 5, 7].some((function (t) {
                            return t === n
                        })) && (c = !0), l = document.createElement("canvas"), u = l.getContext("2d"), l.width = r, l.height = a, c && (u.translate(r, 0), u.scale(-1, 1)), u.translate(r / 2, a / 2), u.rotate(s), u.drawImage(o, -o.width / 2, -o.height / 2), l.toBlob) {
                            t.next = 27;
                            break
                        }
                        return t.next = 27, i.e(2).then(i.t.bind(null, 606, 7));
                    case 27:
                        return t.abrupt("return", new Promise((function (t) {
                            l.toBlob((function (e) {
                                return t(e)
                            }), "image/jpeg")
                        })));
                    case 28:
                    case"end":
                        return t.stop()
                }
            }), t)
        })))).apply(this, arguments)
    }

    var _s = {
        data: function () {
            return {
                uid: "",
                localUploadList: [],
                gifMaxMByte: 8,
                errorType: {
                    common: "上传失败",
                    mbyte: "文件大小请勿超过".concat(this.maxMByte, "M"),
                    gifbype: "请上传小于".concat(8, "M的gif图"),
                    size: "宽高均不得小于".concat(this.minWidth, "像素"),
                    format: "仅支持JPG PNG GIF"
                },
                uploadBtnStyle: {}
            }
        }, mounted: function () {
            var t = this;
            this.localUploadList = this.localUploadList.concat(this.draftPic), this.setInitFiles(), new It.a(this.$refs.uploadList, {
                filter: ".close",
                draggable: ".draggable",
                animation: 500,
                onMove: function (t) {
                    return t.related && t.related.className.indexOf("draggable") >= 0
                },
                onEnd: function (e) {
                    t.localUploadList.splice(e.newIndex, 0, t.localUploadList.splice(e.oldIndex, 1)[0])
                }
            })
        }, watch: {
            localUploadList: function (t) {
                this.$emit("update", t)
            }
        }, props: {
            initFiles: {},
            draftPic: {
                type: Array, default: function () {
                    return []
                }
            },
            editStatus: {type: Boolean, default: !0},
            maxAmount: {type: Number, default: 20},
            formatList: {
                type: Array, default: function () {
                    return ["jpg", "jpeg", "png", "gif"]
                }
            },
            maxMByte: {type: Number, default: 20},
            minWidth: {type: Number, default: 10},
            minHeight: {type: Number, default: 10}
        }, components: {UploadStatus: ms}, methods: {
            setInitFiles: function () {
                this.initFiles.length > 0 && (this.checkFilesAmount(this.initFiles), this.selectImage(this.initFiles))
            }, selectImage: function (t) {
                var e = this, i = Array.prototype.map.call(t, (function () {
                    return {status: "loading", errorText: "", imgUrl: ""}
                })), n = this.localUploadList.length;
                this.localUploadList = this.localUploadList.concat(i), this.localUploadList.length > this.maxAmount && this.localUploadList.splice(this.maxAmount, this.localUploadList.length - this.maxAmount);
                for (var o = function (i, o) {
                    var r = t[i - n];
                    e.checkFormat(r.type) || e.$set(e.localUploadList, i, {
                        status: "error",
                        errorText: e.errorType.format,
                        id: e.randomNum()
                    });
                    var a = function (t) {
                        var n = new Image;
                        n.src = URL.createObjectURL(t), n.onload = function () {
                            var o = e.checkImage(r.type, r.size, n.width, n.height);
                            o ? e.$set(e.localUploadList, i, {
                                status: "error",
                                errorText: o,
                                id: e.randomNum()
                            }) : e.uploadImage(t, i)
                        }
                    };
                    ["jpg", "jpeg"].some((function (t) {
                        return r.type.indexOf(t) > -1
                    })) ? function (t) {
                        return bs.apply(this, arguments)
                    }(r).then((function (t) {
                        a(t)
                    })) : a(r)
                }, r = n, a = this.localUploadList.length; r < a; r++) o(r)
            }, uploadImage: function (t, e) {
                var i = this, n = new FormData;
                n.append("file_up", t), n.append("biz", "draw"), n.append("category", "daily"), this.bpapi({
                    url: "".concat(_.a.API_VC, "/api/v1/drawImage/upload"),
                    method: "post",
                    data: n,
                    headers: {"Content-Type": "multipart/form-data"}
                }).then((function (n) {
                    i.$set(i.localUploadList, e, {
                        img_src: n.data.image_url,
                        img_width: n.data.image_width,
                        img_height: n.data.image_height,
                        img_size: t.size / 1024,
                        id: i.randomNum()
                    })
                }), (function () {
                    i.$set(i.localUploadList, e, {status: "error", errorText: "上传失败", id: i.randomNum()})
                }))
            }, clickSelect: function (t) {
                var e = t.target || t.srcElement, i = e.files;
                this.checkFilesAmount(i), this.selectImage(i), e.value = ""
            }, dropSelect: function (t) {
                t.stopPropagation(), t.preventDefault();
                var e = t.dataTransfer.files;
                this.checkFilesAmount(e), this.selectImage(e)
            }, checkFilesAmount: function (t) {
                this.localUploadList.length + t.length > this.maxAmount && this.linkMsg(this.$refs.uploadBtn, "上传图片不得超过".concat(this.maxAmount, "张（￣∞￣）"), "caution")
            }, dragover: function (t) {
                t.stopPropagation(), t.preventDefault(), t.dataTransfer.dropEffect = "copy"
            }, checkImage: function (t, e, i, n) {
                return this.checkFormat(t) ? t.indexOf("gif") > -1 && Math.floor(e / 1024 / 1024) >= this.gifMaxMByte ? this.errorType.gifbype : Math.floor(e / 1024 / 1024) >= this.maxMByte ? this.errorType.mbyte : (i < this.minWidth || n < this.minHeight) && this.errorType.size : this.errorType.format
            }, checkFormat: function (t) {
                for (var e = 0, i = this.formatList.length; e < i; e++) if (t.indexOf(this.formatList[e]) > -1) return !0
            }, removeUploadItem: function (t) {
                this.localUploadList.splice(t, 1)
            }, randomNum: function () {
                return Date.now() * Math.ceil(1e5 * Math.random())
            }
        }
    }, ws = (i(452), Object(M.a)(_s, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "upload-image-wrapper"}, [i("div", {
            ref: "dropZone",
            staticClass: "upload-image",
            class: {center: !t.localUploadList.length},
            on: {dragover: t.dragover, drop: t.dropSelect}
        }, [i("div", {
            ref: "uploadList",
            staticClass: "f-clear upload-list"
        }, [t._l(t.localUploadList, (function (e, n) {
            return i("upload-status", {
                key: e.id || e.img_src,
                staticClass: "draggable f-left",
                attrs: {status: e.status, "error-text": e.errorText, "img-url": e.img_src}
            }, [i("span", {
                staticClass: "close pointer a-fade-in", attrs: {slot: "close"}, on: {
                    click: function (e) {
                        return t.removeUploadItem(n)
                    }
                }, slot: "close"
            }, [i("i", {staticClass: "bp-icon-font icon-group-dynamic c-pointer"})])])
        })), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.localUploadList.length < parseInt(t.maxAmount),
                expression: "localUploadList.length < parseInt(maxAmount)"
            }], ref: "uploadBtn", staticClass: "f-left upload-btn b-box"
        }, [i("input", {
            ref: "uploadInput",
            staticClass: "upload pointer",
            attrs: {type: "file", accept: "image/png, image/jpeg, image/jpg, image/gif", multiple: ""},
            on: {change: t.clickSelect}
        }), i("i", {staticClass: "bp-icon-font icon-add pointer"})])], 2)])])
    }), [], !1, null, "14a3591d", null).exports), Cs = {
        props: {
            initFiles: {}, draftPic: {
                type: Array, default: function () {
                    return []
                }
            }
        }, data: function () {
            return {imageList: [], selectedFiles: this.initFiles}
        }, components: {StaticBox: fs, ImageUploader: ws}, methods: {
            updateImageList: function (t) {
                this.imageList = t, this.$emit("update", t)
            }, close: function () {
                this.$emit("close")
            }
        }
    }, xs = (i(453), Object(M.a)(Cs, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("static-box", {
            staticClass: "upload-image-box",
            attrs: {width: 290, arrow: !0},
            on: {close: t.close}
        }, [i("span", {
            attrs: {slot: "title"},
            slot: "title"
        }, [t._v("图片上传"), i("span", {staticClass: "d-i-block hint"}, [t._v(t._s(t.imageList.length) + " / 9")])]), i("image-uploader", {
            attrs: {
                "max-amount": 9,
                "init-files": t.selectedFiles,
                "draft-pic": t.draftPic
            }, on: {update: t.updateImageList}
        })], 1)
    }), [], !1, null, "64344f08", null).exports), ks = {
        props: {size: {type: Number, default: 16}, value: {type: Boolean, default: !1}}, data: function () {
            return {}
        }, computed: {
            checkboxStyle: function () {
                return "width: ".concat(this.size, "px; height: ").concat(this.size, "px")
            }
        }, watch: {}, components: {}, created: function () {
        }, methods: {}
    }, Is = (i(454), Object(M.a)(ks, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            staticClass: "c-pointer", on: {
                click: function (e) {
                    return t.$emit("input", !t.value)
                }
            }
        }, [i("div", {
            staticClass: "checkbox",
            class: {checked: t.value},
            style: t.checkboxStyle
        }, [i("input", {staticClass: "hidden", attrs: {type: "checkbox"}})]), t._t("default")], 2)
    }), [], !1, null, "873af74a", null).exports), Ss = {
        name: "div-edit",
        props: {
            value: {type: String, default: ""},
            placeholder: {type: String, default: "有什么想和大家分享的？"},
            divClass: {type: Object},
            loginUid: {type: Number},
            storeInput: {tpye: Boolean, default: !1}
        },
        data: function () {
            return {waitInput: !1, isLocked: !1, content: "", nodes: []}
        },
        computed: {},
        created: function () {
            Object(d.b)()
        },
        mounted: function () {
            var t = this;
            this.$refs.div.focus(), this.$emit("input", Object(u.f)(this.$refs.div)), setTimeout((function () {
                t.$refs.div.value = Object(u.f)(t.$refs.div), t.content = t.$refs.div.value
            }))
        },
        watch: {
            value: function () {
                this.isLocked && this.value || (this.content = this.$refs.div.value, this.$refs.div.value = Object(u.f)(this.$refs.div)), "" === this.value && (this.$refs.div.textContent = "", this.$refs.div.value = "", this.content = "")
            }
        },
        methods: {
            changeText: function () {
                var t = this, e = Object(u.f)(this.$refs.div);
                if (!this.waitInput && e && "" === e.trim()) return this.$refs.div.textContent = "", this.$refs.div.value = "", void (this.content = "");
                this.$refs.div.value = e, this.content = this.$refs.div.value, this.$emit("input", e), this.$nextTick((function () {
                    var e = t.$refs.div.childNodes;
                    t.nodes = [];
                    for (var i = 0; i < e.length; i++) "#text" === e[i].nodeName ? t.nodes.push(Object(u.c)(e[i].nodeValue)) : t.nodes.push(e[i].outerHTML);
                    t.storeInput && localStorage.setItem("dynamic_publisher_div_html_".concat(t.loginUid), JSON.stringify(t.nodes))
                }))
            }, onPaste: function (t) {
                var e = "";
                (e = window.clipboardData && window.clipboardData.setData ? window.clipboardData.getData("text") : (t.originalEvent || t).clipboardData.getData("text/plain") || "") && (window.getSelection().deleteFromDocument(), Object(u.f)(this.$refs.div).trim() || e.trim() ? (e = (e = Object(u.c)(e).replace(/ /g, "&nbsp")).replace(/\r\n/g, "<br>").replace(/\r/g, "<br>").replace(/\n/g, "<br>"), e = Object(d.e)(e), this.insertHtmlAtCaret(e)) : this.$emit("input", ""))
            }, insertHtmlAtCaret: function (t) {
                Object(u.j)(t), this.$refs.div.value = Object(u.f)(this.$refs.div), this.content = this.$refs.div.value
            }
        }
    }, Os = (i(455), Object(M.a)(Ss, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            class: {"placeholder-shown": !t.content},
            attrs: {placeholder: t.placeholder}
        }, [i("div", {
            ref: "div",
            staticClass: "editor",
            class: t.divClass,
            attrs: {contenteditable: "true"},
            on: {
                input: t.changeText, DOMNodeInserted: t.changeText, compositionstart: function (e) {
                    t.waitInput = !0
                }, compositionend: function (e) {
                    t.waitInput = !1
                }, focus: function (e) {
                    t.isLocked = !0
                }, blur: function (e) {
                    t.isLocked = !1
                }, paste: function (e) {
                    return e.preventDefault(), t.onPaste(e)
                }
            }
        })])
    }), [], !1, null, "00414ad8", null).exports);

    function Ts(t) {
        return function (t) {
            if (Array.isArray(t)) return Es(t)
        }(t) || function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
        }(t) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return Es(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return Es(t, e)
        }(t) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function Es(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    function Ps(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function Ls(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? Ps(Object(i), !0).forEach((function (e) {
                js(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : Ps(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function js(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var As = 1;
    var Ms = {
        data: function () {
            return {
                isPopupPanel: !1,
                emojiBoxShown: !1,
                imageBoxShown: !1,
                settingShown: !1,
                userInput: "",
                maxLength: 233,
                textarea: null,
                emojiTrigger: null,
                imageList: [],
                selectedFiles: {},
                isPublishing: !1,
                supportFileUpload: !1,
                specificationAgreed: !1,
                specificationShown: !1,
                uid: "",
                draftPic: [],
                isMounted: !1,
                atItems: [],
                voteShow: !1,
                voteConfig: {},
                lotteryShow: !1,
                lotteryConfig: {},
                pickCommentOn: !1,
                nodes: [],
                isSafari: !1,
                isIE: !1,
                isScheduled: Boolean(this.editDraft || this.isLockedAsScheduled),
                publishTime: void 0,
                schPubTipsVisable: !1,
                schConfirmVisible: !1,
                schConfirmText: ""
            }
        },
        computed: {
            content: function () {
                return this.userInput.replace(/\n{2,}/g, "\n\n").replace(/^\n+/, "").replace(/\n+$/, "").trim()
            }, validDraftPic: function () {
                return this.draftPic.filter((function (t) {
                    return t && void 0 !== t.img_src
                }))
            }, contentLength: function () {
                return this.content.length
            }, publishedImages: function () {
                return this.imageList.filter((function (t) {
                    return !t.status && t.img_src && "" !== t.img_src
                })).map((function (t) {
                    return {img_src: t.img_src, img_width: t.img_width, img_height: t.img_height, img_size: t.img_size}
                }))
            }, disabled: function () {
                return (0 === this.contentLength || this.contentLength > this.maxLength) && 0 === this.publishedImages.length || this.imageList.length > this.publishedImages.length || this.topicName && this.content === "#".concat(this.topicName, "#")
            }, schPubDisabled: function () {
                return this.disabled || !this.publishTime || !this.editDraft && this.scheduledCount >= 20
            }, textareaActive: function () {
                return this.emojiBoxShown
            }, voteIndex: function () {
                return this.voteConfig.title ? this.content.indexOf("​".concat(this.voteConfig.title)) : -1
            }, lotteryIndex: function () {
                return this.lotteryConfig.title ? this.content.indexOf("​".concat(this.lotteryConfig.title)) : -1
            }
        },
        props: {
            topicName: {type: String},
            loginUid: {type: Number, default: 0},
            storeInput: {tpye: Boolean, default: !1},
            publishHandler: {type: Function},
            canVote: {type: Boolean},
            canLottery: {type: Boolean},
            canPickComment: {type: Boolean},
            canBeScheduled: {type: Boolean, default: !1},
            scheduledCount: {type: Number, default: 0},
            editDraft: {type: Object, default: null},
            isLockedAsScheduled: {type: Boolean, default: !1}
        },
        components: {
            EmojiBox: ct.a,
            ImageBox: xs,
            BpPopup: La.a,
            DynamicSpecification: ds,
            AtPopup: ls.a,
            HashPopup: he,
            DivEdit: Os,
            Vote: tn,
            Lottery: Vo,
            CheckBox: Is,
            DatePicker: Y
        },
        beforeMount: function () {
            var t = Object(g.d)();
            this.isIE = -1 !== t.indexOf("IE"), this.isSafari = -1 !== t.indexOf("Safari"), this.supportFileUpload = "IE 9" !== t && "IE Legacy" !== t
        },
        created: function () {
            var t = this;
            Object(d.b)(), u.b.$on("textChange", (function (e) {
                t.userInput = e
            })), this.topicName && "" === this.userInput && (this.isIE ? this.userInput = "#".concat(this.topicName, "# ") : setTimeout((function () {
                t.textarea.focus(), Object(u.j)(Object(u.c)("#".concat(t.topicName, "#&nbsp;")))
            })))
        },
        mounted: function () {
            var t = this;
            this.specificationAgreed = 1 === parseInt(g.a.getItem("dy_spec_agreed")), this.isMounted = !0, this.isIE ? (this.textarea = this.$refs.textarea, this.autoHeight(this.textarea, 200)) : this.textarea = this.$refs.textarea.$refs.div, this.emojiTrigger = this.$refs.emojiTrigger;
            var e = this.getPopupPanel();
            if (this.isPopupPanel = !!e, this.setPopupOffset(e), setTimeout((function () {
                t.addVoteClick(), t.addLotteryClick()
            }), 0), this.throttleShowLimitToast = Object(g.f)(this.showLimitToast, 300), this.throttleShowLimitToast2 = Object(g.f)(this.showLimitToast2, 300), this.editDraft) {
                var i = Number(this.editDraft.publish_time);
                Number.isNaN(i) || (this.publishTime = new Date(1e3 * i));
                var n = Object(g.e)(this.editDraft.request);
                n.pictures && (this.imageBoxShown = !0, "string" == typeof n.pictures ? this.draftPic = Object(g.e)(n.pictures) : this.draftPic = n.pictures), this.pickCommentOn = !!n.up_choose_comment, this.textarea.innerHTML = "", this.textarea.focus();
                var o = this.restoreFromEditDraft();
                this.insertHtmlAtCaret(o)
            }
        },
        watch: {
            loginUid: function (t) {
                t && (this.initLocalStorage(), this.scheduledPublishTips())
            }, userInput: function (t) {
                var e = this;
                this.storeInput && localStorage.setItem("dynamic_publisher_".concat(this.loginUid), t), this.$nextTick((function () {
                    var t = e.textarea.getElementsByClassName("bp-vote-span");
                    0 === t.length && (e.voteConfig = {}), 0 === (t = e.textarea.getElementsByClassName("bp-lottery-span")).length && (e.lotteryConfig = {}), 0 === (t = e.textarea.getElementsByClassName("bp-at-span")).length && (e.atItems = [])
                })), "" !== t && "" === t.trim() && (this.userInput = "", u.b.$emit("textChange", ""))
            }, atItems: function (t) {
                localStorage.setItem("dynamic_publisher_at_".concat(this.loginUid, "_config"), JSON.stringify(t))
            }, voteIndex: function (t) {
                t < 0 && (this.clearVote(), this.onVoteCancel(), this.voteConfig = {}, localStorage.setItem("dynamic_publisher_vote_".concat(this.loginUid, "_config"), "{}"))
            }, lotteryIndex: function (t) {
                t < 0 && (this.clearLottery(), this.onLotteryCancel(), this.lotteryConfig = {}, localStorage.setItem("dynamic_publisher_lottery_".concat(this.loginUid, "_config"), "{}"))
            }, isLockedAsScheduled: function (t) {
                this.isScheduled = !!t
            }, schConfirmVisible: function (t) {
                var e = this;
                this.$nextTick((function () {
                    var i = e.$refs.schPubConfirm;
                    if (t && e.isPopupPanel && i) {
                        var n = i.$el.parentNode.parentNode.getBoundingClientRect();
                        i.$el.parentNode.style = "top: -".concat(n.top, "px;left: -").concat(n.left, "px")
                    }
                }))
            }
        },
        methods: {
            showLimitToast: function () {
                this.linkMsg(this.textarea, "您的浏览器暂不支持投票发起功能", "caution")
            }, showLimitToast2: function () {
                this.linkMsg(this.textarea, "您的浏览器暂不支持推广功能", "caution")
            }, restoreDraft: function () {
                var t = this;
                this.nodes.forEach((function (e) {
                    "" === e || /^(<\/?div\/?>)*(<br\/?>)*(<\/?div\/?>)*$/.test(e) || t.insertHtmlAtCaret(e)
                })), this.$nextTick((function () {
                    t.addVoteClick(), t.addLotteryClick()
                }))
            }, onMousedown: function () {
                this.textarea.focus();
                var t = arguments[0] || window.event;
                t.preventDefault()
            }, validate: function () {
                return !0
            }, selectHandler: function (t) {
                if (this.isIE) {
                    var e = this.userInput, i = Object(u.e)(this.textarea), n = e.substring(0, i), o = e.substring(i),
                        r = n.lastIndexOf("@");
                    n = n.substring(0, r + 1), this.userInput = "".concat(n).concat(t.uname, " ").concat(o)
                } else {
                    var a;
                    a = '<input type="button" class="bp-at-span" readonly value="@'.concat(t.uname, '&nbsp;" style="color:#00a1d6;"></input>');
                    var s, c, l = window.getSelection().getRangeAt(0), d = l.endContainer, h = d;
                    3 !== d.nodeType && (h = d.childNodes[l.endOffset - 1]);
                    var f = function t(e) {
                        var i = 0, n = e;
                        if (3 === e.nodeType) {
                            if (-1 === (i = e.nodeValue.lastIndexOf("@"))) {
                                var o = t(e.previousSibling);
                                i = o.index, n = o.node
                            }
                        } else {
                            var r = e.childNodes;
                            if (r.length) {
                                var a = t(r[r.length - 1]);
                                i = a.index, n = a.node
                            }
                        }
                        return {index: i, node: n}
                    }(h);
                    s = f.index, c = f.node, l.setStart(c, s), l.deleteContents(), this.insertHtmlAtCaret(a)
                }
                this.atItems.push(t)
            }, getEmojiSrc: function (t) {
                return Object(d.e)(t, {emojiType: 1})
            }, emojiSelectHandler: function (t) {
                var e = this.getEmojiSrc(t), i = this.userInput, n = Object(u.e)(this.textarea), o = i.substring(0, n),
                    r = i.substring(n);
                if (this.isIE) this.userInput = "".concat(o).concat(t).concat(r); else {
                    var a = e;
                    this.insertHtmlAtCaret(a)
                }
            }, initLocalStorage: function () {
                var t = this;
                if (this.storeInput && "undefined" != typeof window && this.loginUid) {
                    this.loginUid && null === localStorage.getItem("dynamic_publisher_".concat(this.loginUid)) && localStorage.setItem("dynamic_publisher_".concat(this.loginUid), ""), this.loginUid && null === localStorage.getItem("dynamic_publisher_pic_".concat(this.loginUid)) && localStorage.setItem("dynamic_publisher_pic_".concat(this.loginUid), "[]");
                    var e = localStorage.getItem("dynamic_publisher_".concat(this.loginUid) || !1).trim();
                    /^(<\/?div\/?>)*(<br\/?>)*(<\/?div\/?>)*$/.test(e) || (this.userInput = e), this.draftPic = Object(g.e)(localStorage.getItem("dynamic_publisher_pic_".concat(this.loginUid))) || [], this.atItems = Object(g.e)(localStorage.getItem("dynamic_publisher_at_".concat(this.loginUid, "_config"))) || [], this.voteConfig = Object(g.e)(localStorage.getItem("dynamic_publisher_vote_".concat(this.loginUid, "_config"))) || {}, this.lotteryConfig = Object(g.e)(localStorage.getItem("dynamic_publisher_lottery_".concat(this.loginUid, "_config"))) || {}, this.nodes = Object(g.e)(localStorage.getItem("dynamic_publisher_div_html_".concat(this.loginUid))) || [], this.$nextTick((function () {
                        t.validDraftPic.length > 0 && t.showImageBox(), t.restoreDraft()
                    }))
                }
            }, callFileDialog: function () {
                var t = this;
                if (this.isPopupPanel ? Object(Mt.d)(Dt.d.PUBLICH_PIC_2, "") : Object(Mt.d)(Dt.d.PUBLICH_PIC_1, ""), "IE 10" === Object(g.d)() || "IE 11" === Object(g.d)()) return this.showImageBox();
                if (this.validDraftPic.length > 0 && this.storeInput && this.showImageBox(), !this.imageBoxShown) {
                    var e = document.createElement("input");
                    e.type = "file", e.accept = "image/png, image/jpeg, image/jpg, image/gif", e.multiple = "multiple", e.addEventListener("change", (function (e) {
                        var i = (e.target || e.srcElement).files;
                        i && i.length > 0 && (t.selectedFiles = i, t.showImageBox())
                    })), e.click(), window.upload_input = e, e = null
                }
            }, clickButtonHandler: function (t) {
                var e = this, i = this.textarea, n = Object(u.e)(i);
                this.$nextTick((function () {
                    if (e.isIE) {
                        var o = e.userInput;
                        e.userInput = "".concat(o.slice(0, n), "##").concat(o.slice(n))
                    } else {
                        e.insertHtmlAtCaret("#"), e.insertHtmlAtCaret("".concat("#", "&nbsp;"))
                    }
                    setTimeout((function () {
                        if (e.isIE) i.setSelectionRange(n + 1, n + 1); else try {
                            e.setHashPos("before")
                        } catch (t) {
                            return
                        }
                        i.focus(), t && t()
                    }), 0)
                }))
            }, selectTopicHandler: function (t) {
                var e, i = this;
                e = this.isIE ? this.userInput : this.textarea.value.replace(/\n/g, "");
                var n = Object(u.e)(this.textarea), o = e.substring(0, n), r = e.substring(n), a = o.lastIndexOf("#"),
                    s = o.substring(0, a + 1), c = "after2";
                if (this.isIE) r = !r || r && "#" !== r.slice(0, 1) ? "# ".concat(r) : "# ".concat(r.slice(1)), this.userInput = "".concat(s).concat(t).concat(r); else {
                    var l = Object(u.c)(t);
                    o.length === s.length && (c = "after1"), this.setSelectText(n, a), this.insertHtmlAtCaret(l), (!r || r && "#" !== r.slice(0, 1)) && (l = "#&nbsp;", this.insertHtmlAtCaret(l), c = "static"), setTimeout((function () {
                        try {
                            i.setHashPos(c)
                        } catch (t) {
                            return
                        }
                    }), 0)
                }
            }, logTopicHandler: function () {
                var t = this.isPopupPanel ? Dt.d.PUBLISH_AT_LIST_SHOW_2 : Dt.d.PUBLISH_AT_LIST_SHOW_1;
                Object(Mt.d)(t)
            }, publish: function () {
                if (!this.disabled) {
                    var t = this.schConfirmVisible ? this.$refs.schPubConfirm.buttons.confirmBtn : this.$refs.publishBtn;
                    if (this.isPopupPanel ? Object(Mt.d)(Dt.d.PUBLICH_CLICK_2, "") : Object(Mt.d)(Dt.d.PUBLICH_CLICK_1, ""), !this.isPublishing && this.validatePublish(t)) {
                        if (!this.specificationAgreed) return void this.showSpecification();
                        this.isPublishing = !0, this.publishedImages.length > 0 ? this.publishAlbum(t) : this.publishText(t)
                    }
                }
            }, getPublishTextParams: function () {
                var t = Object(d.c)(this.content),
                    e = {dynamic_id: 0, type: 4, rid: 0, content: t, up_choose_comment: +this.pickCommentOn},
                    i = u.a.generateAtParams(t, void 0, this.atItems), n = i.atUids, o = i.ctrl, r = {emoji_type: 1};
                return this.voteConfig.vote_id && (o = JSON.stringify(JSON.parse(o).concat({
                    data: String(this.voteConfig.title.length + 1),
                    length: 0,
                    location: this.voteIndex,
                    type: 3
                })), r.vote_cfg = {vote_id: this.voteConfig.vote_id}), this.lotteryConfig.lottery_id && (o = JSON.stringify(JSON.parse(o).concat({
                    data: String(this.lotteryConfig.title.length + 1),
                    length: 0,
                    location: this.lotteryIndex,
                    type: 2
                })), r.lott_cfg = {lottery_id: this.lotteryConfig.lottery_id}), e.extension = JSON.stringify(r), e.at_uids = n, e.ctrl = o, e
            }, publishText: function (t) {
                var e = this, i = this.getPublishTextParams();
                this.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_svr/v1/dynamic_svr/create"),
                    method: "post",
                    data: i
                }).then((function (i) {
                    0 === i.data.result ? (e.linkMsg(t, "发布成功 ".concat(wt.randomEmoji.happy()), "success"), e.dispatchFeedUpdate(i.data.dynamic_id), e.$emit("succeed", {isScheduled: !1}), e.handlePublishComplete()) : 2 === i.data.result ? Object(wt.showVerifyPopup)(e) : e.linkMsg(t, i.data.errmsg, "caution"), e.publishHandler && e.publishHandler(), e.isPublishing = !1
                }), (function (i) {
                    e.linkMsg(t, i.msg, i.type), e.isPublishing = !1
                }))
            }, getPublishAlbumParams: function () {
                var t = this.contentLength > 0 ? this.content : void 0;
                t = Object(d.c)(t);
                var e = {
                    biz: 3,
                    category: 3,
                    type: 0,
                    pictures: JSON.stringify(this.publishedImages),
                    title: "",
                    tags: "",
                    description: t,
                    content: t,
                    up_choose_comment: +this.pickCommentOn,
                    setting: this.isScheduled ? void 0 : JSON.stringify({copy_forbidden: 0, cachedTime: 0}),
                    from: "create.dynamic.web"
                }, i = u.a.generateAtParams(t, void 0, this.atItems), n = i.atUids, o = i.ctrl, r = {emoji_type: 1};
                return this.voteConfig.vote_id && (o = JSON.stringify(JSON.parse(o).concat({
                    data: String(this.voteConfig.title.length + 1),
                    length: 0,
                    location: this.voteIndex,
                    type: 3
                })), r.vote_cfg = {vote_id: this.voteConfig.vote_id}), this.lotteryConfig.lottery_id && (o = JSON.stringify(JSON.parse(o).concat({
                    data: String(this.lotteryConfig.title.length + 1),
                    length: 0,
                    location: this.lotteryIndex,
                    type: 2
                })), r.lott_cfg = {lottery_id: this.lotteryConfig.lottery_id}), e.extension = JSON.stringify(r), e.at_uids = n, e.at_control = o, e
            }, publishAlbum: function (t) {
                var e = this, i = this.getPublishAlbumParams();
                this.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_svr/v1/dynamic_svr/create_draw"),
                    method: "post",
                    data: i
                }).then((function (n) {
                    e.linkMsg(t, "发布成功 ".concat(wt.randomEmoji.happy()), "success");
                    var o = Ls(Ls({}, i), {}, {
                        setting: {copy_forbidden: 0, cachedTime: 0},
                        pictures: e.publishedImages
                    });
                    e.generateAlbumFakeCard(o, n.data), e.$emit("succeed", {isScheduled: !1}), e.handlePublishComplete(), e.publishHandler && e.publishHandler()
                }), (function (i) {
                    e.linkMsg(t, i.msg, i.type), e.isPublishing = !1
                }))
            }, handlePublishComplete: function () {
                this.resetPublishBox(), this.isPublishing = !1, this.schConfirmVisible = !1, u.b.$emit("textChange", "")
            }, schPubConfirm: function () {
                var t, e, i, n = this, o = this.$refs.schPubConfirm.buttons.confirmBtn;
                this.editDraft ? (i = n.editDraft.draft_id, n.publishedImages.length > 0 ? (e = 2, t = n.getPublishAlbumParams()) : (e = 4, t = n.getPublishTextParams()), n.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_draft/v1/dynamic_draft/publish_now"),
                    method: "post",
                    data: {draft_id: i, type: e, request: JSON.stringify(t)}
                }).then((function (t) {
                    n.linkMsg(o, "发送成功", t.type), n.schConfirmVisible = !1, n.$emit("succeed", {isScheduled: !1}), n.handlePublishComplete(), n.publishHandler && n.publishHandler()
                }), (function (t) {
                    n.linkMsg(o, t.msg, "error"), n.schConfirmVisible = !1, n.$emit("failed", t)
                }))) : this.publish()
            }, scheduledPublish: function () {
                var t = this;
                if (!this.schPubDisabled) {
                    var e = this.editDraft ? 2 : this.isPopupPanel ? 1 : 0;
                    Object(Mt.d)(Dt.d.TIMER_SET, e);
                    var i = this.$refs.publishBtn;
                    if (this.publishTime && this.validatePublish(i)) if (this.specificationAgreed) {
                        var n, o, r, a, s = function (e) {
                            t.schConfirmText = e, t.schConfirmVisible = !0
                        }, c = new Date;
                        this.publishTime.getTime() - c < -6e4 || this.publishTime.getTime() - c < 0 && this.publishTime.getMinutes() !== c.getMinutes() ? s("设置的时间点已过，是否直接发布？") : this.publishTime.getTime() - c < 3e5 ? s("设置的时间点过于接近当前时间，是否直接发布？") : (a = function () {
                            t.$emit("succeed", {
                                isScheduled: !0,
                                draft: {
                                    draft_id: r,
                                    publish_time: Math.ceil(t.publishTime.getTime() / 1e3),
                                    type: o,
                                    request: JSON.stringify(n),
                                    publish_status: 0
                                }
                            })
                        }, t.publishedImages.length > 0 ? (o = 2, n = t.getPublishAlbumParams()) : (o = 4, n = t.getPublishTextParams()), t.editDraft ? t.bpapi({
                            url: "".concat(_.a.API_VC, "/dynamic_draft/v1/dynamic_draft/modify_draft"),
                            method: "post",
                            data: {
                                draft_id: t.editDraft.draft_id,
                                type: o,
                                publish_time: Math.ceil(t.publishTime.getTime() / 1e3),
                                request: JSON.stringify(n)
                            }
                        }).then((function () {
                            t.linkMsg(i, "编辑定时发布成功", "success"), r = t.editDraft.draft_id, a(), t.handlePublishComplete(), t.publishHandler && t.publishHandler()
                        }), (function (e) {
                            t.linkMsg(i, e.msg, "error"), t.$emit("failed", e)
                        })) : t.bpapi({
                            url: "".concat(_.a.API_VC, "/dynamic_draft/v1/dynamic_draft/add_draft"),
                            method: "post",
                            data: {
                                type: o,
                                publish_time: Math.ceil(t.publishTime.getTime() / 1e3),
                                request: JSON.stringify(n)
                            }
                        }).then((function (e) {
                            t.linkMsg(i, "定时发布成功", "success"), r = e.data.draft_id, a(), t.handlePublishComplete(), t.publishHandler && t.publishHandler()
                        }), (function (e) {
                            t.linkMsg(i, e.msg, "error"), t.$emit("failed", e)
                        })))
                    } else this.showSpecification()
                }
            }, dispatchFeedUpdate: function (t) {
                t && this.bpapi({
                    url: "".concat(_.a.API_VC, "/dynamic_svr/v1/dynamic_svr/get_dynamic_detail"),
                    method: "get",
                    data: {dynamic_id: t}
                }).then((function (t) {
                    u.b.$emit(Dt.b.ADD, t.data.card)
                }))
            }, generateAlbumFakeCard: function (t, e) {
                try {
                    var i = {
                        at_control: t.at_control,
                        category: "daily",
                        description: t.description,
                        pictures: t.pictures,
                        pictures_count: t.pictures.length,
                        reply: 0,
                        role: "",
                        source: "",
                        title: "",
                        id: e.doc_id
                    }, n = u.r.getMyUserInfo(), o = {head_url: n.card.face, uid: n.card.mid, name: n.card.name}, r = {
                        type: Dt.a.PIC,
                        uid: ~~n.card.mid,
                        dynamic_id: "-".concat(As),
                        user_profile: {
                            card: {},
                            info: {
                                face: n.card.face,
                                uid: n.card.mid,
                                uname: n.card.name,
                                platform_user_level: (n.card.level_info || {}).current_level
                            }
                        },
                        timestamp: Date.now()
                    };
                    As += 1;
                    var a = {
                        card: JSON.stringify({item: i, user: o}),
                        desc: r,
                        extend_json: JSON.stringify({from: {emoji_type: 1}}),
                        did: e.dynamic_id_str
                    };
                    u.b.$emit(Dt.b.ADD, a)
                } catch (t) {
                    console.error(t)
                }
            }, resetPublishBox: function () {
                this.userInput = "", this.closeImageBox(), this.emojiBoxShown = !1, this.onVoteCancel(), this.onLotteryCancel(), this.voteConfig = {}, this.lotteryConfig = {}, this.pickCommentOn = !1, localStorage.setItem("dynamic_publisher_vote_".concat(this.loginUid, "_config"), "{}"), localStorage.setItem("dynamic_publisher_lottery_".concat(this.loginUid, "_config"), "{}"), localStorage.setItem("dynamic_publisher_div_html_".concat(this.loginUid), "[]"), this.editDraft || (this.isLockedAsScheduled || (this.isScheduled = !1), this.publishTime = void 0)
            }, validatePublish: function (t) {
                return this.imageList.length > this.publishedImages.length ? (this.linkMsg(t, "请先删除不符合规格的图片 ".concat(wt.randomEmoji.shock()), "info"), this.textarea.focus(), !1) : 0 === this.contentLength && 0 === this.publishedImages.length ? (this.textarea.focus(), !1) : !(this.contentLength > this.maxLength) || (this.linkMsg(t, "输入的内容太长啦 ".concat(wt.randomEmoji.shock()), "info"), !1)
            }, updateImageList: function (t) {
                this.imageList = t, this.storeInput && localStorage.setItem("dynamic_publisher_pic_".concat(this.loginUid), JSON.stringify(t))
            }, showImageBox: function () {
                this.imageBoxShown = !0
            }, closeImageBox: function () {
                this.storeInput && localStorage.setItem("dynamic_publisher_pic_".concat(this.loginUid), "[]"), this.draftPic = [], this.imageList = [], this.selectedFiles = {}, this.imageBoxShown = !1
            }, getPopupPanel: function () {
                var t = this.$el;
                if (!t.classList) return !1;
                for (; t && !t.classList.contains("bp-popup-panel");) t = t.parentElement;
                return t
            }, setPopupOffset: function (t) {
                t && (t.style.marginBottom = "420px")
            }, showSpecification: function () {
                var t = this;
                if (this.specificationAgreed || this.specificationShown) return !1;
                this.specificationShown = !0, this.isPopupPanel || this.bpPopup({
                    width: 796,
                    button: {confirm: "同意并发送"},
                    component: {
                        name: "dynamic-specification-popup",
                        components: {DynamicSpecification: ds},
                        template: "<dynamic-specification></dynamic-specification>"
                    }
                }).onConfirm((function (e) {
                    e.close(), t.specificationConfirm()
                })).onCancel((function (e) {
                    e.close(), t.specificationCancel()
                }))
            }, specificationConfirm: function () {
                g.a.setItem("dy_spec_agreed", 1, 1 / 0, "/", ".bilibili.com"), this.specificationAgreed = !0, this.specificationShown = !1, this.isScheduled ? this.scheduledPublish() : this.publish()
            }, specificationCancel: function () {
                this.specificationShown = !1
            }, logHandler: function () {
                var t = "BAR" === this.type ? Dt.d.PUBLISH_AT_LIST_SHOW_2 : Dt.d.PUBLISH_AT_LIST_SHOW_1;
                Object(Mt.d)(t)
            }, insertHtmlAtCaret: function (t) {
                Object(u.j)(t), this.textarea && (this.textarea.value = Object(u.f)(this.textarea), this.userInput = this.textarea.value)
            }, setSelectText: function (t, e) {
                var i, n, o = t - e - 1;
                if (window.getSelection) {
                    if ((i = window.getSelection()).getRangeAt && i.rangeCount) {
                        n = i.getRangeAt(0);
                        try {
                            n.setStart(n.commonAncestorContainer, n.endOffset - o)
                        } catch (t) {
                            for (var r = n.endContainer, a = function t(e) {
                                var i = [];
                                return 0 === e.childNodes.length ? i.push(e) : Array.from(e.childNodes).forEach((function (e) {
                                    i = i.concat(t(e))
                                })), i
                            }(this.textarea), s = r, c = Array.from(a).indexOf(r); c >= 0; c--) if ("#text" === a[c].nodeName) {
                                var l = a[c].nodeValue.indexOf("#");
                                if (-1 !== l) {
                                    s = a[c];
                                    break
                                }
                            }
                            n.setStart(s, l + 1)
                        }
                        n.deleteContents()
                    }
                } else document.selection && "Control" !== document.selection.type && this.textarea.setSelectionRange(e, t)
            }, setHashPos: function (t) {
                var e, i;
                window.getSelection && (e = window.getSelection()).getRangeAt && e.rangeCount && (i = e.getRangeAt(0), "before" === t ? this.isSafari ? Object(u.p)(i.startContainer, i.endOffset - 1) : i.setStart(i.startContainer, i.endOffset - 1) : "after2" === t ? this.isSafari ? i.setStart(i.startContainer, i.endOffset + 1) : i.setStart(i.startContainer, i.endOffset + 2) : "after1" === t ? i.setStart(i.startContainer, i.endOffset + 1) : "static" === t && i.setStart(i.startContainer, i.endOffset), i.collapse(!0))
            }, onClickPopularize: function () {
                this.throttleShowLimitToast2()
            }, onClickVote: function () {
                this.isIE ? this.throttleShowLimitToast() : this.canVote && (this.voteShow = !0)
            }, onVoteCreate: function (t) {
                var e = this;
                this.voteConfig = t;
                var i, n = t.default_text, o = t.title;
                this.storeInput && localStorage.setItem("dynamic_publisher_vote_".concat(this.loginUid, "_config"), JSON.stringify(this.voteConfig)), this.textarea.focus(), this.keepIndex(this.textarea), this.clearVote(), n && (i = "".concat(n), this.insertHtmlAtCaret(i)), i = '<input type="button" class="bp-vote-span" readonly value="&nbsp;​'.concat(o, '"></input>&nbsp;'), this.insertHtmlAtCaret(i), setTimeout((function () {
                    e.addVoteClick()
                }), 0), this.voteShow = !1
            }, onVoteCancel: function () {
                this.voteShow = !1
            }, clearVote: function () {
                var t = this.textarea.getElementsByClassName("bp-vote-span");
                if (t && t.length) for (var e = 0; e < t.length; e++) {
                    var i = t[e];
                    i.removeEventListener("click", this.onClickVote), i.nextSibling && "#text" === i.nextSibling.nodeName && " " === i.nextSibling.nodeValue && i.parentNode.removeChild(i.nextSibling), i.parentNode.removeChild(i)
                }
            }, addVoteClick: function () {
                var t = this.textarea.getElementsByClassName("bp-vote-span");
                if (t && t.length) for (var e = 0; e < t.length; e++) t[e].addEventListener("click", this.onClickVote)
            }, onClickLottery: function () {
                this.isIE ? this.throttleShowLimitToast() : this.canLottery && (this.lotteryShow = !0)
            }, onLotteryCreate: function (t) {
                var e, i = this, n = t.title;
                this.textarea.focus(), this.keepIndex(this.textarea), this.lotteryConfig.lottery_id || (this.clearLottery(), e = '<input type="button" class="bp-lottery-span" readonly value="&nbsp;​'.concat(n, '"></input>&nbsp;'), this.insertHtmlAtCaret(e), setTimeout((function () {
                    i.addLotteryClick()
                }), 0)), this.lotteryConfig = t, this.storeInput && localStorage.setItem("dynamic_publisher_lottery_".concat(this.loginUid, "_config"), JSON.stringify(this.lotteryConfig)), this.lotteryShow = !1
            }, onLotteryCancel: function () {
                this.lotteryShow = !1
            }, clearLottery: function () {
                var t = this.textarea.getElementsByClassName("bp-lottery-span");
                if (t && t.length) for (var e = 0; e < t.length; e++) {
                    var i = t[e];
                    i.removeEventListener("click", this.onClickLottery), i.parentNode.removeChild(i)
                }
            }, addLotteryClick: function () {
                var t = this.textarea.getElementsByClassName("bp-lottery-span");
                if (t && t.length) for (var e = 0; e < t.length; e++) t[e].addEventListener("click", this.onClickLottery)
            }, keepIndex: function (t) {
                if (window.getSelection) {
                    t.focus();
                    var e = window.getSelection();
                    e.selectAllChildren(t), e.collapseToEnd()
                } else if (document.selection) {
                    var i = document.selection.createRange();
                    i.moveToElementText(t), i.collapse(!1), i.select()
                }
            }, autoHeight: function (t, e) {
                var i = function (e, i) {
                    t.addEventListener ? t.addEventListener(e, i, !1) : t.attachEvent("on" + e, i)
                }, n = t.currentStyle ? function (e) {
                    var i = t.currentStyle[e];
                    if ("height" === e && 1 !== i.search(/px/i)) {
                        var o = t.getBoundingClientRect();
                        return o.bottom - o.top - parseFloat(n("paddingTop")) - parseFloat(n("paddingBottom")) + "px"
                    }
                    return i
                } : function (e) {
                    return getComputedStyle(t, null)[e]
                }, o = parseFloat(n("height"));
                t.style.resize = "none";
                var r = function () {
                    var i;
                    t._length !== t.value.length && (t._length = t.value.length, t.style.height = o + "px", t.scrollHeight > o && (e && t.scrollHeight > e ? (i = e, t.style.overflowY = "scroll") : (i = t.scrollHeight, t.style.overflowY = "hidden"), t.style.height = i + "px"))
                };
                i("propertychange", r), i("input", r), i("focus", r), r()
            }, switchScheduled: function () {
                if (!(this.editDraft || this.voteConfig.vote_id || this.voteShow || this.lotteryConfig.lottery_id || this.lotteryShow || this.isLockedAsScheduled)) {
                    var t = this.editDraft ? 2 : this.isPopupPanel ? 1 : 0;
                    Object(Mt.d)(Dt.d.TIMER_ICON, t), this.isScheduled = !this.isScheduled
                }
            }, restoreFromEditDraft: function () {
                var t = this, e = function (e, i) {
                    var n = e.split(""), o = {"<": "&lt;", ">": "&gt;", " ": "&#32;", "\n": "<br/>"};
                    return n = n.map((function (t) {
                        return o[t] || t
                    })), i.forEach((function (e) {
                        var i, o = n.slice(e.location, e.location + e.length);
                        t.atItems.push({
                            uid: Number(e.data),
                            uname: o.slice(1).join("")
                        }), o[0] = '<input type="button" class="bp-at-span" readonly value="@'.concat(o[0]), o[o.length - 1] = "".concat(o[o.length - 1], '&nbsp;"></input>'), (i = n).splice.apply(i, [e.location, e.length].concat(Ts(o)))
                    })), n.join("")
                }, i = Object(g.e)(this.editDraft.request);
                if (4 === this.editDraft.type && i) {
                    var n = (Object(g.e)(i.ctrl) || []).filter((function (t) {
                        return 1 === t.type
                    })), o = e(i.content, n);
                    return this.isIE ? Object(u.c)(i.content) : Object(u.m)(o)
                }
                if (2 === this.editDraft.type && i) {
                    var r = (Object(g.e)(i.at_control) || []).filter((function (t) {
                        return 1 === t.type
                    })), a = e(i.description, r);
                    return this.isIE ? Object(u.c)(i.description) : Object(u.m)(a)
                }
                return ""
            }, scheduledPublishTips: function () {
                var t = this;
                if ("undefined" != typeof window) {
                    this.canBeScheduled && "true" !== window.localStorage.getItem("dynamic_scheduled_publish_intro_".concat(this.loginUid)) && (t.schPubTipsVisable = !0, window.localStorage.setItem("dynamic_scheduled_publish_intro_".concat(t.loginUid), !0), setTimeout((function () {
                        t.schPubTipsVisable = !1
                    }), 5e3))
                }
            }
        }
    }, Ds = (i(456), i(457), Object(M.a)(Ms, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "p-rel f-clear publish-panel"}, [i("div", {
            staticClass: "input-section",
            class: {overflow: t.contentLength > t.maxLength, active: t.textareaActive}
        }, [[t.isIE ? i("textarea", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: t.userInput,
                expression: "userInput"
            }],
            ref: "textarea",
            staticClass: "textarea",
            attrs: {placeholder: "有什么想和大家分享的？"},
            domProps: {value: t.userInput},
            on: {
                input: function (e) {
                    e.target.composing || (t.userInput = e.target.value)
                }
            }
        }) : i("div-edit", {
            ref: "textarea",
            staticClass: "textarea no-padding",
            attrs: {loginUid: t.loginUid, storeInput: t.storeInput, placeholder: "有什么想和大家分享的？"},
            model: {
                value: t.userInput, callback: function (e) {
                    t.userInput = e
                }, expression: "userInput"
            }
        })], i("div", {
            directives: [{name: "show", rawName: "v-show", value: t.isScheduled, expression: "isScheduled"}],
            staticClass: "schedule-panel"
        }, [i("span", {staticClass: "dp-label"}, [t._v("发布时间：")]), i("date-picker", {
            attrs: {
                min: new Date,
                max: new Date(Date.now() + 1296e6)
            }, model: {
                value: t.publishTime, callback: function (e) {
                    t.publishTime = e
                }, expression: "publishTime"
            }
        })], 1)], 2), t.isMounted ? i("at-popup", {
            attrs: {
                "input-elm": t.textarea,
                "select-handler": t.selectHandler,
                validate: t.validate,
                "log-handler": t.logHandler
            }
        }) : t._e(), t.isMounted ? i("hash-popup", {
            attrs: {
                "input-elm": t.textarea,
                "button-elm": t.$refs.topicBtn,
                "click-button-handler": t.clickButtonHandler,
                "select-handler": t.selectTopicHandler,
                "login-uid": t.loginUid,
                emojiBoxShown: t.emojiBoxShown,
                "log-handler": t.logTopicHandler
            }
        }) : t._e(), t.canVote ? i("vote", {
            staticClass: "vote-box",
            attrs: {show: t.voteShow, config: t.voteConfig},
            on: {"vote-create": t.onVoteCreate, cancel: t.onVoteCancel}
        }) : t._e(), t.canLottery ? i("lottery", {
            staticClass: "lottery-box",
            attrs: {show: t.lotteryShow, config: t.lotteryConfig},
            on: {"lottery-create": t.onLotteryCreate, cancel: t.onLotteryCancel}
        }) : t._e(), i("div", {staticClass: "action-row f-clear"}, [i("div", {
            ref: "operateDiv",
            staticClass: "f-left p-rel",
            staticStyle: {"margin-top": "5px"}
        }, [i("a", {
            ref: "emojiTrigger",
            staticClass: "d-i-block bp-v-middle bp-icon-font icon-emoji-btn box-toggle",
            class: {active: t.emojiBoxShown},
            staticStyle: {"margin-left": "0"},
            on: {
                click: function (e) {
                    t.emojiBoxShown = !0
                }, mousedown: t.onMousedown
            }
        }), t.supportFileUpload ? i("a", {
            staticClass: "d-i-block bp-v-middle bp-icon-font icon-pic-btn img-btn box-toggle",
            class: {active: t.imageBoxShown},
            on: {click: t.callFileDialog, mousedown: t.onMousedown}
        }) : t._e(), i("a", {
            ref: "topicBtn",
            staticClass: "d-i-block bp-v-middle bp-icon-font icon-topic img-btn box-toggle",
            on: {mousedown: t.onMousedown}
        }), t.canVote && !t.isScheduled ? i("a", {
            ref: "voteBtn",
            staticClass: "d-i-block bp-v-middle bp-icon-font vote-create-btn img-btn box-toggle",
            class: {active: t.voteShow},
            on: {click: t.onClickVote, mousedown: t.onMousedown}
        }) : t._e(), t.canLottery && !t.isScheduled ? i("a", {
            ref: "lotteryBtn",
            staticClass: "d-i-block bp-v-middle bp-icon-font lottery-create-btn img-btn box-toggle",
            class: {active: t.lotteryShow},
            on: {click: t.onClickLottery, mousedown: t.onMousedown}
        }) : t._e(), i("a", {
            staticClass: "d-i-block bp-v-middle bp-icon-font popularize-create-btn img-btn box-toggle",
            attrs: {title: "添加附加卡"},
            on: {click: t.onClickPopularize}
        }), t.canBeScheduled ? i("a", {
            staticClass: "d-i-bloack bp-v-middle bp-icon-font icon-ic_timer img-btn box-toggle",
            class: {
                active: t.isScheduled,
                disabled: t.voteConfig.vote_id || t.voteShow || t.lotteryConfig.lottery_id || t.lotteryShow
            },
            on: {click: t.switchScheduled}
        }) : t._e(), t.canBeScheduled ? i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.schPubTipsVisable,
                expression: "schPubTipsVisable"
            }], staticClass: "sch-pub-tips"
        }, [i("span", [t._v("可以设置定时发布动态啦")]), i("i", {
            staticClass: "bp-icon-font icon-group-dynamic",
            on: {
                click: function (e) {
                    t.schPubTipsVisable = !1
                }
            }
        })]) : t._e()]), i("div", {staticClass: "f-right"}, [t.canPickComment ? i("div", {staticClass: "settings-box"}, [i("a", {
            staticClass: "d-i-block bp-v-middle bp-icon-font settings-btn box-toggle",
            class: {active: t.settingShown},
            attrs: {title: "设置"},
            on: {
                click: function (e) {
                    t.settingShown = !t.settingShown
                }
            }
        }), i("div", {staticClass: "bp-container"}, [i("transition", {attrs: {name: "move-in"}}, [i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.settingShown,
                expression: "settingShown"
            }], staticClass: "settings-panel"
        }, [i("check-box", {
            model: {
                value: t.pickCommentOn, callback: function (e) {
                    t.pickCommentOn = e
                }, expression: "pickCommentOn"
            }
        }, [i("span", {staticClass: "label"}, [t._v("开启精选评论")])])], 1)])], 1)]) : t._e(), i("div", {staticClass: "d-i-block bp-v-middle length-hint"}, [i("span", {class: {overflow: t.contentLength > t.maxLength}}, [t._v(t._s(t.maxLength - t.contentLength))])]), t.isScheduled ? t._e() : i("button", {
            ref: "publishBtn",
            staticClass: "d-i-block bp-v-middle dynamic-btn pink with-border-radius publish-btn",
            class: {publishing: t.isPublishing, disabled: t.disabled},
            on: {click: t.publish}
        }, [t._v(t._s(t.isPublishing ? "发布中" : "发布"))]), t.isScheduled ? i("button", {
            ref: "publishBtn",
            staticClass: "d-i-block bp-v-middle with-border-radius sch-pub-btn",
            class: {publishing: t.isPublishing, disabled: t.schPubDisabled},
            on: {click: t.scheduledPublish}
        }, [t._v(t._s(!t.editDraft && t.scheduledCount >= 20 ? "已满上限" : "定时发布"))]) : t._e()])]), t.emojiBoxShown ? i("emoji-box", {
            staticClass: "bp-emoji-box",
            attrs: {
                field: t.textarea,
                "select-handler": t.emojiSelectHandler,
                "frozen-elements": [t.textarea, t.emojiTrigger],
                "emoji-type": ["kaomojis", "dynamicEmojis"],
                "spm-type": t.topicName ? "TAG" : "MAIN",
                "pub-type": t.isPopupPanel ? "2" : "1"
            },
            on: {
                close: function (e) {
                    t.emojiBoxShown = !1
                }
            }
        }) : t._e(), t.imageBoxShown ? i("image-box", {
            staticClass: "image-box",
            attrs: {"init-files": t.selectedFiles, "draft-pic": t.validDraftPic},
            on: {update: t.updateImageList, close: t.closeImageBox}
        }) : t._e(), t.isPopupPanel ? i("bp-popup", {
            staticClass: "dynamic-specification-popup",
            attrs: {
                show: t.specificationShown,
                width: 796,
                button: {confirm: "确认并发送"},
                "on-confirm": t.specificationConfirm,
                "on-cancel": t.specificationCancel
            }
        }, [i("dynamic-specification")], 1) : t._e(), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.schConfirmVisible,
                expression: "schConfirmVisible"
            }], staticClass: "sch-confirm-wrapper"
        }, [i("bp-popup", {
            ref: "schPubConfirm",
            staticClass: "sch-confirm",
            attrs: {
                show: t.schConfirmVisible,
                button: {confirm: "是", cancel: "否"},
                width: 360,
                onConfirm: t.schPubConfirm,
                onCancel: function () {
                    t.schConfirmVisible = !1
                }
            }
        }, [i("p", [t._v(t._s(t.schConfirmText))])])], 1)], 1)
    }), [], !1, null, "6233880e", null).exports);
    o.a.use(Object(r.a)()), o.a.use(a.a), o.a.use(s.b);
    var Bs = Ds, Ns = i(75);

    function Rs(t) {
        return (Rs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function $s(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function Hs(t, e) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
        }
    }

    function zs(t, e) {
        return (zs = Object.setPrototypeOf || function (t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function Us(t) {
        var e = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () {
                }))), !0
            } catch (t) {
                return !1
            }
        }();
        return function () {
            var i, n = Vs(t);
            if (e) {
                var o = Vs(this).constructor;
                i = Reflect.construct(n, arguments, o)
            } else i = n.apply(this, arguments);
            return Fs(this, i)
        }
    }

    function Fs(t, e) {
        return !e || "object" !== Rs(e) && "function" != typeof e ? function (t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Vs(t) {
        return (Vs = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    var Gs = function (t) {
        !function (t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && zs(t, e)
        }(a, t);
        var e, i, n, r = Us(a);

        function a() {
            var t;
            return $s(this, a), (t = r.apply(this, arguments)).ifShowScheduleBar = !1, t.maxLength = 1e3, t.isChrome = !1, t.isFirefox = !1, t.isIE = !1, t.isEdge = !1, t.isSafari = !1, t.isTheWorld = !1, t.attachInfo = {}, t
        }

        return e = a, (i = [{
            key: "beforeCreate", value: function () {
            }
        }, {
            key: "created", value: function () {
                this.bus = new o.a, this.initBus(), this.initAttachData()
            }
        }, {
            key: "beforeMount", value: function () {
                var t = Object(g.d)();
                this.isChrome = -1 !== t.indexOf("Chrome"), this.isFirefox = -1 !== t.indexOf("Firefox"), this.isIE = -1 !== t.indexOf("IE"), this.isEdge = -1 !== t.indexOf("Edge"), this.isSafari = -1 !== t.indexOf("Safari"), this.isTheWorld = -1 !== t.indexOf("TheWorld")
            }
        }, {
            key: "mounted", value: function () {
            }
        }, {
            key: "beforeDestroy", value: function () {
            }
        }, {
            key: "destroyed", value: function () {
            }
        }, {
            key: "initBus", value: function () {
                var t = this;
                this.bus.$on("schedule-trigger", (function (e) {
                    t.ifShowScheduleBar = e
                })), this.bus.$on("click-selected-item", (function (e) {
                    Object(wt.attachPreview)(e[0], e[1]).then((function (i) {
                        i.code || (t.attachInfo = i.data.attach_card, t.bus.$emit("update-extension", {
                            attach: {
                                id: e[0],
                                type: e[1]
                            }
                        }))
                    }))
                })), this.bus.$on("empty-attach-data", (function () {
                    t.attachInfo = {}
                }))
            }
        }, {
            key: "onSucceed", value: function () {
                for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
                this.$emit.apply(this, ["succeed"].concat(e))
            }
        }, {
            key: "onFailed", value: function () {
                for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
                this.$emit.apply(this, ["succeed"].concat(e))
            }
        }, {
            key: "initAttachData", value: function () {
                var t = this;
                this.cheeseAttachQuery && Object(wt.attachPreview)(this.cheeseAttachQuery.attachId, this.cheeseAttachQuery.attachType).then((function (e) {
                    e.code || (t.attachInfo = e.data.attach_card, t.bus.$emit("update-extension", {
                        attach: {
                            id: t.cheeseAttachQuery.attachId,
                            type: t.cheeseAttachQuery.attachType
                        }
                    }))
                }))
            }
        }, {
            key: "fallbackOldVersion", get: function () {
                return this.isIE || this.isTheWorld
            }
        }, {
            key: "attachData", get: function () {
                return Object(Ns.c)(this.attachInfo)
            }
        }]) && Hs(e.prototype, i), n && Hs(e, n), a
    }(l.c);
    Object(c.a)([Object(l.b)()], Gs.prototype, "loginUid", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "canLottery", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "canVote", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "canPickComment", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "canCloseComment", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "canBeScheduled", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "canReserve", void 0), Object(c.a)([Object(l.b)(Array)], Gs.prototype, "reserveTypes", void 0), Object(c.a)([Object(l.b)(String)], Gs.prototype, "topicName", void 0), Object(c.a)([Object(l.b)()], Gs.prototype, "editDraft", void 0), Object(c.a)([Object(l.b)(Number)], Gs.prototype, "scheduledCount", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "storeInput", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "isLockedAsScheduled", void 0), Object(c.a)([Object(l.b)(Function)], Gs.prototype, "publishHandler", void 0), Object(c.a)([Object(l.b)(Boolean)], Gs.prototype, "isPopupPanel", void 0), Object(c.a)([Object(l.b)(Object)], Gs.prototype, "cheeseAttachQuery", void 0), Object(c.a)([Object(l.b)({
        type: String,
        default: ""
    })], Gs.prototype, "placeText", void 0), Object(c.a)([Object(l.b)({
        type: Array, default: function () {
            return []
        }
    })], Gs.prototype, "shareImages", void 0);
    var Ws = Gs = Object(c.a)([Object(l.a)({
        name: "publish-panel",
        components: {Editor: D, ScheduleBar: rt, Toolbar: va, PublishLauncher: Za, PublishTip: cs, PublishPanelV1: Bs}
    })], Gs), qs = (i(458), Object(M.a)(Ws, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", [t.fallbackOldVersion ? t._e() : i("div", {staticClass: "publish-panel"}, [i("div", {staticClass: "editor"}, [i("editor", {
            attrs: {
                bus: t.bus,
                placeText: t.placeText,
                "max-length": t.maxLength,
                "with-schedule-bar": t.ifShowScheduleBar,
                "is-popup-panel": t.isPopupPanel,
                attachData: t.attachData
            }
        }), i("publish-tip", {attrs: {bus: t.bus}}), i("transition", {attrs: {name: "schedule-bar-in"}}, [i("schedule-bar", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.ifShowScheduleBar,
                expression: "ifShowScheduleBar"
            }], attrs: {bus: t.bus}
        })], 1)], 1), i("div", {staticClass: "toolbar"}, [i("toolbar", {
            attrs: {
                bus: t.bus,
                "share-images": t.shareImages,
                "is-locked-as-scheduled": t.isLockedAsScheduled,
                "is-popup-panel": t.isPopupPanel,
                "reserve-types": t.reserveTypes,
                "can-reserve": t.canReserve,
                "can-lottery": t.canLottery,
                "can-vote": t.canVote,
                "can-popularize": !t.attachData,
                "can-be-scheduled": t.canBeScheduled,
                "edit-draft": t.editDraft,
                "login-uid": t.loginUid
            }
        }), i("publish-launcher", {
            attrs: {
                bus: t.bus,
                "topic-name": t.topicName,
                "edit-draft": t.editDraft,
                "scheduled-count": t.scheduledCount,
                "store-input": t.storeInput,
                "publish-handler": t.publishHandler,
                "is-locked-as-scheduled": t.isLockedAsScheduled,
                "on-schedule-mode": t.ifShowScheduleBar,
                "is-popup-panel": t.isPopupPanel,
                "can-pick-comment": t.canPickComment,
                "can-close-comment": t.canCloseComment,
                "login-uid": t.loginUid,
                "place-text": t.placeText
            }, on: {succeed: t.onSucceed, failed: t.onFailed}
        })], 1)]), t.fallbackOldVersion ? i("publish-panel-v1", {
            attrs: {
                "topic-name": t.topicName,
                "edit-draft": t.editDraft,
                "scheduled-count": t.scheduledCount,
                "store-input": t.storeInput,
                "publish-handler": t.publishHandler,
                "is-locked-as-scheduled": t.isLockedAsScheduled,
                "is-popup-panel": t.isPopupPanel,
                "can-lottery": t.canLottery,
                "can-vote": t.canVote,
                "can-pick-comment": t.canPickComment,
                "can-close-comment": t.canCloseComment,
                "can-be-scheduled": t.canBeScheduled,
                "login-uid": t.loginUid
            }
        }) : t._e()], 1)
    }), [], !1, null, "4531f45f", null).exports);
    o.a.use(Object(r.a)()), o.a.use(a.a), o.a.use(s.b);
    var Js = qs;
    e.a = Js
}, function (t, e, i) {
    "use strict";
    i(12), i(14), i(24);
    var n = i(6), o = i(8), r = i(41), a = i(7), s = i(2), c = i(0), l = {
        data: function () {
            return {isLoading: !0, dynamicNums: 0}
        }, props: {
            userInfo: {
                type: Object, default: function () {
                    return {card: {mid: "0", name: "", attention: 0, fans: 0, face: ""}, space: {s_img: ""}}
                }
            }
        }, computed: {
            bfsUserHead: function () {
                return Object(n.g)(Object(o.bfsImgLink)(this.userInfo.card.face))
            }, bfsUserPic: function () {
                return "background-image: url(".concat(Object(n.g)(Object(o.bfsImgLink)(this.userInfo.space.s_img)), ")")
            }, computedAttention: function () {
                return this.numFormat(this.userInfo.card.attention)
            }, computedFans: function () {
                return this.numFormat(this.userInfo.card.fans)
            }, computedDynamicNums: function () {
                return this.numFormat(this.dynamicNums)
            }
        }, watch: {
            "userInfo.card.mid": function (t) {
                Object(r.a)(t, document.body, this.$refs.userhead), Object(r.a)(t, document.body, this.$refs.username), this.getDynamicNums(), this.isLoading = !1
            }
        }, methods: {
            onHeadClick: function () {
                Object(a.d)(c.d.INFO_HEAD), window.open("".concat(s.a.SPACE, "/").concat(this.userInfo.card.mid, "/dynamic"))
            }, onFollowLinkClick: function () {
                Object(a.d)(c.d.INFO_FOLLOW), window.open("".concat(s.a.SPACE, "/").concat(this.userInfo.card.mid, "/fans/follow"))
            }, onLinkClick: function () {
                Object(a.d)(c.d.INFO_NICKNAME), window.open("".concat(s.a.SPACE, "/").concat(this.userInfo.card.mid, "/dynamic"))
            }, onLinkDynamicClick: function () {
                Object(a.d)(c.d.INFO_DYNAMIC), window.open("".concat(s.a.SPACE, "/").concat(this.userInfo.card.mid, "/dynamic"))
            }, onFansLinkClick: function () {
                Object(a.d)(c.d.INFO_FANS), window.open("".concat(s.a.SPACE, "/").concat(this.userInfo.card.mid, "/fans/fans"))
            }, isNumber: function (t) {
                return (0 === t || !!t) && "[object Number]" === Object.prototype.toString.call(t)
            }, isEmpty: function (t) {
                return !t
            }, numFormat: function (t) {
                return this.isEmpty(t) ? 0 : this.isNumber(t) ? o.numberFormat.autoParse(t) : "--"
            }, getDynamicNums: function () {
                var t = this, e = this.userInfo.card.mid;
                this.bpapi({
                    url: s.a.API_VC + "/dynamic_svr/v1/dynamic_svr/space_num_ex",
                    method: "get",
                    data: {uids: e}
                }).then((function (e) {
                    t.dynamicNums = e.data.items[0].num
                }))
            }
        }
    }, u = (i(459), i(1)), d = Object(u.a)(l, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "user-wrapper"}, [i("div", {staticClass: "user-panel f-left"}, [i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.isLoading,
                expression: "isLoading"
            }], staticClass: "loading-content"
        }, [t._m(0)]), i("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.isLoading,
                expression: "!isLoading"
            }], staticClass: "content"
        }, [i("div", {staticClass: "user-pic", style: t.bfsUserPic}), i("a", {
            ref: "username",
            staticClass: "user-name tc-black c-pointer",
            on: {click: t.onLinkClick}
        }, [t._v(t._s(t.userInfo.card.name))]), i("div", {staticClass: "bottom"}, [i("a", {
            staticClass: "number-part c-pointer f-left",
            on: {click: t.onFollowLinkClick}
        }, [i("p", {staticClass: "numbers fs-14"}, [t._v(t._s(t.computedAttention))]), i("p", {staticClass: "text tc-slate fs-12 ls-0"}, [t._v("关注")])]), i("a", {
            staticClass: "number-part c-pointer f-left",
            on: {click: t.onFansLinkClick}
        }, [i("p", {staticClass: "numbers fs-14"}, [t._v(t._s(t.computedFans))]), i("p", {staticClass: "text tc-slate fs-12 ls-0"}, [t._v("粉丝")])]), i("a", {
            staticClass: "number-part c-pointer f-left",
            on: {click: t.onLinkDynamicClick}
        }, [i("p", {staticClass: "numbers fs-14"}, [t._v(t._s(t.computedDynamicNums))]), i("p", {staticClass: "text tc-slate fs-12 ls-0"}, [t._v("动态")])])]), i("img", {
            ref: "userhead",
            staticClass: "user-head c-pointer",
            attrs: {src: t.bfsUserHead},
            on: {click: t.onHeadClick}
        })])])])
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "loading-text tc-slate"}, [e("img", {
            staticClass: "loading-img",
            attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/loading.png"}
        }), e("span", [this._v("loading...")])])
    }], !1, null, "f8464120", null);
    e.a = d.exports
}, , , , , , , , , , , , , , , , , , , , , function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA0CAMAAADomgtXAAAA0lBMVEX///8AAAAAAAD///8AAAACAgIAAAAAAAAAAAACAgL09PT///////8CAgK6urr////e3t4AAAD////////////////7+/sCAgL8/Pz////////////o6OjMzMwAAAD9/f39/f3////////////////w8PDOzs6ysrKwsLCXl5d+fn7////////t7e3b29vm5ualpaWRkZHPz88AAAD////////////////h4eHi4uK9vb3V1dXExMQtLS3IyMj///////////////////////+JiYnv39IJAAAARnRSTlNLAALbBQoQCBIMWVZUGTuTNhZZXU5mYx5gUmtpSzoacVzWhHlnV0EpIRkPy7hSSjwxLiUUxaiPdFRFQisiIhnPvq+fl4ocGYilIQAAAkFJREFUSMed1ul2qjAUBeBUISEit0UmrfNQ26teq3Ye7/z+r9QTtlLFooT9RznJlyxWIIGd7KakcpIjLM2Qr4qZEF0Mw1A/qSJq2ZB6rNhEGFu9YjZ5j+kh+P7ARt9N9No483XQZMI4BA3x6jF2Dpm4qy5joZkJS3En/qOWSNydvGoyVruWqKThuhdBF1IKw1AFETvv6UYmY23BtRLClNyJYvlfmiZdm3DzyOXSpLGANzBmwpyszijt9nhYJXmGPNEodnfcbquL1YQwpIJgL2HQqyINRqlt/W+sG3pB+AIKSE7aHsuVel2SVBAurLGcqUICyuvcDiujIDnBR0wjARckFZSXng70LuUGtnwd6LfWUPALppULLhQ0TF5J38Xsn38AVrhpfA3vy+XbYRF4WqbMRkehtQ/j3PUyoJUNkf5pQx8i00EBiPzqFoDI71AfIv2hPkQGxeDtAysCfw58VgD2/zYKLcedV+gBmDULPXJTLIIu7N/77Cjkadid/rHzvMjaW0cCdTcrwJLgutsjF+vt0Q10YOAm+6o11jkCxtYGCu7Wq7ld6OIIOImndHr1fK5eceIJ18ccyUUYeFi8hr0XPOm2F4QLcgIQkrudt+VzTzU/ftvLo60me16+dVwO93mUc8t1onnTt8+jqNNxttLpRFHX9kfzyHEt/nmUkwSlWZ1Fq61aU6Ex262lQ7OBlVKfK0StG1LUvBOqqwaq736u7FCZfM4koUuycocBIugDtBc0QO1AUATNR+qASfZZZv0Dm7Yy8miU9cIAAAAASUVORK5CYII="
}, function (t, e, i) {
    var n = i(297);
    t.exports = function (t) {
        if (n(t)) throw TypeError("The method doesn't accept regular expressions");
        return t
    }
}, function (t, e, i) {
    var n = i(51)("match");
    t.exports = function (t) {
        var e = /./;
        try {
            "/./"[t](e)
        } catch (i) {
            try {
                return e[n] = !1, "/./"[t](e)
            } catch (t) {
            }
        }
        return !1
    }
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(119);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(120);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(121);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(122);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(123);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(124);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(125);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(126);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(127);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(128);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(129);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(130);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(131);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(132);
    i.n(n).a
}, function (t, e, i) {
    t.exports = i.p + "static/img/icon-music.6ffed546.png"
}, function (t, e, i) {
    "use strict";
    var n = i(133);
    i.n(n).a
}, function (t, e, i) {
    t.exports = i.p + "static/img/icon-vote.324976be.svg"
}, function (t, e, i) {
    "use strict";
    var n = i(134);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(135);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(136);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(137);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(138);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(139);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(140);
    i.n(n).a
}, function (t, e, i) {
    t.exports = i.p + "static/img/lost.e15c8766.svg"
}, function (t, e, i) {
    "use strict";
    var n = i(141);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(142);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(143);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(144);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(37), o = i(220).findIndex, r = i(233), a = i(103), s = !0, c = a("findIndex");
    "findIndex" in [] && Array(1).findIndex((function () {
        s = !1
    })), n({target: "Array", proto: !0, forced: s || !c}, {
        findIndex: function (t) {
            return o(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), r("findIndex")
}, , , function (t, e, i) {
    "use strict";
    var n = i(145);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(146);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(147);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(148);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(149);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(150);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(151);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(152);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(153);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(154);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(155);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(156);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(157);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(158);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(159);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(160);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(161);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(162);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(163);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(164);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(165);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(166);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(167);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(168);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(169);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(170);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(171);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(172);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(173);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(174);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(175);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(176);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(177);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(178);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(179);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(180);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(181);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(182);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(183);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(184);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(185);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(186);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(187);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(188);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(189);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(190);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(191);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(192);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(193);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(194);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(195);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(196);
    i.n(n).a
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABvUExURUdwTJmiqpqkq5miqpmjqpmiq6OktMjNzZmiqpukq5mjqpqjq5ujqJmiqpykqpmiqpmiq5miqpmiqpmiqpmjqpyjq5qiqpyiopmiqpqkq5mjqpqkq5mZmZqampmZmZqampmZmZmZmZqiqpmiqpmZmdJv1v4AAAAjdFJOUwC1O+m6nwwD+FNoljCNH9Vuo86CiENgFt1NdkC+ROqV9dpeg/FYsAAAAWdJREFUeNrNlMt2gkAQROU9gMhTETUxyeX/vzE5wZmKYFywsjbSY505VdU9vXk1JH4bhWUZRq2fPCVuowCHINr+S9zVgPG6Kk2rzjNAvXvMzAyEaWzLOA3BZI9E5tDs78/2DeTJgulBsTwtwJuf5piDKuFgyGc6wTHjLPfyLLZcyO68Gwr7PRynqIZbXWD+5lDTWEU+ExwhaajF3IL1nhyh/DpXAY6wB/UiItzo0qCffo/2LCRykQSk8jc5TgxYTSmB5JnYaTHm/BsDGBeJwb99tnjSHfc33+jQo3VSu3nyJ8B3VUfkZFfzyQFOKitnu5xcCWeg2Agp5YKqbHOVoi4FDKh5EvDQVgESKlsKS4hgUKWw1AJJC0LVaoEa+xhqrMZFSHbXa69S46IhtIjfx/FTCWgINdoWb+MP9KdGWw/Gov8Yx3f50oPRM9S1l4suPUC28nE/XxkrFtGK9fZ8aa5fxcsF/2L4Bq5nJL1YS02WAAAAAElFTkSuQmCC"
}, function (t, e, i) {
    "use strict";
    var n = i(197);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(198);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(199);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(200);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(201);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(202);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(203);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(204);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(205);
    i.n(n).a
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(206);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(207);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(208);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(209);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(210);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(211);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(212);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(213);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(214);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(215);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(216);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(217);
    i.n(n).a
}, function (t, e, i) {
    var n;
    t.exports = (n = i(577), function (t) {
        function e(n) {
            if (i[n]) return i[n].exports;
            var o = i[n] = {i: n, l: !1, exports: {}};
            return t[n].call(o.exports, o, o.exports, e), o.l = !0, o.exports
        }

        var i = {};
        return e.m = t, e.c = i, e.i = function (t) {
            return t
        }, e.d = function (t, i, n) {
            e.o(t, i) || Object.defineProperty(t, i, {configurable: !1, enumerable: !0, get: n})
        }, e.n = function (t) {
            var i = t && t.__esModule ? function () {
                return t.default
            } : function () {
                return t
            };
            return e.d(i, "a", i), i
        }, e.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }, e.p = "/", e(e.s = 4)
    }([function (t, e) {
        t.exports = n
    }, function (t, e) {
        t.exports = function (t, e, i, n, o, r) {
            var a, s = t = t || {}, c = typeof t.default;
            "object" !== c && "function" !== c || (a = t, s = t.default);
            var l, u = "function" == typeof s ? s.options : s;
            if (e && (u.render = e.render, u.staticRenderFns = e.staticRenderFns, u._compiled = !0), i && (u.functional = !0), o && (u._scopeId = o), r ? (l = function (t) {
                (t = t || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (t = __VUE_SSR_CONTEXT__), n && n.call(this, t), t && t._registeredComponents && t._registeredComponents.add(r)
            }, u._ssrRegister = l) : n && (l = n), l) {
                var d = u.functional, h = d ? u.render : u.beforeCreate;
                d ? (u._injectStyles = l, u.render = function (t, e) {
                    return l.call(e), h(t, e)
                }) : u.beforeCreate = h ? [].concat(h, l) : [l]
            }
            return {esModule: a, exports: s, options: u}
        }
    }, function (t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0});
        var n = i(5), o = i.n(n), r = i(8), a = i(1)(o.a, r.a, !1, null, null, null);
        e.default = a.exports
    }, function (t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0});
        var n = i(6), o = i.n(n), r = i(7), a = i(1)(o.a, r.a, !1, null, null, null);
        e.default = a.exports
    }, function (t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {default: t}
        }

        Object.defineProperty(e, "__esModule", {value: !0}), e.install = e.swiperSlide = e.swiper = e.Swiper = void 0;
        var o = n(i(0)), r = n(i(2)), a = n(i(3)), s = window.Swiper || o.default, c = a.default, l = r.default,
            u = function (t, e) {
                e && (a.default.props.globalOptions.default = function () {
                    return e
                }), t.component(a.default.name, a.default), t.component(r.default.name, r.default)
            }, d = {Swiper: s, swiper: c, swiperSlide: l, install: u};
        e.default = d, e.Swiper = s, e.swiper = c, e.swiperSlide = l, e.install = u
    }, function (t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0}), e.default = {
            name: "swiper-slide", data: function () {
                return {slideClass: "swiper-slide"}
            }, ready: function () {
                this.update()
            }, mounted: function () {
                this.update(), this.$parent && this.$parent.options && this.$parent.options.slideClass && (this.slideClass = this.$parent.options.slideClass)
            }, updated: function () {
                this.update()
            }, attached: function () {
                this.update()
            }, methods: {
                update: function () {
                    this.$parent && this.$parent.swiper && this.$parent.update()
                }
            }
        }
    }, function (t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0});
        var n = function (t) {
            return t && t.__esModule ? t : {default: t}
        }(i(0)), o = window.Swiper || n.default;
        "function" != typeof Object.assign && Object.defineProperty(Object, "assign", {
            value: function (t, e) {
                if (null == t) throw new TypeError("Cannot convert undefined or null to object");
                for (var i = Object(t), n = 1; n < arguments.length; n++) {
                    var o = arguments[n];
                    if (null != o) for (var r in o) Object.prototype.hasOwnProperty.call(o, r) && (i[r] = o[r])
                }
                return i
            }, writable: !0, configurable: !0
        });
        var r = ["beforeDestroy", "slideChange", "slideChangeTransitionStart", "slideChangeTransitionEnd", "slideNextTransitionStart", "slideNextTransitionEnd", "slidePrevTransitionStart", "slidePrevTransitionEnd", "transitionStart", "transitionEnd", "touchStart", "touchMove", "touchMoveOpposite", "sliderMove", "touchEnd", "click", "tap", "doubleTap", "imagesReady", "progress", "reachBeginning", "reachEnd", "fromEdge", "setTranslate", "setTransition", "resize"];
        e.default = {
            name: "swiper", props: {
                options: {
                    type: Object, default: function () {
                        return {}
                    }
                }, globalOptions: {
                    type: Object, required: !1, default: function () {
                        return {}
                    }
                }
            }, data: function () {
                return {swiper: null, classes: {wrapperClass: "swiper-wrapper"}}
            }, ready: function () {
                this.swiper || this.mountInstance()
            }, mounted: function () {
                if (!this.swiper) {
                    var t = !1;
                    for (var e in this.classes) this.classes.hasOwnProperty(e) && this.options[e] && (t = !0, this.classes[e] = this.options[e]);
                    t ? this.$nextTick(this.mountInstance) : this.mountInstance()
                }
            }, activated: function () {
                this.update()
            }, updated: function () {
                this.update()
            }, beforeDestroy: function () {
                this.$nextTick((function () {
                    this.swiper && (this.swiper.destroy && this.swiper.destroy(), delete this.swiper)
                }))
            }, methods: {
                update: function () {
                    this.swiper && (this.swiper.update && this.swiper.update(), this.swiper.navigation && this.swiper.navigation.update(), this.swiper.pagination && this.swiper.pagination.render(), this.swiper.pagination && this.swiper.pagination.update())
                }, mountInstance: function () {
                    var t = Object.assign({}, this.globalOptions, this.options);
                    this.swiper = new o(this.$el, t), this.bindEvents(), this.$emit("ready", this.swiper)
                }, bindEvents: function () {
                    var t = this, e = this;
                    r.forEach((function (i) {
                        t.swiper.on(i, (function () {
                            e.$emit.apply(e, [i].concat(Array.prototype.slice.call(arguments))), e.$emit.apply(e, [i.replace(/([A-Z])/g, "-$1").toLowerCase()].concat(Array.prototype.slice.call(arguments)))
                        }))
                    }))
                }
            }
        }
    }, function (t, e, i) {
        "use strict";
        var n = {
            render: function () {
                var t = this, e = t.$createElement, i = t._self._c || e;
                return i("div", {staticClass: "swiper-container"}, [t._t("parallax-bg"), t._v(" "), i("div", {class: t.classes.wrapperClass}, [t._t("default")], 2), t._v(" "), t._t("pagination"), t._v(" "), t._t("button-prev"), t._v(" "), t._t("button-next"), t._v(" "), t._t("scrollbar")], 2)
            }, staticRenderFns: []
        };
        e.a = n
    }, function (t, e, i) {
        "use strict";
        var n = {
            render: function () {
                var t = this, e = t.$createElement;
                return (t._self._c || e)("div", {class: t.slideClass}, [t._t("default")], 2)
            }, staticRenderFns: []
        };
        e.a = n
    }]))
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (t, e, i) {
    "use strict";
    var n = i(304);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(305);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(306);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(307);
    i.n(n).a
}, , , , , , , , , , function (t, e, i) {
    "use strict";
    var n = i(308);
    i.n(n).a
}, function (t, e, i) {
    t.exports = i.p + "static/img/no-live.fddbb489.png"
}, function (t, e, i) {
    "use strict";
    var n = i(309);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(310);
    i.n(n).a
}, function (t, e, i) {
    t.exports = function () {
        "use strict";
        var t = "undefined" == typeof document ? {
            body: {}, addEventListener: function () {
            }, removeEventListener: function () {
            }, activeElement: {
                blur: function () {
                }, nodeName: ""
            }, querySelector: function () {
                return null
            }, querySelectorAll: function () {
                return []
            }, getElementById: function () {
                return null
            }, createEvent: function () {
                return {
                    initEvent: function () {
                    }
                }
            }, createElement: function () {
                return {
                    children: [], childNodes: [], style: {}, setAttribute: function () {
                    }, getElementsByTagName: function () {
                        return []
                    }
                }
            }, location: {hash: ""}
        } : document, e = "undefined" == typeof window ? {
            document: t,
            navigator: {userAgent: ""},
            location: {},
            history: {},
            CustomEvent: function () {
                return this
            },
            addEventListener: function () {
            },
            removeEventListener: function () {
            },
            getComputedStyle: function () {
                return {
                    getPropertyValue: function () {
                        return ""
                    }
                }
            },
            Image: function () {
            },
            Date: function () {
            },
            screen: {},
            setTimeout: function () {
            },
            clearTimeout: function () {
            }
        } : window, i = function (t) {
            for (var e = 0; e < t.length; e += 1) this[e] = t[e];
            return this.length = t.length, this
        };

        function n(n, o) {
            var r = [], a = 0;
            if (n && !o && n instanceof i) return n;
            if (n) if ("string" == typeof n) {
                var s, c, l = n.trim();
                if (l.indexOf("<") >= 0 && l.indexOf(">") >= 0) {
                    var u = "div";
                    for (0 === l.indexOf("<li") && (u = "ul"), 0 === l.indexOf("<tr") && (u = "tbody"), 0 !== l.indexOf("<td") && 0 !== l.indexOf("<th") || (u = "tr"), 0 === l.indexOf("<tbody") && (u = "table"), 0 === l.indexOf("<option") && (u = "select"), (c = t.createElement(u)).innerHTML = l, a = 0; a < c.childNodes.length; a += 1) r.push(c.childNodes[a])
                } else for (s = o || "#" !== n[0] || n.match(/[ .<>:~]/) ? (o || t).querySelectorAll(n.trim()) : [t.getElementById(n.trim().split("#")[1])], a = 0; a < s.length; a += 1) s[a] && r.push(s[a])
            } else if (n.nodeType || n === e || n === t) r.push(n); else if (n.length > 0 && n[0].nodeType) for (a = 0; a < n.length; a += 1) r.push(n[a]);
            return new i(r)
        }

        function o(t) {
            for (var e = [], i = 0; i < t.length; i += 1) -1 === e.indexOf(t[i]) && e.push(t[i]);
            return e
        }

        n.fn = i.prototype, n.Class = i, n.Dom7 = i;
        var r = {
            addClass: function (t) {
                if (void 0 === t) return this;
                for (var e = t.split(" "), i = 0; i < e.length; i += 1) for (var n = 0; n < this.length; n += 1) void 0 !== this[n] && void 0 !== this[n].classList && this[n].classList.add(e[i]);
                return this
            }, removeClass: function (t) {
                for (var e = t.split(" "), i = 0; i < e.length; i += 1) for (var n = 0; n < this.length; n += 1) void 0 !== this[n] && void 0 !== this[n].classList && this[n].classList.remove(e[i]);
                return this
            }, hasClass: function (t) {
                return !!this[0] && this[0].classList.contains(t)
            }, toggleClass: function (t) {
                for (var e = t.split(" "), i = 0; i < e.length; i += 1) for (var n = 0; n < this.length; n += 1) void 0 !== this[n] && void 0 !== this[n].classList && this[n].classList.toggle(e[i]);
                return this
            }, attr: function (t, e) {
                var i = arguments;
                if (1 === arguments.length && "string" == typeof t) return this[0] ? this[0].getAttribute(t) : void 0;
                for (var n = 0; n < this.length; n += 1) if (2 === i.length) this[n].setAttribute(t, e); else for (var o in t) this[n][o] = t[o], this[n].setAttribute(o, t[o]);
                return this
            }, removeAttr: function (t) {
                for (var e = 0; e < this.length; e += 1) this[e].removeAttribute(t);
                return this
            }, data: function (t, e) {
                var i;
                if (void 0 !== e) {
                    for (var n = 0; n < this.length; n += 1) (i = this[n]).dom7ElementDataStorage || (i.dom7ElementDataStorage = {}), i.dom7ElementDataStorage[t] = e;
                    return this
                }
                if (i = this[0]) {
                    if (i.dom7ElementDataStorage && t in i.dom7ElementDataStorage) return i.dom7ElementDataStorage[t];
                    var o = i.getAttribute("data-" + t);
                    return o || void 0
                }
            }, transform: function (t) {
                for (var e = 0; e < this.length; e += 1) {
                    var i = this[e].style;
                    i.webkitTransform = t, i.transform = t
                }
                return this
            }, transition: function (t) {
                "string" != typeof t && (t += "ms");
                for (var e = 0; e < this.length; e += 1) {
                    var i = this[e].style;
                    i.webkitTransitionDuration = t, i.transitionDuration = t
                }
                return this
            }, on: function () {
                for (var t, e = [], i = arguments.length; i--;) e[i] = arguments[i];
                var o = e[0], r = e[1], a = e[2], s = e[3];

                function c(t) {
                    var e = t.target;
                    if (e) {
                        var i = t.target.dom7EventData || [];
                        if (i.indexOf(t) < 0 && i.unshift(t), n(e).is(r)) a.apply(e, i); else for (var o = n(e).parents(), s = 0; s < o.length; s += 1) n(o[s]).is(r) && a.apply(o[s], i)
                    }
                }

                function l(t) {
                    var e = t && t.target && t.target.dom7EventData || [];
                    e.indexOf(t) < 0 && e.unshift(t), a.apply(this, e)
                }

                "function" == typeof e[1] && (o = (t = e)[0], a = t[1], s = t[2], r = void 0), s || (s = !1);
                for (var u, d = o.split(" "), h = 0; h < this.length; h += 1) {
                    var f = this[h];
                    if (r) for (u = 0; u < d.length; u += 1) {
                        var p = d[u];
                        f.dom7LiveListeners || (f.dom7LiveListeners = {}), f.dom7LiveListeners[p] || (f.dom7LiveListeners[p] = []), f.dom7LiveListeners[p].push({
                            listener: a,
                            proxyListener: c
                        }), f.addEventListener(p, c, s)
                    } else for (u = 0; u < d.length; u += 1) {
                        var m = d[u];
                        f.dom7Listeners || (f.dom7Listeners = {}), f.dom7Listeners[m] || (f.dom7Listeners[m] = []), f.dom7Listeners[m].push({
                            listener: a,
                            proxyListener: l
                        }), f.addEventListener(m, l, s)
                    }
                }
                return this
            }, off: function () {
                for (var t, e = [], i = arguments.length; i--;) e[i] = arguments[i];
                var n = e[0], o = e[1], r = e[2], a = e[3];
                "function" == typeof e[1] && (n = (t = e)[0], r = t[1], a = t[2], o = void 0), a || (a = !1);
                for (var s = n.split(" "), c = 0; c < s.length; c += 1) for (var l = s[c], u = 0; u < this.length; u += 1) {
                    var d = this[u], h = void 0;
                    if (!o && d.dom7Listeners ? h = d.dom7Listeners[l] : o && d.dom7LiveListeners && (h = d.dom7LiveListeners[l]), h && h.length) for (var f = h.length - 1; f >= 0; f -= 1) {
                        var p = h[f];
                        r && p.listener === r || r && p.listener && p.listener.dom7proxy && p.listener.dom7proxy === r ? (d.removeEventListener(l, p.proxyListener, a), h.splice(f, 1)) : r || (d.removeEventListener(l, p.proxyListener, a), h.splice(f, 1))
                    }
                }
                return this
            }, trigger: function () {
                for (var i = [], n = arguments.length; n--;) i[n] = arguments[n];
                for (var o = i[0].split(" "), r = i[1], a = 0; a < o.length; a += 1) for (var s = o[a], c = 0; c < this.length; c += 1) {
                    var l = this[c], u = void 0;
                    try {
                        u = new e.CustomEvent(s, {detail: r, bubbles: !0, cancelable: !0})
                    } catch (e) {
                        (u = t.createEvent("Event")).initEvent(s, !0, !0), u.detail = r
                    }
                    l.dom7EventData = i.filter((function (t, e) {
                        return e > 0
                    })), l.dispatchEvent(u), l.dom7EventData = [], delete l.dom7EventData
                }
                return this
            }, transitionEnd: function (t) {
                var e, i = ["webkitTransitionEnd", "transitionend"], n = this;

                function o(r) {
                    if (r.target === this) for (t.call(this, r), e = 0; e < i.length; e += 1) n.off(i[e], o)
                }

                if (t) for (e = 0; e < i.length; e += 1) n.on(i[e], o);
                return this
            }, outerWidth: function (t) {
                if (this.length > 0) {
                    if (t) {
                        var e = this.styles();
                        return this[0].offsetWidth + parseFloat(e.getPropertyValue("margin-right")) + parseFloat(e.getPropertyValue("margin-left"))
                    }
                    return this[0].offsetWidth
                }
                return null
            }, outerHeight: function (t) {
                if (this.length > 0) {
                    if (t) {
                        var e = this.styles();
                        return this[0].offsetHeight + parseFloat(e.getPropertyValue("margin-top")) + parseFloat(e.getPropertyValue("margin-bottom"))
                    }
                    return this[0].offsetHeight
                }
                return null
            }, offset: function () {
                if (this.length > 0) {
                    var i = this[0], n = i.getBoundingClientRect(), o = t.body, r = i.clientTop || o.clientTop || 0,
                        a = i.clientLeft || o.clientLeft || 0, s = i === e ? e.scrollY : i.scrollTop,
                        c = i === e ? e.scrollX : i.scrollLeft;
                    return {top: n.top + s - r, left: n.left + c - a}
                }
                return null
            }, css: function (t, i) {
                var n;
                if (1 === arguments.length) {
                    if ("string" != typeof t) {
                        for (n = 0; n < this.length; n += 1) for (var o in t) this[n].style[o] = t[o];
                        return this
                    }
                    if (this[0]) return e.getComputedStyle(this[0], null).getPropertyValue(t)
                }
                if (2 === arguments.length && "string" == typeof t) {
                    for (n = 0; n < this.length; n += 1) this[n].style[t] = i;
                    return this
                }
                return this
            }, each: function (t) {
                if (!t) return this;
                for (var e = 0; e < this.length; e += 1) if (!1 === t.call(this[e], e, this[e])) return this;
                return this
            }, html: function (t) {
                if (void 0 === t) return this[0] ? this[0].innerHTML : void 0;
                for (var e = 0; e < this.length; e += 1) this[e].innerHTML = t;
                return this
            }, text: function (t) {
                if (void 0 === t) return this[0] ? this[0].textContent.trim() : null;
                for (var e = 0; e < this.length; e += 1) this[e].textContent = t;
                return this
            }, is: function (o) {
                var r, a, s = this[0];
                if (!s || void 0 === o) return !1;
                if ("string" == typeof o) {
                    if (s.matches) return s.matches(o);
                    if (s.webkitMatchesSelector) return s.webkitMatchesSelector(o);
                    if (s.msMatchesSelector) return s.msMatchesSelector(o);
                    for (r = n(o), a = 0; a < r.length; a += 1) if (r[a] === s) return !0;
                    return !1
                }
                if (o === t) return s === t;
                if (o === e) return s === e;
                if (o.nodeType || o instanceof i) {
                    for (r = o.nodeType ? [o] : o, a = 0; a < r.length; a += 1) if (r[a] === s) return !0;
                    return !1
                }
                return !1
            }, index: function () {
                var t, e = this[0];
                if (e) {
                    for (t = 0; null !== (e = e.previousSibling);) 1 === e.nodeType && (t += 1);
                    return t
                }
            }, eq: function (t) {
                if (void 0 === t) return this;
                var e, n = this.length;
                return new i(t > n - 1 ? [] : t < 0 ? (e = n + t) < 0 ? [] : [this[e]] : [this[t]])
            }, append: function () {
                for (var e, n = [], o = arguments.length; o--;) n[o] = arguments[o];
                for (var r = 0; r < n.length; r += 1) {
                    e = n[r];
                    for (var a = 0; a < this.length; a += 1) if ("string" == typeof e) {
                        var s = t.createElement("div");
                        for (s.innerHTML = e; s.firstChild;) this[a].appendChild(s.firstChild)
                    } else if (e instanceof i) for (var c = 0; c < e.length; c += 1) this[a].appendChild(e[c]); else this[a].appendChild(e)
                }
                return this
            }, prepend: function (e) {
                var n, o;
                for (n = 0; n < this.length; n += 1) if ("string" == typeof e) {
                    var r = t.createElement("div");
                    for (r.innerHTML = e, o = r.childNodes.length - 1; o >= 0; o -= 1) this[n].insertBefore(r.childNodes[o], this[n].childNodes[0])
                } else if (e instanceof i) for (o = 0; o < e.length; o += 1) this[n].insertBefore(e[o], this[n].childNodes[0]); else this[n].insertBefore(e, this[n].childNodes[0]);
                return this
            }, next: function (t) {
                return this.length > 0 ? t ? this[0].nextElementSibling && n(this[0].nextElementSibling).is(t) ? new i([this[0].nextElementSibling]) : new i([]) : this[0].nextElementSibling ? new i([this[0].nextElementSibling]) : new i([]) : new i([])
            }, nextAll: function (t) {
                var e = [], o = this[0];
                if (!o) return new i([]);
                for (; o.nextElementSibling;) {
                    var r = o.nextElementSibling;
                    t ? n(r).is(t) && e.push(r) : e.push(r), o = r
                }
                return new i(e)
            }, prev: function (t) {
                if (this.length > 0) {
                    var e = this[0];
                    return t ? e.previousElementSibling && n(e.previousElementSibling).is(t) ? new i([e.previousElementSibling]) : new i([]) : e.previousElementSibling ? new i([e.previousElementSibling]) : new i([])
                }
                return new i([])
            }, prevAll: function (t) {
                var e = [], o = this[0];
                if (!o) return new i([]);
                for (; o.previousElementSibling;) {
                    var r = o.previousElementSibling;
                    t ? n(r).is(t) && e.push(r) : e.push(r), o = r
                }
                return new i(e)
            }, parent: function (t) {
                for (var e = [], i = 0; i < this.length; i += 1) null !== this[i].parentNode && (t ? n(this[i].parentNode).is(t) && e.push(this[i].parentNode) : e.push(this[i].parentNode));
                return n(o(e))
            }, parents: function (t) {
                for (var e = [], i = 0; i < this.length; i += 1) for (var r = this[i].parentNode; r;) t ? n(r).is(t) && e.push(r) : e.push(r), r = r.parentNode;
                return n(o(e))
            }, closest: function (t) {
                var e = this;
                return void 0 === t ? new i([]) : (e.is(t) || (e = e.parents(t).eq(0)), e)
            }, find: function (t) {
                for (var e = [], n = 0; n < this.length; n += 1) for (var o = this[n].querySelectorAll(t), r = 0; r < o.length; r += 1) e.push(o[r]);
                return new i(e)
            }, children: function (t) {
                for (var e = [], r = 0; r < this.length; r += 1) for (var a = this[r].childNodes, s = 0; s < a.length; s += 1) t ? 1 === a[s].nodeType && n(a[s]).is(t) && e.push(a[s]) : 1 === a[s].nodeType && e.push(a[s]);
                return new i(o(e))
            }, remove: function () {
                for (var t = 0; t < this.length; t += 1) this[t].parentNode && this[t].parentNode.removeChild(this[t]);
                return this
            }, add: function () {
                for (var t = [], e = arguments.length; e--;) t[e] = arguments[e];
                var i, o, r = this;
                for (i = 0; i < t.length; i += 1) {
                    var a = n(t[i]);
                    for (o = 0; o < a.length; o += 1) r[r.length] = a[o], r.length += 1
                }
                return r
            }, styles: function () {
                return this[0] ? e.getComputedStyle(this[0], null) : {}
            }
        };
        Object.keys(r).forEach((function (t) {
            n.fn[t] = n.fn[t] || r[t]
        }));
        var a, s, c, l = {
            deleteProps: function (t) {
                var e = t;
                Object.keys(e).forEach((function (t) {
                    try {
                        e[t] = null
                    } catch (t) {
                    }
                    try {
                        delete e[t]
                    } catch (t) {
                    }
                }))
            }, nextTick: function (t, e) {
                return void 0 === e && (e = 0), setTimeout(t, e)
            }, now: function () {
                return Date.now()
            }, getTranslate: function (t, i) {
                var n, o, r;
                void 0 === i && (i = "x");
                var a = e.getComputedStyle(t, null);
                return e.WebKitCSSMatrix ? ((o = a.transform || a.webkitTransform).split(",").length > 6 && (o = o.split(", ").map((function (t) {
                    return t.replace(",", ".")
                })).join(", ")), r = new e.WebKitCSSMatrix("none" === o ? "" : o)) : n = (r = a.MozTransform || a.OTransform || a.MsTransform || a.msTransform || a.transform || a.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,")).toString().split(","), "x" === i && (o = e.WebKitCSSMatrix ? r.m41 : 16 === n.length ? parseFloat(n[12]) : parseFloat(n[4])), "y" === i && (o = e.WebKitCSSMatrix ? r.m42 : 16 === n.length ? parseFloat(n[13]) : parseFloat(n[5])), o || 0
            }, parseUrlQuery: function (t) {
                var i, n, o, r, a = {}, s = t || e.location.href;
                if ("string" == typeof s && s.length) for (r = (n = (s = s.indexOf("?") > -1 ? s.replace(/\S*\?/, "") : "").split("&").filter((function (t) {
                    return "" !== t
                }))).length, i = 0; i < r; i += 1) o = n[i].replace(/#\S+/g, "").split("="), a[decodeURIComponent(o[0])] = void 0 === o[1] ? void 0 : decodeURIComponent(o[1]) || "";
                return a
            }, isObject: function (t) {
                return "object" == typeof t && null !== t && t.constructor && t.constructor === Object
            }, extend: function () {
                for (var t = [], e = arguments.length; e--;) t[e] = arguments[e];
                for (var i = Object(t[0]), n = 1; n < t.length; n += 1) {
                    var o = t[n];
                    if (null != o) for (var r = Object.keys(Object(o)), a = 0, s = r.length; a < s; a += 1) {
                        var c = r[a], u = Object.getOwnPropertyDescriptor(o, c);
                        void 0 !== u && u.enumerable && (l.isObject(i[c]) && l.isObject(o[c]) ? l.extend(i[c], o[c]) : !l.isObject(i[c]) && l.isObject(o[c]) ? (i[c] = {}, l.extend(i[c], o[c])) : i[c] = o[c])
                    }
                }
                return i
            }
        }, u = (c = t.createElement("div"), {
            touch: e.Modernizr && !0 === e.Modernizr.touch || !!(e.navigator.maxTouchPoints > 0 || "ontouchstart" in e || e.DocumentTouch && t instanceof e.DocumentTouch),
            pointerEvents: !!(e.navigator.pointerEnabled || e.PointerEvent || "maxTouchPoints" in e.navigator && e.navigator.maxTouchPoints > 0),
            prefixedPointerEvents: !!e.navigator.msPointerEnabled,
            transition: (s = c.style, "transition" in s || "webkitTransition" in s || "MozTransition" in s),
            transforms3d: e.Modernizr && !0 === e.Modernizr.csstransforms3d || function () {
                var t = c.style;
                return "webkitPerspective" in t || "MozPerspective" in t || "OPerspective" in t || "MsPerspective" in t || "perspective" in t
            }(),
            flexbox: function () {
                for (var t = c.style, e = "alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "), i = 0; i < e.length; i += 1) if (e[i] in t) return !0;
                return !1
            }(),
            observer: "MutationObserver" in e || "WebkitMutationObserver" in e,
            passiveListener: function () {
                var t = !1;
                try {
                    var i = Object.defineProperty({}, "passive", {
                        get: function () {
                            t = !0
                        }
                    });
                    e.addEventListener("testPassiveListener", null, i)
                } catch (t) {
                }
                return t
            }(),
            gestures: "ongesturestart" in e
        }), d = {
            isIE: !!e.navigator.userAgent.match(/Trident/g) || !!e.navigator.userAgent.match(/MSIE/g),
            isEdge: !!e.navigator.userAgent.match(/Edge/g),
            isSafari: (a = e.navigator.userAgent.toLowerCase(), a.indexOf("safari") >= 0 && a.indexOf("chrome") < 0 && a.indexOf("android") < 0),
            isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)
        }, h = function (t) {
            void 0 === t && (t = {});
            var e = this;
            e.params = t, e.eventsListeners = {}, e.params && e.params.on && Object.keys(e.params.on).forEach((function (t) {
                e.on(t, e.params.on[t])
            }))
        }, f = {components: {configurable: !0}};
        h.prototype.on = function (t, e, i) {
            var n = this;
            if ("function" != typeof e) return n;
            var o = i ? "unshift" : "push";
            return t.split(" ").forEach((function (t) {
                n.eventsListeners[t] || (n.eventsListeners[t] = []), n.eventsListeners[t][o](e)
            })), n
        }, h.prototype.once = function (t, e, i) {
            var n = this;
            if ("function" != typeof e) return n;

            function o() {
                for (var i = [], r = arguments.length; r--;) i[r] = arguments[r];
                e.apply(n, i), n.off(t, o), o.f7proxy && delete o.f7proxy
            }

            return o.f7proxy = e, n.on(t, o, i)
        }, h.prototype.off = function (t, e) {
            var i = this;
            return i.eventsListeners ? (t.split(" ").forEach((function (t) {
                void 0 === e ? i.eventsListeners[t] = [] : i.eventsListeners[t] && i.eventsListeners[t].length && i.eventsListeners[t].forEach((function (n, o) {
                    (n === e || n.f7proxy && n.f7proxy === e) && i.eventsListeners[t].splice(o, 1)
                }))
            })), i) : i
        }, h.prototype.emit = function () {
            for (var t = [], e = arguments.length; e--;) t[e] = arguments[e];
            var i, n, o, r = this;
            if (!r.eventsListeners) return r;
            "string" == typeof t[0] || Array.isArray(t[0]) ? (i = t[0], n = t.slice(1, t.length), o = r) : (i = t[0].events, n = t[0].data, o = t[0].context || r);
            var a = Array.isArray(i) ? i : i.split(" ");
            return a.forEach((function (t) {
                if (r.eventsListeners && r.eventsListeners[t]) {
                    var e = [];
                    r.eventsListeners[t].forEach((function (t) {
                        e.push(t)
                    })), e.forEach((function (t) {
                        t.apply(o, n)
                    }))
                }
            })), r
        }, h.prototype.useModulesParams = function (t) {
            var e = this;
            e.modules && Object.keys(e.modules).forEach((function (i) {
                var n = e.modules[i];
                n.params && l.extend(t, n.params)
            }))
        }, h.prototype.useModules = function (t) {
            void 0 === t && (t = {});
            var e = this;
            e.modules && Object.keys(e.modules).forEach((function (i) {
                var n = e.modules[i], o = t[i] || {};
                n.instance && Object.keys(n.instance).forEach((function (t) {
                    var i = n.instance[t];
                    e[t] = "function" == typeof i ? i.bind(e) : i
                })), n.on && e.on && Object.keys(n.on).forEach((function (t) {
                    e.on(t, n.on[t])
                })), n.create && n.create.bind(e)(o)
            }))
        }, f.components.set = function (t) {
            this.use && this.use(t)
        }, h.installModule = function (t) {
            for (var e = [], i = arguments.length - 1; i-- > 0;) e[i] = arguments[i + 1];
            var n = this;
            n.prototype.modules || (n.prototype.modules = {});
            var o = t.name || Object.keys(n.prototype.modules).length + "_" + l.now();
            return n.prototype.modules[o] = t, t.proto && Object.keys(t.proto).forEach((function (e) {
                n.prototype[e] = t.proto[e]
            })), t.static && Object.keys(t.static).forEach((function (e) {
                n[e] = t.static[e]
            })), t.install && t.install.apply(n, e), n
        }, h.use = function (t) {
            for (var e = [], i = arguments.length - 1; i-- > 0;) e[i] = arguments[i + 1];
            var n = this;
            return Array.isArray(t) ? (t.forEach((function (t) {
                return n.installModule(t)
            })), n) : n.installModule.apply(n, [t].concat(e))
        }, Object.defineProperties(h, f);
        var p = {
            updateSize: function () {
                var t, e, i = this.$el;
                t = void 0 !== this.params.width ? this.params.width : i[0].clientWidth, e = void 0 !== this.params.height ? this.params.height : i[0].clientHeight, 0 === t && this.isHorizontal() || 0 === e && this.isVertical() || (t = t - parseInt(i.css("padding-left"), 10) - parseInt(i.css("padding-right"), 10), e = e - parseInt(i.css("padding-top"), 10) - parseInt(i.css("padding-bottom"), 10), l.extend(this, {
                    width: t,
                    height: e,
                    size: this.isHorizontal() ? t : e
                }))
            }, updateSlides: function () {
                var t = this.params, i = this.$wrapperEl, n = this.size, o = this.rtlTranslate, r = this.wrongRTL,
                    a = this.virtual && t.virtual.enabled, s = a ? this.virtual.slides.length : this.slides.length,
                    c = i.children("." + this.params.slideClass), h = a ? this.virtual.slides.length : c.length, f = [],
                    p = [], m = [], v = t.slidesOffsetBefore;
                "function" == typeof v && (v = t.slidesOffsetBefore.call(this));
                var g = t.slidesOffsetAfter;
                "function" == typeof g && (g = t.slidesOffsetAfter.call(this));
                var y = this.snapGrid.length, b = this.snapGrid.length, _ = t.spaceBetween, w = -v, C = 0, x = 0;
                if (void 0 !== n) {
                    var k, I;
                    "string" == typeof _ && _.indexOf("%") >= 0 && (_ = parseFloat(_.replace("%", "")) / 100 * n), this.virtualSize = -_, o ? c.css({
                        marginLeft: "",
                        marginTop: ""
                    }) : c.css({
                        marginRight: "",
                        marginBottom: ""
                    }), t.slidesPerColumn > 1 && (k = Math.floor(h / t.slidesPerColumn) === h / this.params.slidesPerColumn ? h : Math.ceil(h / t.slidesPerColumn) * t.slidesPerColumn, "auto" !== t.slidesPerView && "row" === t.slidesPerColumnFill && (k = Math.max(k, t.slidesPerView * t.slidesPerColumn)));
                    for (var S, O = t.slidesPerColumn, T = k / O, E = Math.floor(h / t.slidesPerColumn), P = 0; P < h; P += 1) {
                        I = 0;
                        var L = c.eq(P);
                        if (t.slidesPerColumn > 1) {
                            var j = void 0, A = void 0, M = void 0;
                            if ("column" === t.slidesPerColumnFill || "row" === t.slidesPerColumnFill && t.slidesPerGroup > 1) {
                                if ("column" === t.slidesPerColumnFill) M = P - (A = Math.floor(P / O)) * O, (A > E || A === E && M === O - 1) && (M += 1) >= O && (M = 0, A += 1); else {
                                    var D = Math.floor(P / t.slidesPerGroup);
                                    A = P - (M = Math.floor(P / t.slidesPerView) - D * t.slidesPerColumn) * t.slidesPerView - D * t.slidesPerView
                                }
                                j = A + M * k / O, L.css({
                                    "-webkit-box-ordinal-group": j,
                                    "-moz-box-ordinal-group": j,
                                    "-ms-flex-order": j,
                                    "-webkit-order": j,
                                    order: j
                                })
                            } else A = P - (M = Math.floor(P / T)) * T;
                            L.css("margin-" + (this.isHorizontal() ? "top" : "left"), 0 !== M && t.spaceBetween && t.spaceBetween + "px").attr("data-swiper-column", A).attr("data-swiper-row", M)
                        }
                        if ("none" !== L.css("display")) {
                            if ("auto" === t.slidesPerView) {
                                var B = e.getComputedStyle(L[0], null), N = L[0].style.transform,
                                    R = L[0].style.webkitTransform;
                                if (N && (L[0].style.transform = "none"), R && (L[0].style.webkitTransform = "none"), t.roundLengths) I = this.isHorizontal() ? L.outerWidth(!0) : L.outerHeight(!0); else if (this.isHorizontal()) {
                                    var $ = parseFloat(B.getPropertyValue("width")),
                                        H = parseFloat(B.getPropertyValue("padding-left")),
                                        z = parseFloat(B.getPropertyValue("padding-right")),
                                        U = parseFloat(B.getPropertyValue("margin-left")),
                                        F = parseFloat(B.getPropertyValue("margin-right")),
                                        V = B.getPropertyValue("box-sizing");
                                    I = V && "border-box" === V && !d.isIE ? $ + U + F : $ + H + z + U + F
                                } else {
                                    var G = parseFloat(B.getPropertyValue("height")),
                                        W = parseFloat(B.getPropertyValue("padding-top")),
                                        q = parseFloat(B.getPropertyValue("padding-bottom")),
                                        J = parseFloat(B.getPropertyValue("margin-top")),
                                        Y = parseFloat(B.getPropertyValue("margin-bottom")),
                                        K = B.getPropertyValue("box-sizing");
                                    I = K && "border-box" === K && !d.isIE ? G + J + Y : G + W + q + J + Y
                                }
                                N && (L[0].style.transform = N), R && (L[0].style.webkitTransform = R), t.roundLengths && (I = Math.floor(I))
                            } else I = (n - (t.slidesPerView - 1) * _) / t.slidesPerView, t.roundLengths && (I = Math.floor(I)), c[P] && (this.isHorizontal() ? c[P].style.width = I + "px" : c[P].style.height = I + "px");
                            c[P] && (c[P].swiperSlideSize = I), m.push(I), t.centeredSlides ? (w = w + I / 2 + C / 2 + _, 0 === C && 0 !== P && (w = w - n / 2 - _), 0 === P && (w = w - n / 2 - _), Math.abs(w) < .001 && (w = 0), t.roundLengths && (w = Math.floor(w)), x % t.slidesPerGroup == 0 && f.push(w), p.push(w)) : (t.roundLengths && (w = Math.floor(w)), x % t.slidesPerGroup == 0 && f.push(w), p.push(w), w = w + I + _), this.virtualSize += I + _, C = I, x += 1
                        }
                    }
                    if (this.virtualSize = Math.max(this.virtualSize, n) + g, o && r && ("slide" === t.effect || "coverflow" === t.effect) && i.css({width: this.virtualSize + t.spaceBetween + "px"}), u.flexbox && !t.setWrapperSize || (this.isHorizontal() ? i.css({width: this.virtualSize + t.spaceBetween + "px"}) : i.css({height: this.virtualSize + t.spaceBetween + "px"})), t.slidesPerColumn > 1 && (this.virtualSize = (I + t.spaceBetween) * k, this.virtualSize = Math.ceil(this.virtualSize / t.slidesPerColumn) - t.spaceBetween, this.isHorizontal() ? i.css({width: this.virtualSize + t.spaceBetween + "px"}) : i.css({height: this.virtualSize + t.spaceBetween + "px"}), t.centeredSlides)) {
                        S = [];
                        for (var Z = 0; Z < f.length; Z += 1) {
                            var X = f[Z];
                            t.roundLengths && (X = Math.floor(X)), f[Z] < this.virtualSize + f[0] && S.push(X)
                        }
                        f = S
                    }
                    if (!t.centeredSlides) {
                        S = [];
                        for (var Q = 0; Q < f.length; Q += 1) {
                            var tt = f[Q];
                            t.roundLengths && (tt = Math.floor(tt)), f[Q] <= this.virtualSize - n && S.push(tt)
                        }
                        f = S, Math.floor(this.virtualSize - n) - Math.floor(f[f.length - 1]) > 1 && f.push(this.virtualSize - n)
                    }
                    if (0 === f.length && (f = [0]), 0 !== t.spaceBetween && (this.isHorizontal() ? o ? c.css({marginLeft: _ + "px"}) : c.css({marginRight: _ + "px"}) : c.css({marginBottom: _ + "px"})), t.centerInsufficientSlides) {
                        var et = 0;
                        if (m.forEach((function (e) {
                            et += e + (t.spaceBetween ? t.spaceBetween : 0)
                        })), (et -= t.spaceBetween) < n) {
                            var it = (n - et) / 2;
                            f.forEach((function (t, e) {
                                f[e] = t - it
                            })), p.forEach((function (t, e) {
                                p[e] = t + it
                            }))
                        }
                    }
                    l.extend(this, {
                        slides: c,
                        snapGrid: f,
                        slidesGrid: p,
                        slidesSizesGrid: m
                    }), h !== s && this.emit("slidesLengthChange"), f.length !== y && (this.params.watchOverflow && this.checkOverflow(), this.emit("snapGridLengthChange")), p.length !== b && this.emit("slidesGridLengthChange"), (t.watchSlidesProgress || t.watchSlidesVisibility) && this.updateSlidesOffset()
                }
            }, updateAutoHeight: function (t) {
                var e, i = [], n = 0;
                if ("number" == typeof t ? this.setTransition(t) : !0 === t && this.setTransition(this.params.speed), "auto" !== this.params.slidesPerView && this.params.slidesPerView > 1) for (e = 0; e < Math.ceil(this.params.slidesPerView); e += 1) {
                    var o = this.activeIndex + e;
                    if (o > this.slides.length) break;
                    i.push(this.slides.eq(o)[0])
                } else i.push(this.slides.eq(this.activeIndex)[0]);
                for (e = 0; e < i.length; e += 1) if (void 0 !== i[e]) {
                    var r = i[e].offsetHeight;
                    n = r > n ? r : n
                }
                n && this.$wrapperEl.css("height", n + "px")
            }, updateSlidesOffset: function () {
                for (var t = this.slides, e = 0; e < t.length; e += 1) t[e].swiperSlideOffset = this.isHorizontal() ? t[e].offsetLeft : t[e].offsetTop
            }, updateSlidesProgress: function (t) {
                void 0 === t && (t = this && this.translate || 0);
                var e = this.params, i = this.slides, o = this.rtlTranslate;
                if (0 !== i.length) {
                    void 0 === i[0].swiperSlideOffset && this.updateSlidesOffset();
                    var r = -t;
                    o && (r = t), i.removeClass(e.slideVisibleClass), this.visibleSlidesIndexes = [], this.visibleSlides = [];
                    for (var a = 0; a < i.length; a += 1) {
                        var s = i[a],
                            c = (r + (e.centeredSlides ? this.minTranslate() : 0) - s.swiperSlideOffset) / (s.swiperSlideSize + e.spaceBetween);
                        if (e.watchSlidesVisibility) {
                            var l = -(r - s.swiperSlideOffset), u = l + this.slidesSizesGrid[a];
                            (l >= 0 && l < this.size - 1 || u > 1 && u <= this.size || l <= 0 && u >= this.size) && (this.visibleSlides.push(s), this.visibleSlidesIndexes.push(a), i.eq(a).addClass(e.slideVisibleClass))
                        }
                        s.progress = o ? -c : c
                    }
                    this.visibleSlides = n(this.visibleSlides)
                }
            }, updateProgress: function (t) {
                void 0 === t && (t = this && this.translate || 0);
                var e = this.params, i = this.maxTranslate() - this.minTranslate(), n = this.progress,
                    o = this.isBeginning, r = this.isEnd, a = o, s = r;
                0 === i ? (n = 0, o = !0, r = !0) : (o = (n = (t - this.minTranslate()) / i) <= 0, r = n >= 1), l.extend(this, {
                    progress: n,
                    isBeginning: o,
                    isEnd: r
                }), (e.watchSlidesProgress || e.watchSlidesVisibility) && this.updateSlidesProgress(t), o && !a && this.emit("reachBeginning toEdge"), r && !s && this.emit("reachEnd toEdge"), (a && !o || s && !r) && this.emit("fromEdge"), this.emit("progress", n)
            }, updateSlidesClasses: function () {
                var t, e = this.slides, i = this.params, n = this.$wrapperEl, o = this.activeIndex, r = this.realIndex,
                    a = this.virtual && i.virtual.enabled;
                e.removeClass(i.slideActiveClass + " " + i.slideNextClass + " " + i.slidePrevClass + " " + i.slideDuplicateActiveClass + " " + i.slideDuplicateNextClass + " " + i.slideDuplicatePrevClass), (t = a ? this.$wrapperEl.find("." + i.slideClass + '[data-swiper-slide-index="' + o + '"]') : e.eq(o)).addClass(i.slideActiveClass), i.loop && (t.hasClass(i.slideDuplicateClass) ? n.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + r + '"]').addClass(i.slideDuplicateActiveClass) : n.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + r + '"]').addClass(i.slideDuplicateActiveClass));
                var s = t.nextAll("." + i.slideClass).eq(0).addClass(i.slideNextClass);
                i.loop && 0 === s.length && (s = e.eq(0)).addClass(i.slideNextClass);
                var c = t.prevAll("." + i.slideClass).eq(0).addClass(i.slidePrevClass);
                i.loop && 0 === c.length && (c = e.eq(-1)).addClass(i.slidePrevClass), i.loop && (s.hasClass(i.slideDuplicateClass) ? n.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + s.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicateNextClass) : n.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + s.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicateNextClass), c.hasClass(i.slideDuplicateClass) ? n.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + c.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicatePrevClass) : n.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + c.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicatePrevClass))
            }, updateActiveIndex: function (t) {
                var e, i = this.rtlTranslate ? this.translate : -this.translate, n = this.slidesGrid, o = this.snapGrid,
                    r = this.params, a = this.activeIndex, s = this.realIndex, c = this.snapIndex, u = t;
                if (void 0 === u) {
                    for (var d = 0; d < n.length; d += 1) void 0 !== n[d + 1] ? i >= n[d] && i < n[d + 1] - (n[d + 1] - n[d]) / 2 ? u = d : i >= n[d] && i < n[d + 1] && (u = d + 1) : i >= n[d] && (u = d);
                    r.normalizeSlideIndex && (u < 0 || void 0 === u) && (u = 0)
                }
                if ((e = o.indexOf(i) >= 0 ? o.indexOf(i) : Math.floor(u / r.slidesPerGroup)) >= o.length && (e = o.length - 1), u !== a) {
                    var h = parseInt(this.slides.eq(u).attr("data-swiper-slide-index") || u, 10);
                    l.extend(this, {
                        snapIndex: e,
                        realIndex: h,
                        previousIndex: a,
                        activeIndex: u
                    }), this.emit("activeIndexChange"), this.emit("snapIndexChange"), s !== h && this.emit("realIndexChange"), (this.initialized || this.runCallbacksOnInit) && this.emit("slideChange")
                } else e !== c && (this.snapIndex = e, this.emit("snapIndexChange"))
            }, updateClickedSlide: function (t) {
                var e = this.params, i = n(t.target).closest("." + e.slideClass)[0], o = !1;
                if (i) for (var r = 0; r < this.slides.length; r += 1) this.slides[r] === i && (o = !0);
                if (!i || !o) return this.clickedSlide = void 0, void (this.clickedIndex = void 0);
                this.clickedSlide = i, this.virtual && this.params.virtual.enabled ? this.clickedIndex = parseInt(n(i).attr("data-swiper-slide-index"), 10) : this.clickedIndex = n(i).index(), e.slideToClickedSlide && void 0 !== this.clickedIndex && this.clickedIndex !== this.activeIndex && this.slideToClickedSlide()
            }
        }, m = {
            getTranslate: function (t) {
                void 0 === t && (t = this.isHorizontal() ? "x" : "y");
                var e = this.params, i = this.rtlTranslate, n = this.translate, o = this.$wrapperEl;
                if (e.virtualTranslate) return i ? -n : n;
                var r = l.getTranslate(o[0], t);
                return i && (r = -r), r || 0
            }, setTranslate: function (t, e) {
                var i = this.rtlTranslate, n = this.params, o = this.$wrapperEl, r = this.progress, a = 0, s = 0;
                this.isHorizontal() ? a = i ? -t : t : s = t, n.roundLengths && (a = Math.floor(a), s = Math.floor(s)), n.virtualTranslate || (u.transforms3d ? o.transform("translate3d(" + a + "px, " + s + "px, 0px)") : o.transform("translate(" + a + "px, " + s + "px)")), this.previousTranslate = this.translate, this.translate = this.isHorizontal() ? a : s;
                var c = this.maxTranslate() - this.minTranslate();
                (0 === c ? 0 : (t - this.minTranslate()) / c) !== r && this.updateProgress(t), this.emit("setTranslate", this.translate, e)
            }, minTranslate: function () {
                return -this.snapGrid[0]
            }, maxTranslate: function () {
                return -this.snapGrid[this.snapGrid.length - 1]
            }
        }, v = {
            setTransition: function (t, e) {
                this.$wrapperEl.transition(t), this.emit("setTransition", t, e)
            }, transitionStart: function (t, e) {
                void 0 === t && (t = !0);
                var i = this.activeIndex, n = this.params, o = this.previousIndex;
                n.autoHeight && this.updateAutoHeight();
                var r = e;
                if (r || (r = i > o ? "next" : i < o ? "prev" : "reset"), this.emit("transitionStart"), t && i !== o) {
                    if ("reset" === r) return void this.emit("slideResetTransitionStart");
                    this.emit("slideChangeTransitionStart"), "next" === r ? this.emit("slideNextTransitionStart") : this.emit("slidePrevTransitionStart")
                }
            }, transitionEnd: function (t, e) {
                void 0 === t && (t = !0);
                var i = this.activeIndex, n = this.previousIndex;
                this.animating = !1, this.setTransition(0);
                var o = e;
                if (o || (o = i > n ? "next" : i < n ? "prev" : "reset"), this.emit("transitionEnd"), t && i !== n) {
                    if ("reset" === o) return void this.emit("slideResetTransitionEnd");
                    this.emit("slideChangeTransitionEnd"), "next" === o ? this.emit("slideNextTransitionEnd") : this.emit("slidePrevTransitionEnd")
                }
            }
        }, g = {
            slideTo: function (t, e, i, n) {
                void 0 === t && (t = 0), void 0 === e && (e = this.params.speed), void 0 === i && (i = !0);
                var o = this, r = t;
                r < 0 && (r = 0);
                var a = o.params, s = o.snapGrid, c = o.slidesGrid, l = o.previousIndex, d = o.activeIndex,
                    h = o.rtlTranslate;
                if (o.animating && a.preventInteractionOnTransition) return !1;
                var f = Math.floor(r / a.slidesPerGroup);
                f >= s.length && (f = s.length - 1), (d || a.initialSlide || 0) === (l || 0) && i && o.emit("beforeSlideChangeStart");
                var p, m = -s[f];
                if (o.updateProgress(m), a.normalizeSlideIndex) for (var v = 0; v < c.length; v += 1) -Math.floor(100 * m) >= Math.floor(100 * c[v]) && (r = v);
                if (o.initialized && r !== d) {
                    if (!o.allowSlideNext && m < o.translate && m < o.minTranslate()) return !1;
                    if (!o.allowSlidePrev && m > o.translate && m > o.maxTranslate() && (d || 0) !== r) return !1
                }
                return p = r > d ? "next" : r < d ? "prev" : "reset", h && -m === o.translate || !h && m === o.translate ? (o.updateActiveIndex(r), a.autoHeight && o.updateAutoHeight(), o.updateSlidesClasses(), "slide" !== a.effect && o.setTranslate(m), "reset" !== p && (o.transitionStart(i, p), o.transitionEnd(i, p)), !1) : (0 !== e && u.transition ? (o.setTransition(e), o.setTranslate(m), o.updateActiveIndex(r), o.updateSlidesClasses(), o.emit("beforeTransitionStart", e, n), o.transitionStart(i, p), o.animating || (o.animating = !0, o.onSlideToWrapperTransitionEnd || (o.onSlideToWrapperTransitionEnd = function (t) {
                    o && !o.destroyed && t.target === this && (o.$wrapperEl[0].removeEventListener("transitionend", o.onSlideToWrapperTransitionEnd), o.$wrapperEl[0].removeEventListener("webkitTransitionEnd", o.onSlideToWrapperTransitionEnd), o.onSlideToWrapperTransitionEnd = null, delete o.onSlideToWrapperTransitionEnd, o.transitionEnd(i, p))
                }), o.$wrapperEl[0].addEventListener("transitionend", o.onSlideToWrapperTransitionEnd), o.$wrapperEl[0].addEventListener("webkitTransitionEnd", o.onSlideToWrapperTransitionEnd))) : (o.setTransition(0), o.setTranslate(m), o.updateActiveIndex(r), o.updateSlidesClasses(), o.emit("beforeTransitionStart", e, n), o.transitionStart(i, p), o.transitionEnd(i, p)), !0)
            }, slideToLoop: function (t, e, i, n) {
                void 0 === t && (t = 0), void 0 === e && (e = this.params.speed), void 0 === i && (i = !0);
                var o = t;
                return this.params.loop && (o += this.loopedSlides), this.slideTo(o, e, i, n)
            }, slideNext: function (t, e, i) {
                void 0 === t && (t = this.params.speed), void 0 === e && (e = !0);
                var n = this.params, o = this.animating;
                return n.loop ? !o && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, this.slideTo(this.activeIndex + n.slidesPerGroup, t, e, i)) : this.slideTo(this.activeIndex + n.slidesPerGroup, t, e, i)
            }, slidePrev: function (t, e, i) {
                void 0 === t && (t = this.params.speed), void 0 === e && (e = !0);
                var n = this.params, o = this.animating, r = this.snapGrid, a = this.slidesGrid, s = this.rtlTranslate;
                if (n.loop) {
                    if (o) return !1;
                    this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft
                }

                function c(t) {
                    return t < 0 ? -Math.floor(Math.abs(t)) : Math.floor(t)
                }

                var l, u = c(s ? this.translate : -this.translate), d = r.map((function (t) {
                    return c(t)
                })), h = (a.map((function (t) {
                    return c(t)
                })), r[d.indexOf(u)], r[d.indexOf(u) - 1]);
                return void 0 !== h && (l = a.indexOf(h)) < 0 && (l = this.activeIndex - 1), this.slideTo(l, t, e, i)
            }, slideReset: function (t, e, i) {
                return void 0 === t && (t = this.params.speed), void 0 === e && (e = !0), this.slideTo(this.activeIndex, t, e, i)
            }, slideToClosest: function (t, e, i) {
                void 0 === t && (t = this.params.speed), void 0 === e && (e = !0);
                var n = this.activeIndex, o = Math.floor(n / this.params.slidesPerGroup);
                if (o < this.snapGrid.length - 1) {
                    var r = this.rtlTranslate ? this.translate : -this.translate, a = this.snapGrid[o];
                    r - a > (this.snapGrid[o + 1] - a) / 2 && (n = this.params.slidesPerGroup)
                }
                return this.slideTo(n, t, e, i)
            }, slideToClickedSlide: function () {
                var t, e = this, i = e.params, o = e.$wrapperEl,
                    r = "auto" === i.slidesPerView ? e.slidesPerViewDynamic() : i.slidesPerView, a = e.clickedIndex;
                if (i.loop) {
                    if (e.animating) return;
                    t = parseInt(n(e.clickedSlide).attr("data-swiper-slide-index"), 10), i.centeredSlides ? a < e.loopedSlides - r / 2 || a > e.slides.length - e.loopedSlides + r / 2 ? (e.loopFix(), a = o.children("." + i.slideClass + '[data-swiper-slide-index="' + t + '"]:not(.' + i.slideDuplicateClass + ")").eq(0).index(), l.nextTick((function () {
                        e.slideTo(a)
                    }))) : e.slideTo(a) : a > e.slides.length - r ? (e.loopFix(), a = o.children("." + i.slideClass + '[data-swiper-slide-index="' + t + '"]:not(.' + i.slideDuplicateClass + ")").eq(0).index(), l.nextTick((function () {
                        e.slideTo(a)
                    }))) : e.slideTo(a)
                } else e.slideTo(a)
            }
        }, y = {
            loopCreate: function () {
                var e = this, i = e.params, o = e.$wrapperEl;
                o.children("." + i.slideClass + "." + i.slideDuplicateClass).remove();
                var r = o.children("." + i.slideClass);
                if (i.loopFillGroupWithBlank) {
                    var a = i.slidesPerGroup - r.length % i.slidesPerGroup;
                    if (a !== i.slidesPerGroup) {
                        for (var s = 0; s < a; s += 1) {
                            var c = n(t.createElement("div")).addClass(i.slideClass + " " + i.slideBlankClass);
                            o.append(c)
                        }
                        r = o.children("." + i.slideClass)
                    }
                }
                "auto" !== i.slidesPerView || i.loopedSlides || (i.loopedSlides = r.length), e.loopedSlides = parseInt(i.loopedSlides || i.slidesPerView, 10), e.loopedSlides += i.loopAdditionalSlides, e.loopedSlides > r.length && (e.loopedSlides = r.length);
                var l = [], u = [];
                r.each((function (t, i) {
                    var o = n(i);
                    t < e.loopedSlides && u.push(i), t < r.length && t >= r.length - e.loopedSlides && l.push(i), o.attr("data-swiper-slide-index", t)
                }));
                for (var d = 0; d < u.length; d += 1) o.append(n(u[d].cloneNode(!0)).addClass(i.slideDuplicateClass));
                for (var h = l.length - 1; h >= 0; h -= 1) o.prepend(n(l[h].cloneNode(!0)).addClass(i.slideDuplicateClass))
            }, loopFix: function () {
                var t, e = this.params, i = this.activeIndex, n = this.slides, o = this.loopedSlides,
                    r = this.allowSlidePrev, a = this.allowSlideNext, s = this.snapGrid, c = this.rtlTranslate;
                this.allowSlidePrev = !0, this.allowSlideNext = !0;
                var l = -s[i] - this.getTranslate();
                i < o ? (t = n.length - 3 * o + i, t += o, this.slideTo(t, 0, !1, !0) && 0 !== l && this.setTranslate((c ? -this.translate : this.translate) - l)) : ("auto" === e.slidesPerView && i >= 2 * o || i >= n.length - o) && (t = -n.length + i + o, t += o, this.slideTo(t, 0, !1, !0) && 0 !== l && this.setTranslate((c ? -this.translate : this.translate) - l)), this.allowSlidePrev = r, this.allowSlideNext = a
            }, loopDestroy: function () {
                var t = this.$wrapperEl, e = this.params, i = this.slides;
                t.children("." + e.slideClass + "." + e.slideDuplicateClass + ",." + e.slideClass + "." + e.slideBlankClass).remove(), i.removeAttr("data-swiper-slide-index")
            }
        }, b = {
            setGrabCursor: function (t) {
                if (!(u.touch || !this.params.simulateTouch || this.params.watchOverflow && this.isLocked)) {
                    var e = this.el;
                    e.style.cursor = "move", e.style.cursor = t ? "-webkit-grabbing" : "-webkit-grab", e.style.cursor = t ? "-moz-grabbin" : "-moz-grab", e.style.cursor = t ? "grabbing" : "grab"
                }
            }, unsetGrabCursor: function () {
                u.touch || this.params.watchOverflow && this.isLocked || (this.el.style.cursor = "")
            }
        }, _ = {
            appendSlide: function (t) {
                var e = this.$wrapperEl, i = this.params;
                if (i.loop && this.loopDestroy(), "object" == typeof t && "length" in t) for (var n = 0; n < t.length; n += 1) t[n] && e.append(t[n]); else e.append(t);
                i.loop && this.loopCreate(), i.observer && u.observer || this.update()
            }, prependSlide: function (t) {
                var e = this.params, i = this.$wrapperEl, n = this.activeIndex;
                e.loop && this.loopDestroy();
                var o = n + 1;
                if ("object" == typeof t && "length" in t) {
                    for (var r = 0; r < t.length; r += 1) t[r] && i.prepend(t[r]);
                    o = n + t.length
                } else i.prepend(t);
                e.loop && this.loopCreate(), e.observer && u.observer || this.update(), this.slideTo(o, 0, !1)
            }, addSlide: function (t, e) {
                var i = this.$wrapperEl, n = this.params, o = this.activeIndex;
                n.loop && (o -= this.loopedSlides, this.loopDestroy(), this.slides = i.children("." + n.slideClass));
                var r = this.slides.length;
                if (t <= 0) this.prependSlide(e); else if (t >= r) this.appendSlide(e); else {
                    for (var a = o > t ? o + 1 : o, s = [], c = r - 1; c >= t; c -= 1) {
                        var l = this.slides.eq(c);
                        l.remove(), s.unshift(l)
                    }
                    if ("object" == typeof e && "length" in e) {
                        for (var d = 0; d < e.length; d += 1) e[d] && i.append(e[d]);
                        a = o > t ? o + e.length : o
                    } else i.append(e);
                    for (var h = 0; h < s.length; h += 1) i.append(s[h]);
                    n.loop && this.loopCreate(), n.observer && u.observer || this.update(), n.loop ? this.slideTo(a + this.loopedSlides, 0, !1) : this.slideTo(a, 0, !1)
                }
            }, removeSlide: function (t) {
                var e = this.params, i = this.$wrapperEl, n = this.activeIndex;
                e.loop && (n -= this.loopedSlides, this.loopDestroy(), this.slides = i.children("." + e.slideClass));
                var o, r = n;
                if ("object" == typeof t && "length" in t) {
                    for (var a = 0; a < t.length; a += 1) o = t[a], this.slides[o] && this.slides.eq(o).remove(), o < r && (r -= 1);
                    r = Math.max(r, 0)
                } else o = t, this.slides[o] && this.slides.eq(o).remove(), o < r && (r -= 1), r = Math.max(r, 0);
                e.loop && this.loopCreate(), e.observer && u.observer || this.update(), e.loop ? this.slideTo(r + this.loopedSlides, 0, !1) : this.slideTo(r, 0, !1)
            }, removeAllSlides: function () {
                for (var t = [], e = 0; e < this.slides.length; e += 1) t.push(e);
                this.removeSlide(t)
            }
        }, w = function () {
            var i = e.navigator.userAgent, n = {
                    ios: !1,
                    android: !1,
                    androidChrome: !1,
                    desktop: !1,
                    windows: !1,
                    iphone: !1,
                    ipod: !1,
                    ipad: !1,
                    cordova: e.cordova || e.phonegap,
                    phonegap: e.cordova || e.phonegap
                }, o = i.match(/(Windows Phone);?[\s\/]+([\d.]+)?/), r = i.match(/(Android);?[\s\/]+([\d.]+)?/),
                a = i.match(/(iPad).*OS\s([\d_]+)/), s = i.match(/(iPod)(.*OS\s([\d_]+))?/),
                c = !a && i.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
            if (o && (n.os = "windows", n.osVersion = o[2], n.windows = !0), r && !o && (n.os = "android", n.osVersion = r[2], n.android = !0, n.androidChrome = i.toLowerCase().indexOf("chrome") >= 0), (a || c || s) && (n.os = "ios", n.ios = !0), c && !s && (n.osVersion = c[2].replace(/_/g, "."), n.iphone = !0), a && (n.osVersion = a[2].replace(/_/g, "."), n.ipad = !0), s && (n.osVersion = s[3] ? s[3].replace(/_/g, ".") : null, n.iphone = !0), n.ios && n.osVersion && i.indexOf("Version/") >= 0 && "10" === n.osVersion.split(".")[0] && (n.osVersion = i.toLowerCase().split("version/")[1].split(" ")[0]), n.desktop = !(n.os || n.android || n.webView), n.webView = (c || a || s) && i.match(/.*AppleWebKit(?!.*Safari)/i), n.os && "ios" === n.os) {
                var l = n.osVersion.split("."), u = t.querySelector('meta[name="viewport"]');
                n.minimalUi = !n.webView && (s || c) && (1 * l[0] == 7 ? 1 * l[1] >= 1 : 1 * l[0] > 7) && u && u.getAttribute("content").indexOf("minimal-ui") >= 0
            }
            return n.pixelRatio = e.devicePixelRatio || 1, n
        }();

        function C(i) {
            var o = this.touchEventsData, r = this.params, a = this.touches;
            if (!this.animating || !r.preventInteractionOnTransition) {
                var s = i;
                if (s.originalEvent && (s = s.originalEvent), o.isTouchEvent = "touchstart" === s.type, (o.isTouchEvent || !("which" in s) || 3 !== s.which) && !(!o.isTouchEvent && "button" in s && s.button > 0 || o.isTouched && o.isMoved)) if (r.noSwiping && n(s.target).closest(r.noSwipingSelector ? r.noSwipingSelector : "." + r.noSwipingClass)[0]) this.allowClick = !0; else if (!r.swipeHandler || n(s).closest(r.swipeHandler)[0]) {
                    a.currentX = "touchstart" === s.type ? s.targetTouches[0].pageX : s.pageX, a.currentY = "touchstart" === s.type ? s.targetTouches[0].pageY : s.pageY;
                    var c = a.currentX, u = a.currentY, d = r.edgeSwipeDetection || r.iOSEdgeSwipeDetection,
                        h = r.edgeSwipeThreshold || r.iOSEdgeSwipeThreshold;
                    if (!d || !(c <= h || c >= e.screen.width - h)) {
                        if (l.extend(o, {
                            isTouched: !0,
                            isMoved: !1,
                            allowTouchCallbacks: !0,
                            isScrolling: void 0,
                            startMoving: void 0
                        }), a.startX = c, a.startY = u, o.touchStartTime = l.now(), this.allowClick = !0, this.updateSize(), this.swipeDirection = void 0, r.threshold > 0 && (o.allowThresholdMove = !1), "touchstart" !== s.type) {
                            var f = !0;
                            n(s.target).is(o.formElements) && (f = !1), t.activeElement && n(t.activeElement).is(o.formElements) && t.activeElement !== s.target && t.activeElement.blur();
                            var p = f && this.allowTouchMove && r.touchStartPreventDefault;
                            (r.touchStartForcePreventDefault || p) && s.preventDefault()
                        }
                        this.emit("touchStart", s)
                    }
                }
            }
        }

        function x(e) {
            var i = this.touchEventsData, o = this.params, r = this.touches, a = this.rtlTranslate, s = e;
            if (s.originalEvent && (s = s.originalEvent), i.isTouched) {
                if (!i.isTouchEvent || "mousemove" !== s.type) {
                    var c = "touchmove" === s.type ? s.targetTouches[0].pageX : s.pageX,
                        u = "touchmove" === s.type ? s.targetTouches[0].pageY : s.pageY;
                    if (s.preventedByNestedSwiper) return r.startX = c, void (r.startY = u);
                    if (!this.allowTouchMove) return this.allowClick = !1, void (i.isTouched && (l.extend(r, {
                        startX: c,
                        startY: u,
                        currentX: c,
                        currentY: u
                    }), i.touchStartTime = l.now()));
                    if (i.isTouchEvent && o.touchReleaseOnEdges && !o.loop) if (this.isVertical()) {
                        if (u < r.startY && this.translate <= this.maxTranslate() || u > r.startY && this.translate >= this.minTranslate()) return i.isTouched = !1, void (i.isMoved = !1)
                    } else if (c < r.startX && this.translate <= this.maxTranslate() || c > r.startX && this.translate >= this.minTranslate()) return;
                    if (i.isTouchEvent && t.activeElement && s.target === t.activeElement && n(s.target).is(i.formElements)) return i.isMoved = !0, void (this.allowClick = !1);
                    if (i.allowTouchCallbacks && this.emit("touchMove", s), !(s.targetTouches && s.targetTouches.length > 1)) {
                        r.currentX = c, r.currentY = u;
                        var d, h = r.currentX - r.startX, f = r.currentY - r.startY;
                        if (!(this.params.threshold && Math.sqrt(Math.pow(h, 2) + Math.pow(f, 2)) < this.params.threshold)) if (void 0 === i.isScrolling && (this.isHorizontal() && r.currentY === r.startY || this.isVertical() && r.currentX === r.startX ? i.isScrolling = !1 : h * h + f * f >= 25 && (d = 180 * Math.atan2(Math.abs(f), Math.abs(h)) / Math.PI, i.isScrolling = this.isHorizontal() ? d > o.touchAngle : 90 - d > o.touchAngle)), i.isScrolling && this.emit("touchMoveOpposite", s), void 0 === i.startMoving && (r.currentX === r.startX && r.currentY === r.startY || (i.startMoving = !0)), i.isScrolling) i.isTouched = !1; else if (i.startMoving) {
                            this.allowClick = !1, s.preventDefault(), o.touchMoveStopPropagation && !o.nested && s.stopPropagation(), i.isMoved || (o.loop && this.loopFix(), i.startTranslate = this.getTranslate(), this.setTransition(0), this.animating && this.$wrapperEl.trigger("webkitTransitionEnd transitionend"), i.allowMomentumBounce = !1, !o.grabCursor || !0 !== this.allowSlideNext && !0 !== this.allowSlidePrev || this.setGrabCursor(!0), this.emit("sliderFirstMove", s)), this.emit("sliderMove", s), i.isMoved = !0;
                            var p = this.isHorizontal() ? h : f;
                            r.diff = p, p *= o.touchRatio, a && (p = -p), this.swipeDirection = p > 0 ? "prev" : "next", i.currentTranslate = p + i.startTranslate;
                            var m = !0, v = o.resistanceRatio;
                            if (o.touchReleaseOnEdges && (v = 0), p > 0 && i.currentTranslate > this.minTranslate() ? (m = !1, o.resistance && (i.currentTranslate = this.minTranslate() - 1 + Math.pow(-this.minTranslate() + i.startTranslate + p, v))) : p < 0 && i.currentTranslate < this.maxTranslate() && (m = !1, o.resistance && (i.currentTranslate = this.maxTranslate() + 1 - Math.pow(this.maxTranslate() - i.startTranslate - p, v))), m && (s.preventedByNestedSwiper = !0), !this.allowSlideNext && "next" === this.swipeDirection && i.currentTranslate < i.startTranslate && (i.currentTranslate = i.startTranslate), !this.allowSlidePrev && "prev" === this.swipeDirection && i.currentTranslate > i.startTranslate && (i.currentTranslate = i.startTranslate), o.threshold > 0) {
                                if (!(Math.abs(p) > o.threshold || i.allowThresholdMove)) return void (i.currentTranslate = i.startTranslate);
                                if (!i.allowThresholdMove) return i.allowThresholdMove = !0, r.startX = r.currentX, r.startY = r.currentY, i.currentTranslate = i.startTranslate, void (r.diff = this.isHorizontal() ? r.currentX - r.startX : r.currentY - r.startY)
                            }
                            o.followFinger && ((o.freeMode || o.watchSlidesProgress || o.watchSlidesVisibility) && (this.updateActiveIndex(), this.updateSlidesClasses()), o.freeMode && (0 === i.velocities.length && i.velocities.push({
                                position: r[this.isHorizontal() ? "startX" : "startY"],
                                time: i.touchStartTime
                            }), i.velocities.push({
                                position: r[this.isHorizontal() ? "currentX" : "currentY"],
                                time: l.now()
                            })), this.updateProgress(i.currentTranslate), this.setTranslate(i.currentTranslate))
                        }
                    }
                }
            } else i.startMoving && i.isScrolling && this.emit("touchMoveOpposite", s)
        }

        function k(t) {
            var e = this, i = e.touchEventsData, n = e.params, o = e.touches, r = e.rtlTranslate, a = e.$wrapperEl,
                s = e.slidesGrid, c = e.snapGrid, u = t;
            if (u.originalEvent && (u = u.originalEvent), i.allowTouchCallbacks && e.emit("touchEnd", u), i.allowTouchCallbacks = !1, !i.isTouched) return i.isMoved && n.grabCursor && e.setGrabCursor(!1), i.isMoved = !1, void (i.startMoving = !1);
            n.grabCursor && i.isMoved && i.isTouched && (!0 === e.allowSlideNext || !0 === e.allowSlidePrev) && e.setGrabCursor(!1);
            var d, h = l.now(), f = h - i.touchStartTime;
            if (e.allowClick && (e.updateClickedSlide(u), e.emit("tap", u), f < 300 && h - i.lastClickTime > 300 && (i.clickTimeout && clearTimeout(i.clickTimeout), i.clickTimeout = l.nextTick((function () {
                e && !e.destroyed && e.emit("click", u)
            }), 300)), f < 300 && h - i.lastClickTime < 300 && (i.clickTimeout && clearTimeout(i.clickTimeout), e.emit("doubleTap", u))), i.lastClickTime = l.now(), l.nextTick((function () {
                e.destroyed || (e.allowClick = !0)
            })), !i.isTouched || !i.isMoved || !e.swipeDirection || 0 === o.diff || i.currentTranslate === i.startTranslate) return i.isTouched = !1, i.isMoved = !1, void (i.startMoving = !1);
            if (i.isTouched = !1, i.isMoved = !1, i.startMoving = !1, d = n.followFinger ? r ? e.translate : -e.translate : -i.currentTranslate, n.freeMode) {
                if (d < -e.minTranslate()) return void e.slideTo(e.activeIndex);
                if (d > -e.maxTranslate()) return void (e.slides.length < c.length ? e.slideTo(c.length - 1) : e.slideTo(e.slides.length - 1));
                if (n.freeModeMomentum) {
                    if (i.velocities.length > 1) {
                        var p = i.velocities.pop(), m = i.velocities.pop(), v = p.position - m.position,
                            g = p.time - m.time;
                        e.velocity = v / g, e.velocity /= 2, Math.abs(e.velocity) < n.freeModeMinimumVelocity && (e.velocity = 0), (g > 150 || l.now() - p.time > 300) && (e.velocity = 0)
                    } else e.velocity = 0;
                    e.velocity *= n.freeModeMomentumVelocityRatio, i.velocities.length = 0;
                    var y = 1e3 * n.freeModeMomentumRatio, b = e.velocity * y, _ = e.translate + b;
                    r && (_ = -_);
                    var w, C, x = !1, k = 20 * Math.abs(e.velocity) * n.freeModeMomentumBounceRatio;
                    if (_ < e.maxTranslate()) n.freeModeMomentumBounce ? (_ + e.maxTranslate() < -k && (_ = e.maxTranslate() - k), w = e.maxTranslate(), x = !0, i.allowMomentumBounce = !0) : _ = e.maxTranslate(), n.loop && n.centeredSlides && (C = !0); else if (_ > e.minTranslate()) n.freeModeMomentumBounce ? (_ - e.minTranslate() > k && (_ = e.minTranslate() + k), w = e.minTranslate(), x = !0, i.allowMomentumBounce = !0) : _ = e.minTranslate(), n.loop && n.centeredSlides && (C = !0); else if (n.freeModeSticky) {
                        for (var I, S = 0; S < c.length; S += 1) if (c[S] > -_) {
                            I = S;
                            break
                        }
                        _ = -(_ = Math.abs(c[I] - _) < Math.abs(c[I - 1] - _) || "next" === e.swipeDirection ? c[I] : c[I - 1])
                    }
                    if (C && e.once("transitionEnd", (function () {
                        e.loopFix()
                    })), 0 !== e.velocity) y = r ? Math.abs((-_ - e.translate) / e.velocity) : Math.abs((_ - e.translate) / e.velocity); else if (n.freeModeSticky) return void e.slideToClosest();
                    n.freeModeMomentumBounce && x ? (e.updateProgress(w), e.setTransition(y), e.setTranslate(_), e.transitionStart(!0, e.swipeDirection), e.animating = !0, a.transitionEnd((function () {
                        e && !e.destroyed && i.allowMomentumBounce && (e.emit("momentumBounce"), e.setTransition(n.speed), e.setTranslate(w), a.transitionEnd((function () {
                            e && !e.destroyed && e.transitionEnd()
                        })))
                    }))) : e.velocity ? (e.updateProgress(_), e.setTransition(y), e.setTranslate(_), e.transitionStart(!0, e.swipeDirection), e.animating || (e.animating = !0, a.transitionEnd((function () {
                        e && !e.destroyed && e.transitionEnd()
                    })))) : e.updateProgress(_), e.updateActiveIndex(), e.updateSlidesClasses()
                } else if (n.freeModeSticky) return void e.slideToClosest();
                (!n.freeModeMomentum || f >= n.longSwipesMs) && (e.updateProgress(), e.updateActiveIndex(), e.updateSlidesClasses())
            } else {
                for (var O = 0, T = e.slidesSizesGrid[0], E = 0; E < s.length; E += n.slidesPerGroup) void 0 !== s[E + n.slidesPerGroup] ? d >= s[E] && d < s[E + n.slidesPerGroup] && (O = E, T = s[E + n.slidesPerGroup] - s[E]) : d >= s[E] && (O = E, T = s[s.length - 1] - s[s.length - 2]);
                var P = (d - s[O]) / T;
                if (f > n.longSwipesMs) {
                    if (!n.longSwipes) return void e.slideTo(e.activeIndex);
                    "next" === e.swipeDirection && (P >= n.longSwipesRatio ? e.slideTo(O + n.slidesPerGroup) : e.slideTo(O)), "prev" === e.swipeDirection && (P > 1 - n.longSwipesRatio ? e.slideTo(O + n.slidesPerGroup) : e.slideTo(O))
                } else {
                    if (!n.shortSwipes) return void e.slideTo(e.activeIndex);
                    "next" === e.swipeDirection && e.slideTo(O + n.slidesPerGroup), "prev" === e.swipeDirection && e.slideTo(O)
                }
            }
        }

        function I() {
            var t = this.params, e = this.el;
            if (!e || 0 !== e.offsetWidth) {
                t.breakpoints && this.setBreakpoint();
                var i = this.allowSlideNext, n = this.allowSlidePrev, o = this.snapGrid;
                if (this.allowSlideNext = !0, this.allowSlidePrev = !0, this.updateSize(), this.updateSlides(), t.freeMode) {
                    var r = Math.min(Math.max(this.translate, this.maxTranslate()), this.minTranslate());
                    this.setTranslate(r), this.updateActiveIndex(), this.updateSlidesClasses(), t.autoHeight && this.updateAutoHeight()
                } else this.updateSlidesClasses(), ("auto" === t.slidesPerView || t.slidesPerView > 1) && this.isEnd && !this.params.centeredSlides ? this.slideTo(this.slides.length - 1, 0, !1, !0) : this.slideTo(this.activeIndex, 0, !1, !0);
                this.autoplay && this.autoplay.running && this.autoplay.paused && this.autoplay.run(), this.allowSlidePrev = n, this.allowSlideNext = i, this.params.watchOverflow && o !== this.snapGrid && this.checkOverflow()
            }
        }

        function S(t) {
            this.allowClick || (this.params.preventClicks && t.preventDefault(), this.params.preventClicksPropagation && this.animating && (t.stopPropagation(), t.stopImmediatePropagation()))
        }

        var O = {
                init: !0,
                direction: "horizontal",
                touchEventsTarget: "container",
                initialSlide: 0,
                speed: 300,
                preventInteractionOnTransition: !1,
                edgeSwipeDetection: !1,
                edgeSwipeThreshold: 20,
                freeMode: !1,
                freeModeMomentum: !0,
                freeModeMomentumRatio: 1,
                freeModeMomentumBounce: !0,
                freeModeMomentumBounceRatio: 1,
                freeModeMomentumVelocityRatio: 1,
                freeModeSticky: !1,
                freeModeMinimumVelocity: .02,
                autoHeight: !1,
                setWrapperSize: !1,
                virtualTranslate: !1,
                effect: "slide",
                breakpoints: void 0,
                breakpointsInverse: !1,
                spaceBetween: 0,
                slidesPerView: 1,
                slidesPerColumn: 1,
                slidesPerColumnFill: "column",
                slidesPerGroup: 1,
                centeredSlides: !1,
                slidesOffsetBefore: 0,
                slidesOffsetAfter: 0,
                normalizeSlideIndex: !0,
                centerInsufficientSlides: !1,
                watchOverflow: !1,
                roundLengths: !1,
                touchRatio: 1,
                touchAngle: 45,
                simulateTouch: !0,
                shortSwipes: !0,
                longSwipes: !0,
                longSwipesRatio: .5,
                longSwipesMs: 300,
                followFinger: !0,
                allowTouchMove: !0,
                threshold: 0,
                touchMoveStopPropagation: !0,
                touchStartPreventDefault: !0,
                touchStartForcePreventDefault: !1,
                touchReleaseOnEdges: !1,
                uniqueNavElements: !0,
                resistance: !0,
                resistanceRatio: .85,
                watchSlidesProgress: !1,
                watchSlidesVisibility: !1,
                grabCursor: !1,
                preventClicks: !0,
                preventClicksPropagation: !0,
                slideToClickedSlide: !1,
                preloadImages: !0,
                updateOnImagesReady: !0,
                loop: !1,
                loopAdditionalSlides: 0,
                loopedSlides: null,
                loopFillGroupWithBlank: !1,
                allowSlidePrev: !0,
                allowSlideNext: !0,
                swipeHandler: null,
                noSwiping: !0,
                noSwipingClass: "swiper-no-swiping",
                noSwipingSelector: null,
                passiveListeners: !0,
                containerModifierClass: "swiper-container-",
                slideClass: "swiper-slide",
                slideBlankClass: "swiper-slide-invisible-blank",
                slideActiveClass: "swiper-slide-active",
                slideDuplicateActiveClass: "swiper-slide-duplicate-active",
                slideVisibleClass: "swiper-slide-visible",
                slideDuplicateClass: "swiper-slide-duplicate",
                slideNextClass: "swiper-slide-next",
                slideDuplicateNextClass: "swiper-slide-duplicate-next",
                slidePrevClass: "swiper-slide-prev",
                slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
                wrapperClass: "swiper-wrapper",
                runCallbacksOnInit: !0
            }, T = {
                update: p, translate: m, transition: v, slide: g, loop: y, grabCursor: b, manipulation: _, events: {
                    attachEvents: function () {
                        var e = this.params, i = this.touchEvents, n = this.el, o = this.wrapperEl;
                        this.onTouchStart = C.bind(this), this.onTouchMove = x.bind(this), this.onTouchEnd = k.bind(this), this.onClick = S.bind(this);
                        var r = "container" === e.touchEventsTarget ? n : o, a = !!e.nested;
                        if (u.touch || !u.pointerEvents && !u.prefixedPointerEvents) {
                            if (u.touch) {
                                var s = !("touchstart" !== i.start || !u.passiveListener || !e.passiveListeners) && {
                                    passive: !0,
                                    capture: !1
                                };
                                r.addEventListener(i.start, this.onTouchStart, s), r.addEventListener(i.move, this.onTouchMove, u.passiveListener ? {
                                    passive: !1,
                                    capture: a
                                } : a), r.addEventListener(i.end, this.onTouchEnd, s)
                            }
                            (e.simulateTouch && !w.ios && !w.android || e.simulateTouch && !u.touch && w.ios) && (r.addEventListener("mousedown", this.onTouchStart, !1), t.addEventListener("mousemove", this.onTouchMove, a), t.addEventListener("mouseup", this.onTouchEnd, !1))
                        } else r.addEventListener(i.start, this.onTouchStart, !1), t.addEventListener(i.move, this.onTouchMove, a), t.addEventListener(i.end, this.onTouchEnd, !1);
                        (e.preventClicks || e.preventClicksPropagation) && r.addEventListener("click", this.onClick, !0), this.on(w.ios || w.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", I, !0)
                    }, detachEvents: function () {
                        var e = this.params, i = this.touchEvents, n = this.el, o = this.wrapperEl,
                            r = "container" === e.touchEventsTarget ? n : o, a = !!e.nested;
                        if (u.touch || !u.pointerEvents && !u.prefixedPointerEvents) {
                            if (u.touch) {
                                var s = !("onTouchStart" !== i.start || !u.passiveListener || !e.passiveListeners) && {
                                    passive: !0,
                                    capture: !1
                                };
                                r.removeEventListener(i.start, this.onTouchStart, s), r.removeEventListener(i.move, this.onTouchMove, a), r.removeEventListener(i.end, this.onTouchEnd, s)
                            }
                            (e.simulateTouch && !w.ios && !w.android || e.simulateTouch && !u.touch && w.ios) && (r.removeEventListener("mousedown", this.onTouchStart, !1), t.removeEventListener("mousemove", this.onTouchMove, a), t.removeEventListener("mouseup", this.onTouchEnd, !1))
                        } else r.removeEventListener(i.start, this.onTouchStart, !1), t.removeEventListener(i.move, this.onTouchMove, a), t.removeEventListener(i.end, this.onTouchEnd, !1);
                        (e.preventClicks || e.preventClicksPropagation) && r.removeEventListener("click", this.onClick, !0), this.off(w.ios || w.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", I)
                    }
                }, breakpoints: {
                    setBreakpoint: function () {
                        var t = this.activeIndex, e = this.initialized, i = this.loopedSlides;
                        void 0 === i && (i = 0);
                        var n = this.params, o = n.breakpoints;
                        if (o && (!o || 0 !== Object.keys(o).length)) {
                            var r = this.getBreakpoint(o);
                            if (r && this.currentBreakpoint !== r) {
                                var a = r in o ? o[r] : void 0;
                                a && ["slidesPerView", "spaceBetween", "slidesPerGroup"].forEach((function (t) {
                                    var e = a[t];
                                    void 0 !== e && (a[t] = "slidesPerView" !== t || "AUTO" !== e && "auto" !== e ? "slidesPerView" === t ? parseFloat(e) : parseInt(e, 10) : "auto")
                                }));
                                var s = a || this.originalParams, c = s.direction && s.direction !== n.direction,
                                    u = n.loop && (s.slidesPerView !== n.slidesPerView || c);
                                c && e && this.changeDirection(), l.extend(this.params, s), l.extend(this, {
                                    allowTouchMove: this.params.allowTouchMove,
                                    allowSlideNext: this.params.allowSlideNext,
                                    allowSlidePrev: this.params.allowSlidePrev
                                }), this.currentBreakpoint = r, u && e && (this.loopDestroy(), this.loopCreate(), this.updateSlides(), this.slideTo(t - i + this.loopedSlides, 0, !1)), this.emit("breakpoint", s)
                            }
                        }
                    }, getBreakpoint: function (t) {
                        if (t) {
                            var i = !1, n = [];
                            Object.keys(t).forEach((function (t) {
                                n.push(t)
                            })), n.sort((function (t, e) {
                                return parseInt(t, 10) - parseInt(e, 10)
                            }));
                            for (var o = 0; o < n.length; o += 1) {
                                var r = n[o];
                                this.params.breakpointsInverse ? r <= e.innerWidth && (i = r) : r >= e.innerWidth && !i && (i = r)
                            }
                            return i || "max"
                        }
                    }
                }, checkOverflow: {
                    checkOverflow: function () {
                        var t = this.isLocked;
                        this.isLocked = 1 === this.snapGrid.length, this.allowSlideNext = !this.isLocked, this.allowSlidePrev = !this.isLocked, t !== this.isLocked && this.emit(this.isLocked ? "lock" : "unlock"), t && t !== this.isLocked && (this.isEnd = !1, this.navigation.update())
                    }
                }, classes: {
                    addClasses: function () {
                        var t = this.classNames, e = this.params, i = this.rtl, n = this.$el, o = [];
                        o.push("initialized"), o.push(e.direction), e.freeMode && o.push("free-mode"), u.flexbox || o.push("no-flexbox"), e.autoHeight && o.push("autoheight"), i && o.push("rtl"), e.slidesPerColumn > 1 && o.push("multirow"), w.android && o.push("android"), w.ios && o.push("ios"), (d.isIE || d.isEdge) && (u.pointerEvents || u.prefixedPointerEvents) && o.push("wp8-" + e.direction), o.forEach((function (i) {
                            t.push(e.containerModifierClass + i)
                        })), n.addClass(t.join(" "))
                    }, removeClasses: function () {
                        var t = this.$el, e = this.classNames;
                        t.removeClass(e.join(" "))
                    }
                }, images: {
                    loadImage: function (t, i, n, o, r, a) {
                        var s;

                        function c() {
                            a && a()
                        }

                        t.complete && r ? c() : i ? ((s = new e.Image).onload = c, s.onerror = c, o && (s.sizes = o), n && (s.srcset = n), i && (s.src = i)) : c()
                    }, preloadImages: function () {
                        var t = this;

                        function e() {
                            null != t && t && !t.destroyed && (void 0 !== t.imagesLoaded && (t.imagesLoaded += 1), t.imagesLoaded === t.imagesToLoad.length && (t.params.updateOnImagesReady && t.update(), t.emit("imagesReady")))
                        }

                        t.imagesToLoad = t.$el.find("img");
                        for (var i = 0; i < t.imagesToLoad.length; i += 1) {
                            var n = t.imagesToLoad[i];
                            t.loadImage(n, n.currentSrc || n.getAttribute("src"), n.srcset || n.getAttribute("srcset"), n.sizes || n.getAttribute("sizes"), !0, e)
                        }
                    }
                }
            }, E = {}, P = function (t) {
                function e() {
                    for (var i, o, r, a = [], s = arguments.length; s--;) a[s] = arguments[s];
                    1 === a.length && a[0].constructor && a[0].constructor === Object ? r = a[0] : (o = (i = a)[0], r = i[1]), r || (r = {}), r = l.extend({}, r), o && !r.el && (r.el = o), t.call(this, r), Object.keys(T).forEach((function (t) {
                        Object.keys(T[t]).forEach((function (i) {
                            e.prototype[i] || (e.prototype[i] = T[t][i])
                        }))
                    }));
                    var c = this;
                    void 0 === c.modules && (c.modules = {}), Object.keys(c.modules).forEach((function (t) {
                        var e = c.modules[t];
                        if (e.params) {
                            var i = Object.keys(e.params)[0], n = e.params[i];
                            if ("object" != typeof n || null === n) return;
                            if (!(i in r) || !("enabled" in n)) return;
                            !0 === r[i] && (r[i] = {enabled: !0}), "object" != typeof r[i] || "enabled" in r[i] || (r[i].enabled = !0), r[i] || (r[i] = {enabled: !1})
                        }
                    }));
                    var d = l.extend({}, O);
                    c.useModulesParams(d), c.params = l.extend({}, d, E, r), c.originalParams = l.extend({}, c.params), c.passedParams = l.extend({}, r), c.$ = n;
                    var h = n(c.params.el);
                    if (o = h[0]) {
                        if (h.length > 1) {
                            var f = [];
                            return h.each((function (t, i) {
                                var n = l.extend({}, r, {el: i});
                                f.push(new e(n))
                            })), f
                        }
                        o.swiper = c, h.data("swiper", c);
                        var p, m, v = h.children("." + c.params.wrapperClass);
                        return l.extend(c, {
                            $el: h,
                            el: o,
                            $wrapperEl: v,
                            wrapperEl: v[0],
                            classNames: [],
                            slides: n(),
                            slidesGrid: [],
                            snapGrid: [],
                            slidesSizesGrid: [],
                            isHorizontal: function () {
                                return "horizontal" === c.params.direction
                            },
                            isVertical: function () {
                                return "vertical" === c.params.direction
                            },
                            rtl: "rtl" === o.dir.toLowerCase() || "rtl" === h.css("direction"),
                            rtlTranslate: "horizontal" === c.params.direction && ("rtl" === o.dir.toLowerCase() || "rtl" === h.css("direction")),
                            wrongRTL: "-webkit-box" === v.css("display"),
                            activeIndex: 0,
                            realIndex: 0,
                            isBeginning: !0,
                            isEnd: !1,
                            translate: 0,
                            previousTranslate: 0,
                            progress: 0,
                            velocity: 0,
                            animating: !1,
                            allowSlideNext: c.params.allowSlideNext,
                            allowSlidePrev: c.params.allowSlidePrev,
                            touchEvents: (p = ["touchstart", "touchmove", "touchend"], m = ["mousedown", "mousemove", "mouseup"], u.pointerEvents ? m = ["pointerdown", "pointermove", "pointerup"] : u.prefixedPointerEvents && (m = ["MSPointerDown", "MSPointerMove", "MSPointerUp"]), c.touchEventsTouch = {
                                start: p[0],
                                move: p[1],
                                end: p[2]
                            }, c.touchEventsDesktop = {
                                start: m[0],
                                move: m[1],
                                end: m[2]
                            }, u.touch || !c.params.simulateTouch ? c.touchEventsTouch : c.touchEventsDesktop),
                            touchEventsData: {
                                isTouched: void 0,
                                isMoved: void 0,
                                allowTouchCallbacks: void 0,
                                touchStartTime: void 0,
                                isScrolling: void 0,
                                currentTranslate: void 0,
                                startTranslate: void 0,
                                allowThresholdMove: void 0,
                                formElements: "input, select, option, textarea, button, video",
                                lastClickTime: l.now(),
                                clickTimeout: void 0,
                                velocities: [],
                                allowMomentumBounce: void 0,
                                isTouchEvent: void 0,
                                startMoving: void 0
                            },
                            allowClick: !0,
                            allowTouchMove: c.params.allowTouchMove,
                            touches: {startX: 0, startY: 0, currentX: 0, currentY: 0, diff: 0},
                            imagesToLoad: [],
                            imagesLoaded: 0
                        }), c.useModules(), c.params.init && c.init(), c
                    }
                }

                t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e;
                var i = {
                    extendedDefaults: {configurable: !0},
                    defaults: {configurable: !0},
                    Class: {configurable: !0},
                    $: {configurable: !0}
                };
                return e.prototype.slidesPerViewDynamic = function () {
                    var t = this.params, e = this.slides, i = this.slidesGrid, n = this.size, o = this.activeIndex, r = 1;
                    if (t.centeredSlides) {
                        for (var a, s = e[o].swiperSlideSize, c = o + 1; c < e.length; c += 1) e[c] && !a && (r += 1, (s += e[c].swiperSlideSize) > n && (a = !0));
                        for (var l = o - 1; l >= 0; l -= 1) e[l] && !a && (r += 1, (s += e[l].swiperSlideSize) > n && (a = !0))
                    } else for (var u = o + 1; u < e.length; u += 1) i[u] - i[o] < n && (r += 1);
                    return r
                }, e.prototype.update = function () {
                    var t = this;
                    if (t && !t.destroyed) {
                        var e = t.snapGrid, i = t.params;
                        i.breakpoints && t.setBreakpoint(), t.updateSize(), t.updateSlides(), t.updateProgress(), t.updateSlidesClasses(), t.params.freeMode ? (n(), t.params.autoHeight && t.updateAutoHeight()) : (("auto" === t.params.slidesPerView || t.params.slidesPerView > 1) && t.isEnd && !t.params.centeredSlides ? t.slideTo(t.slides.length - 1, 0, !1, !0) : t.slideTo(t.activeIndex, 0, !1, !0)) || n(), i.watchOverflow && e !== t.snapGrid && t.checkOverflow(), t.emit("update")
                    }

                    function n() {
                        var e = t.rtlTranslate ? -1 * t.translate : t.translate,
                            i = Math.min(Math.max(e, t.maxTranslate()), t.minTranslate());
                        t.setTranslate(i), t.updateActiveIndex(), t.updateSlidesClasses()
                    }
                }, e.prototype.changeDirection = function (t, e) {
                    void 0 === e && (e = !0);
                    var i = this.params.direction;
                    return t || (t = "horizontal" === i ? "vertical" : "horizontal"), t === i || "horizontal" !== t && "vertical" !== t || (this.$el.removeClass("" + this.params.containerModifierClass + i + " wp8-" + i).addClass("" + this.params.containerModifierClass + t), (d.isIE || d.isEdge) && (u.pointerEvents || u.prefixedPointerEvents) && this.$el.addClass(this.params.containerModifierClass + "wp8-" + t), this.params.direction = t, this.slides.each((function (e, i) {
                        "vertical" === t ? i.style.width = "" : i.style.height = ""
                    })), this.emit("changeDirection"), e && this.update()), this
                }, e.prototype.init = function () {
                    this.initialized || (this.emit("beforeInit"), this.params.breakpoints && this.setBreakpoint(), this.addClasses(), this.params.loop && this.loopCreate(), this.updateSize(), this.updateSlides(), this.params.watchOverflow && this.checkOverflow(), this.params.grabCursor && this.setGrabCursor(), this.params.preloadImages && this.preloadImages(), this.params.loop ? this.slideTo(this.params.initialSlide + this.loopedSlides, 0, this.params.runCallbacksOnInit) : this.slideTo(this.params.initialSlide, 0, this.params.runCallbacksOnInit), this.attachEvents(), this.initialized = !0, this.emit("init"))
                }, e.prototype.destroy = function (t, e) {
                    void 0 === t && (t = !0), void 0 === e && (e = !0);
                    var i = this, n = i.params, o = i.$el, r = i.$wrapperEl, a = i.slides;
                    return void 0 === i.params || i.destroyed || (i.emit("beforeDestroy"), i.initialized = !1, i.detachEvents(), n.loop && i.loopDestroy(), e && (i.removeClasses(), o.removeAttr("style"), r.removeAttr("style"), a && a.length && a.removeClass([n.slideVisibleClass, n.slideActiveClass, n.slideNextClass, n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")), i.emit("destroy"), Object.keys(i.eventsListeners).forEach((function (t) {
                        i.off(t)
                    })), !1 !== t && (i.$el[0].swiper = null, i.$el.data("swiper", null), l.deleteProps(i)), i.destroyed = !0), null
                }, e.extendDefaults = function (t) {
                    l.extend(E, t)
                }, i.extendedDefaults.get = function () {
                    return E
                }, i.defaults.get = function () {
                    return O
                }, i.Class.get = function () {
                    return t
                }, i.$.get = function () {
                    return n
                }, Object.defineProperties(e, i), e
            }(h), L = {name: "device", proto: {device: w}, static: {device: w}},
            j = {name: "support", proto: {support: u}, static: {support: u}},
            A = {name: "browser", proto: {browser: d}, static: {browser: d}}, M = {
                name: "resize", create: function () {
                    var t = this;
                    l.extend(t, {
                        resize: {
                            resizeHandler: function () {
                                t && !t.destroyed && t.initialized && (t.emit("beforeResize"), t.emit("resize"))
                            }, orientationChangeHandler: function () {
                                t && !t.destroyed && t.initialized && t.emit("orientationchange")
                            }
                        }
                    })
                }, on: {
                    init: function () {
                        e.addEventListener("resize", this.resize.resizeHandler), e.addEventListener("orientationchange", this.resize.orientationChangeHandler)
                    }, destroy: function () {
                        e.removeEventListener("resize", this.resize.resizeHandler), e.removeEventListener("orientationchange", this.resize.orientationChangeHandler)
                    }
                }
            }, D = {
                func: e.MutationObserver || e.WebkitMutationObserver, attach: function (t, i) {
                    void 0 === i && (i = {});
                    var n = this, o = new (0, D.func)((function (t) {
                        if (1 !== t.length) {
                            var i = function () {
                                n.emit("observerUpdate", t[0])
                            };
                            e.requestAnimationFrame ? e.requestAnimationFrame(i) : e.setTimeout(i, 0)
                        } else n.emit("observerUpdate", t[0])
                    }));
                    o.observe(t, {
                        attributes: void 0 === i.attributes || i.attributes,
                        childList: void 0 === i.childList || i.childList,
                        characterData: void 0 === i.characterData || i.characterData
                    }), n.observer.observers.push(o)
                }, init: function () {
                    if (u.observer && this.params.observer) {
                        if (this.params.observeParents) for (var t = this.$el.parents(), e = 0; e < t.length; e += 1) this.observer.attach(t[e]);
                        this.observer.attach(this.$el[0], {childList: this.params.observeSlideChildren}), this.observer.attach(this.$wrapperEl[0], {attributes: !1})
                    }
                }, destroy: function () {
                    this.observer.observers.forEach((function (t) {
                        t.disconnect()
                    })), this.observer.observers = []
                }
            }, B = {
                name: "observer",
                params: {observer: !1, observeParents: !1, observeSlideChildren: !1},
                create: function () {
                    l.extend(this, {
                        observer: {
                            init: D.init.bind(this),
                            attach: D.attach.bind(this),
                            destroy: D.destroy.bind(this),
                            observers: []
                        }
                    })
                },
                on: {
                    init: function () {
                        this.observer.init()
                    }, destroy: function () {
                        this.observer.destroy()
                    }
                }
            }, N = {
                update: function (t) {
                    var e = this, i = e.params, n = i.slidesPerView, o = i.slidesPerGroup, r = i.centeredSlides,
                        a = e.params.virtual, s = a.addSlidesBefore, c = a.addSlidesAfter, u = e.virtual, d = u.from,
                        h = u.to, f = u.slides, p = u.slidesGrid, m = u.renderSlide, v = u.offset;
                    e.updateActiveIndex();
                    var g, y, b, _ = e.activeIndex || 0;
                    g = e.rtlTranslate ? "right" : e.isHorizontal() ? "left" : "top", r ? (y = Math.floor(n / 2) + o + s, b = Math.floor(n / 2) + o + c) : (y = n + (o - 1) + s, b = o + c);
                    var w = Math.max((_ || 0) - b, 0), C = Math.min((_ || 0) + y, f.length - 1),
                        x = (e.slidesGrid[w] || 0) - (e.slidesGrid[0] || 0);

                    function k() {
                        e.updateSlides(), e.updateProgress(), e.updateSlidesClasses(), e.lazy && e.params.lazy.enabled && e.lazy.load()
                    }

                    if (l.extend(e.virtual, {
                        from: w,
                        to: C,
                        offset: x,
                        slidesGrid: e.slidesGrid
                    }), d === w && h === C && !t) return e.slidesGrid !== p && x !== v && e.slides.css(g, x + "px"), void e.updateProgress();
                    if (e.params.virtual.renderExternal) return e.params.virtual.renderExternal.call(e, {
                        offset: x,
                        from: w,
                        to: C,
                        slides: function () {
                            for (var t = [], e = w; e <= C; e += 1) t.push(f[e]);
                            return t
                        }()
                    }), void k();
                    var I = [], S = [];
                    if (t) e.$wrapperEl.find("." + e.params.slideClass).remove(); else for (var O = d; O <= h; O += 1) (O < w || O > C) && e.$wrapperEl.find("." + e.params.slideClass + '[data-swiper-slide-index="' + O + '"]').remove();
                    for (var T = 0; T < f.length; T += 1) T >= w && T <= C && (void 0 === h || t ? S.push(T) : (T > h && S.push(T), T < d && I.push(T)));
                    S.forEach((function (t) {
                        e.$wrapperEl.append(m(f[t], t))
                    })), I.sort((function (t, e) {
                        return e - t
                    })).forEach((function (t) {
                        e.$wrapperEl.prepend(m(f[t], t))
                    })), e.$wrapperEl.children(".swiper-slide").css(g, x + "px"), k()
                }, renderSlide: function (t, e) {
                    var i = this.params.virtual;
                    if (i.cache && this.virtual.cache[e]) return this.virtual.cache[e];
                    var o = i.renderSlide ? n(i.renderSlide.call(this, t, e)) : n('<div class="' + this.params.slideClass + '" data-swiper-slide-index="' + e + '">' + t + "</div>");
                    return o.attr("data-swiper-slide-index") || o.attr("data-swiper-slide-index", e), i.cache && (this.virtual.cache[e] = o), o
                }, appendSlide: function (t) {
                    if ("object" == typeof t && "length" in t) for (var e = 0; e < t.length; e += 1) t[e] && this.virtual.slides.push(t[e]); else this.virtual.slides.push(t);
                    this.virtual.update(!0)
                }, prependSlide: function (t) {
                    var e = this.activeIndex, i = e + 1, n = 1;
                    if (Array.isArray(t)) {
                        for (var o = 0; o < t.length; o += 1) t[o] && this.virtual.slides.unshift(t[o]);
                        i = e + t.length, n = t.length
                    } else this.virtual.slides.unshift(t);
                    if (this.params.virtual.cache) {
                        var r = this.virtual.cache, a = {};
                        Object.keys(r).forEach((function (t) {
                            a[parseInt(t, 10) + n] = r[t]
                        })), this.virtual.cache = a
                    }
                    this.virtual.update(!0), this.slideTo(i, 0)
                }, removeSlide: function (t) {
                    if (null != t) {
                        var e = this.activeIndex;
                        if (Array.isArray(t)) for (var i = t.length - 1; i >= 0; i -= 1) this.virtual.slides.splice(t[i], 1), this.params.virtual.cache && delete this.virtual.cache[t[i]], t[i] < e && (e -= 1), e = Math.max(e, 0); else this.virtual.slides.splice(t, 1), this.params.virtual.cache && delete this.virtual.cache[t], t < e && (e -= 1), e = Math.max(e, 0);
                        this.virtual.update(!0), this.slideTo(e, 0)
                    }
                }, removeAllSlides: function () {
                    this.virtual.slides = [], this.params.virtual.cache && (this.virtual.cache = {}), this.virtual.update(!0), this.slideTo(0, 0)
                }
            }, R = {
                name: "virtual",
                params: {
                    virtual: {
                        enabled: !1,
                        slides: [],
                        cache: !0,
                        renderSlide: null,
                        renderExternal: null,
                        addSlidesBefore: 0,
                        addSlidesAfter: 0
                    }
                },
                create: function () {
                    l.extend(this, {
                        virtual: {
                            update: N.update.bind(this),
                            appendSlide: N.appendSlide.bind(this),
                            prependSlide: N.prependSlide.bind(this),
                            removeSlide: N.removeSlide.bind(this),
                            removeAllSlides: N.removeAllSlides.bind(this),
                            renderSlide: N.renderSlide.bind(this),
                            slides: this.params.virtual.slides,
                            cache: {}
                        }
                    })
                },
                on: {
                    beforeInit: function () {
                        if (this.params.virtual.enabled) {
                            this.classNames.push(this.params.containerModifierClass + "virtual");
                            var t = {watchSlidesProgress: !0};
                            l.extend(this.params, t), l.extend(this.originalParams, t), this.params.initialSlide || this.virtual.update()
                        }
                    }, setTranslate: function () {
                        this.params.virtual.enabled && this.virtual.update()
                    }
                }
            }, $ = {
                handle: function (i) {
                    var n = this.rtlTranslate, o = i;
                    o.originalEvent && (o = o.originalEvent);
                    var r = o.keyCode || o.charCode;
                    if (!this.allowSlideNext && (this.isHorizontal() && 39 === r || this.isVertical() && 40 === r || 34 === r)) return !1;
                    if (!this.allowSlidePrev && (this.isHorizontal() && 37 === r || this.isVertical() && 38 === r || 33 === r)) return !1;
                    if (!(o.shiftKey || o.altKey || o.ctrlKey || o.metaKey || t.activeElement && t.activeElement.nodeName && ("input" === t.activeElement.nodeName.toLowerCase() || "textarea" === t.activeElement.nodeName.toLowerCase()))) {
                        if (this.params.keyboard.onlyInViewport && (33 === r || 34 === r || 37 === r || 39 === r || 38 === r || 40 === r)) {
                            var a = !1;
                            if (this.$el.parents("." + this.params.slideClass).length > 0 && 0 === this.$el.parents("." + this.params.slideActiveClass).length) return;
                            var s = e.innerWidth, c = e.innerHeight, l = this.$el.offset();
                            n && (l.left -= this.$el[0].scrollLeft);
                            for (var u = [[l.left, l.top], [l.left + this.width, l.top], [l.left, l.top + this.height], [l.left + this.width, l.top + this.height]], d = 0; d < u.length; d += 1) {
                                var h = u[d];
                                h[0] >= 0 && h[0] <= s && h[1] >= 0 && h[1] <= c && (a = !0)
                            }
                            if (!a) return
                        }
                        this.isHorizontal() ? (33 !== r && 34 !== r && 37 !== r && 39 !== r || (o.preventDefault ? o.preventDefault() : o.returnValue = !1), (34 !== r && 39 !== r || n) && (33 !== r && 37 !== r || !n) || this.slideNext(), (33 !== r && 37 !== r || n) && (34 !== r && 39 !== r || !n) || this.slidePrev()) : (33 !== r && 34 !== r && 38 !== r && 40 !== r || (o.preventDefault ? o.preventDefault() : o.returnValue = !1), 34 !== r && 40 !== r || this.slideNext(), 33 !== r && 38 !== r || this.slidePrev()), this.emit("keyPress", r)
                    }
                }, enable: function () {
                    this.keyboard.enabled || (n(t).on("keydown", this.keyboard.handle), this.keyboard.enabled = !0)
                }, disable: function () {
                    this.keyboard.enabled && (n(t).off("keydown", this.keyboard.handle), this.keyboard.enabled = !1)
                }
            }, H = {
                name: "keyboard", params: {keyboard: {enabled: !1, onlyInViewport: !0}}, create: function () {
                    l.extend(this, {
                        keyboard: {
                            enabled: !1,
                            enable: $.enable.bind(this),
                            disable: $.disable.bind(this),
                            handle: $.handle.bind(this)
                        }
                    })
                }, on: {
                    init: function () {
                        this.params.keyboard.enabled && this.keyboard.enable()
                    }, destroy: function () {
                        this.keyboard.enabled && this.keyboard.disable()
                    }
                }
            }, z = {
                lastScrollTime: l.now(),
                event: e.navigator.userAgent.indexOf("firefox") > -1 ? "DOMMouseScroll" : function () {
                    var e = "onwheel" in t;
                    if (!e) {
                        var i = t.createElement("div");
                        i.setAttribute("onwheel", "return;"), e = "function" == typeof i.onwheel
                    }
                    return !e && t.implementation && t.implementation.hasFeature && !0 !== t.implementation.hasFeature("", "") && (e = t.implementation.hasFeature("Events.wheel", "3.0")), e
                }() ? "wheel" : "mousewheel",
                normalize: function (t) {
                    var e = 0, i = 0, n = 0, o = 0;
                    return "detail" in t && (i = t.detail), "wheelDelta" in t && (i = -t.wheelDelta / 120), "wheelDeltaY" in t && (i = -t.wheelDeltaY / 120), "wheelDeltaX" in t && (e = -t.wheelDeltaX / 120), "axis" in t && t.axis === t.HORIZONTAL_AXIS && (e = i, i = 0), n = 10 * e, o = 10 * i, "deltaY" in t && (o = t.deltaY), "deltaX" in t && (n = t.deltaX), (n || o) && t.deltaMode && (1 === t.deltaMode ? (n *= 40, o *= 40) : (n *= 800, o *= 800)), n && !e && (e = n < 1 ? -1 : 1), o && !i && (i = o < 1 ? -1 : 1), {
                        spinX: e,
                        spinY: i,
                        pixelX: n,
                        pixelY: o
                    }
                },
                handleMouseEnter: function () {
                    this.mouseEntered = !0
                },
                handleMouseLeave: function () {
                    this.mouseEntered = !1
                },
                handle: function (t) {
                    var i = t, n = this, o = n.params.mousewheel;
                    if (!n.mouseEntered && !o.releaseOnEdges) return !0;
                    i.originalEvent && (i = i.originalEvent);
                    var r = 0, a = n.rtlTranslate ? -1 : 1, s = z.normalize(i);
                    if (o.forceToAxis) if (n.isHorizontal()) {
                        if (!(Math.abs(s.pixelX) > Math.abs(s.pixelY))) return !0;
                        r = s.pixelX * a
                    } else {
                        if (!(Math.abs(s.pixelY) > Math.abs(s.pixelX))) return !0;
                        r = s.pixelY
                    } else r = Math.abs(s.pixelX) > Math.abs(s.pixelY) ? -s.pixelX * a : -s.pixelY;
                    if (0 === r) return !0;
                    if (o.invert && (r = -r), n.params.freeMode) {
                        n.params.loop && n.loopFix();
                        var c = n.getTranslate() + r * o.sensitivity, u = n.isBeginning, d = n.isEnd;
                        if (c >= n.minTranslate() && (c = n.minTranslate()), c <= n.maxTranslate() && (c = n.maxTranslate()), n.setTransition(0), n.setTranslate(c), n.updateProgress(), n.updateActiveIndex(), n.updateSlidesClasses(), (!u && n.isBeginning || !d && n.isEnd) && n.updateSlidesClasses(), n.params.freeModeSticky && (clearTimeout(n.mousewheel.timeout), n.mousewheel.timeout = l.nextTick((function () {
                            n.slideToClosest()
                        }), 300)), n.emit("scroll", i), n.params.autoplay && n.params.autoplayDisableOnInteraction && n.autoplay.stop(), c === n.minTranslate() || c === n.maxTranslate()) return !0
                    } else {
                        if (l.now() - n.mousewheel.lastScrollTime > 60) if (r < 0) if (n.isEnd && !n.params.loop || n.animating) {
                            if (o.releaseOnEdges) return !0
                        } else n.slideNext(), n.emit("scroll", i); else if (n.isBeginning && !n.params.loop || n.animating) {
                            if (o.releaseOnEdges) return !0
                        } else n.slidePrev(), n.emit("scroll", i);
                        n.mousewheel.lastScrollTime = (new e.Date).getTime()
                    }
                    return i.preventDefault ? i.preventDefault() : i.returnValue = !1, !1
                },
                enable: function () {
                    if (!z.event) return !1;
                    if (this.mousewheel.enabled) return !1;
                    var t = this.$el;
                    return "container" !== this.params.mousewheel.eventsTarged && (t = n(this.params.mousewheel.eventsTarged)), t.on("mouseenter", this.mousewheel.handleMouseEnter), t.on("mouseleave", this.mousewheel.handleMouseLeave), t.on(z.event, this.mousewheel.handle), this.mousewheel.enabled = !0, !0
                },
                disable: function () {
                    if (!z.event) return !1;
                    if (!this.mousewheel.enabled) return !1;
                    var t = this.$el;
                    return "container" !== this.params.mousewheel.eventsTarged && (t = n(this.params.mousewheel.eventsTarged)), t.off(z.event, this.mousewheel.handle), this.mousewheel.enabled = !1, !0
                }
            }, U = {
                update: function () {
                    var t = this.params.navigation;
                    if (!this.params.loop) {
                        var e = this.navigation, i = e.$nextEl, n = e.$prevEl;
                        n && n.length > 0 && (this.isBeginning ? n.addClass(t.disabledClass) : n.removeClass(t.disabledClass), n[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](t.lockClass)), i && i.length > 0 && (this.isEnd ? i.addClass(t.disabledClass) : i.removeClass(t.disabledClass), i[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](t.lockClass))
                    }
                }, onPrevClick: function (t) {
                    t.preventDefault(), this.isBeginning && !this.params.loop || this.slidePrev()
                }, onNextClick: function (t) {
                    t.preventDefault(), this.isEnd && !this.params.loop || this.slideNext()
                }, init: function () {
                    var t, e, i = this.params.navigation;
                    (i.nextEl || i.prevEl) && (i.nextEl && (t = n(i.nextEl), this.params.uniqueNavElements && "string" == typeof i.nextEl && t.length > 1 && 1 === this.$el.find(i.nextEl).length && (t = this.$el.find(i.nextEl))), i.prevEl && (e = n(i.prevEl), this.params.uniqueNavElements && "string" == typeof i.prevEl && e.length > 1 && 1 === this.$el.find(i.prevEl).length && (e = this.$el.find(i.prevEl))), t && t.length > 0 && t.on("click", this.navigation.onNextClick), e && e.length > 0 && e.on("click", this.navigation.onPrevClick), l.extend(this.navigation, {
                        $nextEl: t,
                        nextEl: t && t[0],
                        $prevEl: e,
                        prevEl: e && e[0]
                    }))
                }, destroy: function () {
                    var t = this.navigation, e = t.$nextEl, i = t.$prevEl;
                    e && e.length && (e.off("click", this.navigation.onNextClick), e.removeClass(this.params.navigation.disabledClass)), i && i.length && (i.off("click", this.navigation.onPrevClick), i.removeClass(this.params.navigation.disabledClass))
                }
            }, F = {
                update: function () {
                    var t = this.rtl, e = this.params.pagination;
                    if (e.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {
                        var i,
                            o = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length : this.slides.length,
                            r = this.pagination.$el,
                            a = this.params.loop ? Math.ceil((o - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length;
                        if (this.params.loop ? ((i = Math.ceil((this.activeIndex - this.loopedSlides) / this.params.slidesPerGroup)) > o - 1 - 2 * this.loopedSlides && (i -= o - 2 * this.loopedSlides), i > a - 1 && (i -= a), i < 0 && "bullets" !== this.params.paginationType && (i = a + i)) : i = void 0 !== this.snapIndex ? this.snapIndex : this.activeIndex || 0, "bullets" === e.type && this.pagination.bullets && this.pagination.bullets.length > 0) {
                            var s, c, l, u = this.pagination.bullets;
                            if (e.dynamicBullets && (this.pagination.bulletSize = u.eq(0)[this.isHorizontal() ? "outerWidth" : "outerHeight"](!0), r.css(this.isHorizontal() ? "width" : "height", this.pagination.bulletSize * (e.dynamicMainBullets + 4) + "px"), e.dynamicMainBullets > 1 && void 0 !== this.previousIndex && (this.pagination.dynamicBulletIndex += i - this.previousIndex, this.pagination.dynamicBulletIndex > e.dynamicMainBullets - 1 ? this.pagination.dynamicBulletIndex = e.dynamicMainBullets - 1 : this.pagination.dynamicBulletIndex < 0 && (this.pagination.dynamicBulletIndex = 0)), s = i - this.pagination.dynamicBulletIndex, l = ((c = s + (Math.min(u.length, e.dynamicMainBullets) - 1)) + s) / 2), u.removeClass(e.bulletActiveClass + " " + e.bulletActiveClass + "-next " + e.bulletActiveClass + "-next-next " + e.bulletActiveClass + "-prev " + e.bulletActiveClass + "-prev-prev " + e.bulletActiveClass + "-main"), r.length > 1) u.each((function (t, o) {
                                var r = n(o), a = r.index();
                                a === i && r.addClass(e.bulletActiveClass), e.dynamicBullets && (a >= s && a <= c && r.addClass(e.bulletActiveClass + "-main"), a === s && r.prev().addClass(e.bulletActiveClass + "-prev").prev().addClass(e.bulletActiveClass + "-prev-prev"), a === c && r.next().addClass(e.bulletActiveClass + "-next").next().addClass(e.bulletActiveClass + "-next-next"))
                            })); else if (u.eq(i).addClass(e.bulletActiveClass), e.dynamicBullets) {
                                for (var d = u.eq(s), h = u.eq(c), f = s; f <= c; f += 1) u.eq(f).addClass(e.bulletActiveClass + "-main");
                                d.prev().addClass(e.bulletActiveClass + "-prev").prev().addClass(e.bulletActiveClass + "-prev-prev"), h.next().addClass(e.bulletActiveClass + "-next").next().addClass(e.bulletActiveClass + "-next-next")
                            }
                            if (e.dynamicBullets) {
                                var p = Math.min(u.length, e.dynamicMainBullets + 4),
                                    m = (this.pagination.bulletSize * p - this.pagination.bulletSize) / 2 - l * this.pagination.bulletSize,
                                    v = t ? "right" : "left";
                                u.css(this.isHorizontal() ? v : "top", m + "px")
                            }
                        }
                        if ("fraction" === e.type && (r.find("." + e.currentClass).text(e.formatFractionCurrent(i + 1)), r.find("." + e.totalClass).text(e.formatFractionTotal(a))), "progressbar" === e.type) {
                            var g;
                            g = e.progressbarOpposite ? this.isHorizontal() ? "vertical" : "horizontal" : this.isHorizontal() ? "horizontal" : "vertical";
                            var y = (i + 1) / a, b = 1, _ = 1;
                            "horizontal" === g ? b = y : _ = y, r.find("." + e.progressbarFillClass).transform("translate3d(0,0,0) scaleX(" + b + ") scaleY(" + _ + ")").transition(this.params.speed)
                        }
                        "custom" === e.type && e.renderCustom ? (r.html(e.renderCustom(this, i + 1, a)), this.emit("paginationRender", this, r[0])) : this.emit("paginationUpdate", this, r[0]), r[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](e.lockClass)
                    }
                }, render: function () {
                    var t = this.params.pagination;
                    if (t.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {
                        var e = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length : this.slides.length,
                            i = this.pagination.$el, n = "";
                        if ("bullets" === t.type) {
                            for (var o = this.params.loop ? Math.ceil((e - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length, r = 0; r < o; r += 1) t.renderBullet ? n += t.renderBullet.call(this, r, t.bulletClass) : n += "<" + t.bulletElement + ' class="' + t.bulletClass + '"></' + t.bulletElement + ">";
                            i.html(n), this.pagination.bullets = i.find("." + t.bulletClass)
                        }
                        "fraction" === t.type && (n = t.renderFraction ? t.renderFraction.call(this, t.currentClass, t.totalClass) : '<span class="' + t.currentClass + '"></span> / <span class="' + t.totalClass + '"></span>', i.html(n)), "progressbar" === t.type && (n = t.renderProgressbar ? t.renderProgressbar.call(this, t.progressbarFillClass) : '<span class="' + t.progressbarFillClass + '"></span>', i.html(n)), "custom" !== t.type && this.emit("paginationRender", this.pagination.$el[0])
                    }
                }, init: function () {
                    var t = this, e = t.params.pagination;
                    if (e.el) {
                        var i = n(e.el);
                        0 !== i.length && (t.params.uniqueNavElements && "string" == typeof e.el && i.length > 1 && 1 === t.$el.find(e.el).length && (i = t.$el.find(e.el)), "bullets" === e.type && e.clickable && i.addClass(e.clickableClass), i.addClass(e.modifierClass + e.type), "bullets" === e.type && e.dynamicBullets && (i.addClass("" + e.modifierClass + e.type + "-dynamic"), t.pagination.dynamicBulletIndex = 0, e.dynamicMainBullets < 1 && (e.dynamicMainBullets = 1)), "progressbar" === e.type && e.progressbarOpposite && i.addClass(e.progressbarOppositeClass), e.clickable && i.on("click", "." + e.bulletClass, (function (e) {
                            e.preventDefault();
                            var i = n(this).index() * t.params.slidesPerGroup;
                            t.params.loop && (i += t.loopedSlides), t.slideTo(i)
                        })), l.extend(t.pagination, {$el: i, el: i[0]}))
                    }
                }, destroy: function () {
                    var t = this.params.pagination;
                    if (t.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {
                        var e = this.pagination.$el;
                        e.removeClass(t.hiddenClass), e.removeClass(t.modifierClass + t.type), this.pagination.bullets && this.pagination.bullets.removeClass(t.bulletActiveClass), t.clickable && e.off("click", "." + t.bulletClass)
                    }
                }
            }, V = {
                setTranslate: function () {
                    if (this.params.scrollbar.el && this.scrollbar.el) {
                        var t = this.scrollbar, e = this.rtlTranslate, i = this.progress, n = t.dragSize, o = t.trackSize,
                            r = t.$dragEl, a = t.$el, s = this.params.scrollbar, c = n, l = (o - n) * i;
                        e ? (l = -l) > 0 ? (c = n - l, l = 0) : -l + n > o && (c = o + l) : l < 0 ? (c = n + l, l = 0) : l + n > o && (c = o - l), this.isHorizontal() ? (u.transforms3d ? r.transform("translate3d(" + l + "px, 0, 0)") : r.transform("translateX(" + l + "px)"), r[0].style.width = c + "px") : (u.transforms3d ? r.transform("translate3d(0px, " + l + "px, 0)") : r.transform("translateY(" + l + "px)"), r[0].style.height = c + "px"), s.hide && (clearTimeout(this.scrollbar.timeout), a[0].style.opacity = 1, this.scrollbar.timeout = setTimeout((function () {
                            a[0].style.opacity = 0, a.transition(400)
                        }), 1e3))
                    }
                }, setTransition: function (t) {
                    this.params.scrollbar.el && this.scrollbar.el && this.scrollbar.$dragEl.transition(t)
                }, updateSize: function () {
                    if (this.params.scrollbar.el && this.scrollbar.el) {
                        var t = this.scrollbar, e = t.$dragEl, i = t.$el;
                        e[0].style.width = "", e[0].style.height = "";
                        var n, o = this.isHorizontal() ? i[0].offsetWidth : i[0].offsetHeight,
                            r = this.size / this.virtualSize, a = r * (o / this.size);
                        n = "auto" === this.params.scrollbar.dragSize ? o * r : parseInt(this.params.scrollbar.dragSize, 10), this.isHorizontal() ? e[0].style.width = n + "px" : e[0].style.height = n + "px", i[0].style.display = r >= 1 ? "none" : "", this.params.scrollbar.hide && (i[0].style.opacity = 0), l.extend(t, {
                            trackSize: o,
                            divider: r,
                            moveDivider: a,
                            dragSize: n
                        }), t.$el[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](this.params.scrollbar.lockClass)
                    }
                }, getPointerPosition: function (t) {
                    return this.isHorizontal() ? "touchstart" === t.type || "touchmove" === t.type ? t.targetTouches[0].pageX : t.pageX || t.clientX : "touchstart" === t.type || "touchmove" === t.type ? t.targetTouches[0].pageY : t.pageY || t.clientY
                }, setDragPosition: function (t) {
                    var e, i = this.scrollbar, n = this.rtlTranslate, o = i.$el, r = i.dragSize, a = i.trackSize,
                        s = i.dragStartPos;
                    e = (i.getPointerPosition(t) - o.offset()[this.isHorizontal() ? "left" : "top"] - (null !== s ? s : r / 2)) / (a - r), e = Math.max(Math.min(e, 1), 0), n && (e = 1 - e);
                    var c = this.minTranslate() + (this.maxTranslate() - this.minTranslate()) * e;
                    this.updateProgress(c), this.setTranslate(c), this.updateActiveIndex(), this.updateSlidesClasses()
                }, onDragStart: function (t) {
                    var e = this.params.scrollbar, i = this.scrollbar, n = this.$wrapperEl, o = i.$el, r = i.$dragEl;
                    this.scrollbar.isTouched = !0, this.scrollbar.dragStartPos = t.target === r[0] || t.target === r ? i.getPointerPosition(t) - t.target.getBoundingClientRect()[this.isHorizontal() ? "left" : "top"] : null, t.preventDefault(), t.stopPropagation(), n.transition(100), r.transition(100), i.setDragPosition(t), clearTimeout(this.scrollbar.dragTimeout), o.transition(0), e.hide && o.css("opacity", 1), this.emit("scrollbarDragStart", t)
                }, onDragMove: function (t) {
                    var e = this.scrollbar, i = this.$wrapperEl, n = e.$el, o = e.$dragEl;
                    this.scrollbar.isTouched && (t.preventDefault ? t.preventDefault() : t.returnValue = !1, e.setDragPosition(t), i.transition(0), n.transition(0), o.transition(0), this.emit("scrollbarDragMove", t))
                }, onDragEnd: function (t) {
                    var e = this.params.scrollbar, i = this.scrollbar.$el;
                    this.scrollbar.isTouched && (this.scrollbar.isTouched = !1, e.hide && (clearTimeout(this.scrollbar.dragTimeout), this.scrollbar.dragTimeout = l.nextTick((function () {
                        i.css("opacity", 0), i.transition(400)
                    }), 1e3)), this.emit("scrollbarDragEnd", t), e.snapOnRelease && this.slideToClosest())
                }, enableDraggable: function () {
                    if (this.params.scrollbar.el) {
                        var e = this.scrollbar, i = this.touchEventsTouch, n = this.touchEventsDesktop, o = this.params,
                            r = e.$el[0], a = !(!u.passiveListener || !o.passiveListeners) && {passive: !1, capture: !1},
                            s = !(!u.passiveListener || !o.passiveListeners) && {passive: !0, capture: !1};
                        u.touch ? (r.addEventListener(i.start, this.scrollbar.onDragStart, a), r.addEventListener(i.move, this.scrollbar.onDragMove, a), r.addEventListener(i.end, this.scrollbar.onDragEnd, s)) : (r.addEventListener(n.start, this.scrollbar.onDragStart, a), t.addEventListener(n.move, this.scrollbar.onDragMove, a), t.addEventListener(n.end, this.scrollbar.onDragEnd, s))
                    }
                }, disableDraggable: function () {
                    if (this.params.scrollbar.el) {
                        var e = this.scrollbar, i = this.touchEventsTouch, n = this.touchEventsDesktop, o = this.params,
                            r = e.$el[0], a = !(!u.passiveListener || !o.passiveListeners) && {passive: !1, capture: !1},
                            s = !(!u.passiveListener || !o.passiveListeners) && {passive: !0, capture: !1};
                        u.touch ? (r.removeEventListener(i.start, this.scrollbar.onDragStart, a), r.removeEventListener(i.move, this.scrollbar.onDragMove, a), r.removeEventListener(i.end, this.scrollbar.onDragEnd, s)) : (r.removeEventListener(n.start, this.scrollbar.onDragStart, a), t.removeEventListener(n.move, this.scrollbar.onDragMove, a), t.removeEventListener(n.end, this.scrollbar.onDragEnd, s))
                    }
                }, init: function () {
                    if (this.params.scrollbar.el) {
                        var t = this.scrollbar, e = this.$el, i = this.params.scrollbar, o = n(i.el);
                        this.params.uniqueNavElements && "string" == typeof i.el && o.length > 1 && 1 === e.find(i.el).length && (o = e.find(i.el));
                        var r = o.find("." + this.params.scrollbar.dragClass);
                        0 === r.length && (r = n('<div class="' + this.params.scrollbar.dragClass + '"></div>'), o.append(r)), l.extend(t, {
                            $el: o,
                            el: o[0],
                            $dragEl: r,
                            dragEl: r[0]
                        }), i.draggable && t.enableDraggable()
                    }
                }, destroy: function () {
                    this.scrollbar.disableDraggable()
                }
            }, G = {
                setTransform: function (t, e) {
                    var i = this.rtl, o = n(t), r = i ? -1 : 1, a = o.attr("data-swiper-parallax") || "0",
                        s = o.attr("data-swiper-parallax-x"), c = o.attr("data-swiper-parallax-y"),
                        l = o.attr("data-swiper-parallax-scale"), u = o.attr("data-swiper-parallax-opacity");
                    if (s || c ? (s = s || "0", c = c || "0") : this.isHorizontal() ? (s = a, c = "0") : (c = a, s = "0"), s = s.indexOf("%") >= 0 ? parseInt(s, 10) * e * r + "%" : s * e * r + "px", c = c.indexOf("%") >= 0 ? parseInt(c, 10) * e + "%" : c * e + "px", null != u) {
                        var d = u - (u - 1) * (1 - Math.abs(e));
                        o[0].style.opacity = d
                    }
                    if (null == l) o.transform("translate3d(" + s + ", " + c + ", 0px)"); else {
                        var h = l - (l - 1) * (1 - Math.abs(e));
                        o.transform("translate3d(" + s + ", " + c + ", 0px) scale(" + h + ")")
                    }
                }, setTranslate: function () {
                    var t = this, e = t.$el, i = t.slides, o = t.progress, r = t.snapGrid;
                    e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function (e, i) {
                        t.parallax.setTransform(i, o)
                    })), i.each((function (e, i) {
                        var a = i.progress;
                        t.params.slidesPerGroup > 1 && "auto" !== t.params.slidesPerView && (a += Math.ceil(e / 2) - o * (r.length - 1)), a = Math.min(Math.max(a, -1), 1), n(i).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function (e, i) {
                            t.parallax.setTransform(i, a)
                        }))
                    }))
                }, setTransition: function (t) {
                    void 0 === t && (t = this.params.speed), this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function (e, i) {
                        var o = n(i), r = parseInt(o.attr("data-swiper-parallax-duration"), 10) || t;
                        0 === t && (r = 0), o.transition(r)
                    }))
                }
            }, W = {
                getDistanceBetweenTouches: function (t) {
                    if (t.targetTouches.length < 2) return 1;
                    var e = t.targetTouches[0].pageX, i = t.targetTouches[0].pageY, n = t.targetTouches[1].pageX,
                        o = t.targetTouches[1].pageY;
                    return Math.sqrt(Math.pow(n - e, 2) + Math.pow(o - i, 2))
                }, onGestureStart: function (t) {
                    var e = this.params.zoom, i = this.zoom, o = i.gesture;
                    if (i.fakeGestureTouched = !1, i.fakeGestureMoved = !1, !u.gestures) {
                        if ("touchstart" !== t.type || "touchstart" === t.type && t.targetTouches.length < 2) return;
                        i.fakeGestureTouched = !0, o.scaleStart = W.getDistanceBetweenTouches(t)
                    }
                    o.$slideEl && o.$slideEl.length || (o.$slideEl = n(t.target).closest(".swiper-slide"), 0 === o.$slideEl.length && (o.$slideEl = this.slides.eq(this.activeIndex)), o.$imageEl = o.$slideEl.find("img, svg, canvas"), o.$imageWrapEl = o.$imageEl.parent("." + e.containerClass), o.maxRatio = o.$imageWrapEl.attr("data-swiper-zoom") || e.maxRatio, 0 !== o.$imageWrapEl.length) ? (o.$imageEl.transition(0), this.zoom.isScaling = !0) : o.$imageEl = void 0
                }, onGestureChange: function (t) {
                    var e = this.params.zoom, i = this.zoom, n = i.gesture;
                    if (!u.gestures) {
                        if ("touchmove" !== t.type || "touchmove" === t.type && t.targetTouches.length < 2) return;
                        i.fakeGestureMoved = !0, n.scaleMove = W.getDistanceBetweenTouches(t)
                    }
                    n.$imageEl && 0 !== n.$imageEl.length && (i.scale = u.gestures ? t.scale * i.currentScale : n.scaleMove / n.scaleStart * i.currentScale, i.scale > n.maxRatio && (i.scale = n.maxRatio - 1 + Math.pow(i.scale - n.maxRatio + 1, .5)), i.scale < e.minRatio && (i.scale = e.minRatio + 1 - Math.pow(e.minRatio - i.scale + 1, .5)), n.$imageEl.transform("translate3d(0,0,0) scale(" + i.scale + ")"))
                }, onGestureEnd: function (t) {
                    var e = this.params.zoom, i = this.zoom, n = i.gesture;
                    if (!u.gestures) {
                        if (!i.fakeGestureTouched || !i.fakeGestureMoved) return;
                        if ("touchend" !== t.type || "touchend" === t.type && t.changedTouches.length < 2 && !w.android) return;
                        i.fakeGestureTouched = !1, i.fakeGestureMoved = !1
                    }
                    n.$imageEl && 0 !== n.$imageEl.length && (i.scale = Math.max(Math.min(i.scale, n.maxRatio), e.minRatio), n.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale(" + i.scale + ")"), i.currentScale = i.scale, i.isScaling = !1, 1 === i.scale && (n.$slideEl = void 0))
                }, onTouchStart: function (t) {
                    var e = this.zoom, i = e.gesture, n = e.image;
                    i.$imageEl && 0 !== i.$imageEl.length && (n.isTouched || (w.android && t.preventDefault(), n.isTouched = !0, n.touchesStart.x = "touchstart" === t.type ? t.targetTouches[0].pageX : t.pageX, n.touchesStart.y = "touchstart" === t.type ? t.targetTouches[0].pageY : t.pageY))
                }, onTouchMove: function (t) {
                    var e = this.zoom, i = e.gesture, n = e.image, o = e.velocity;
                    if (i.$imageEl && 0 !== i.$imageEl.length && (this.allowClick = !1, n.isTouched && i.$slideEl)) {
                        n.isMoved || (n.width = i.$imageEl[0].offsetWidth, n.height = i.$imageEl[0].offsetHeight, n.startX = l.getTranslate(i.$imageWrapEl[0], "x") || 0, n.startY = l.getTranslate(i.$imageWrapEl[0], "y") || 0, i.slideWidth = i.$slideEl[0].offsetWidth, i.slideHeight = i.$slideEl[0].offsetHeight, i.$imageWrapEl.transition(0), this.rtl && (n.startX = -n.startX, n.startY = -n.startY));
                        var r = n.width * e.scale, a = n.height * e.scale;
                        if (!(r < i.slideWidth && a < i.slideHeight)) {
                            if (n.minX = Math.min(i.slideWidth / 2 - r / 2, 0), n.maxX = -n.minX, n.minY = Math.min(i.slideHeight / 2 - a / 2, 0), n.maxY = -n.minY, n.touchesCurrent.x = "touchmove" === t.type ? t.targetTouches[0].pageX : t.pageX, n.touchesCurrent.y = "touchmove" === t.type ? t.targetTouches[0].pageY : t.pageY, !n.isMoved && !e.isScaling) {
                                if (this.isHorizontal() && (Math.floor(n.minX) === Math.floor(n.startX) && n.touchesCurrent.x < n.touchesStart.x || Math.floor(n.maxX) === Math.floor(n.startX) && n.touchesCurrent.x > n.touchesStart.x)) return void (n.isTouched = !1);
                                if (!this.isHorizontal() && (Math.floor(n.minY) === Math.floor(n.startY) && n.touchesCurrent.y < n.touchesStart.y || Math.floor(n.maxY) === Math.floor(n.startY) && n.touchesCurrent.y > n.touchesStart.y)) return void (n.isTouched = !1)
                            }
                            t.preventDefault(), t.stopPropagation(), n.isMoved = !0, n.currentX = n.touchesCurrent.x - n.touchesStart.x + n.startX, n.currentY = n.touchesCurrent.y - n.touchesStart.y + n.startY, n.currentX < n.minX && (n.currentX = n.minX + 1 - Math.pow(n.minX - n.currentX + 1, .8)), n.currentX > n.maxX && (n.currentX = n.maxX - 1 + Math.pow(n.currentX - n.maxX + 1, .8)), n.currentY < n.minY && (n.currentY = n.minY + 1 - Math.pow(n.minY - n.currentY + 1, .8)), n.currentY > n.maxY && (n.currentY = n.maxY - 1 + Math.pow(n.currentY - n.maxY + 1, .8)), o.prevPositionX || (o.prevPositionX = n.touchesCurrent.x), o.prevPositionY || (o.prevPositionY = n.touchesCurrent.y), o.prevTime || (o.prevTime = Date.now()), o.x = (n.touchesCurrent.x - o.prevPositionX) / (Date.now() - o.prevTime) / 2, o.y = (n.touchesCurrent.y - o.prevPositionY) / (Date.now() - o.prevTime) / 2, Math.abs(n.touchesCurrent.x - o.prevPositionX) < 2 && (o.x = 0), Math.abs(n.touchesCurrent.y - o.prevPositionY) < 2 && (o.y = 0), o.prevPositionX = n.touchesCurrent.x, o.prevPositionY = n.touchesCurrent.y, o.prevTime = Date.now(), i.$imageWrapEl.transform("translate3d(" + n.currentX + "px, " + n.currentY + "px,0)")
                        }
                    }
                }, onTouchEnd: function () {
                    var t = this.zoom, e = t.gesture, i = t.image, n = t.velocity;
                    if (e.$imageEl && 0 !== e.$imageEl.length) {
                        if (!i.isTouched || !i.isMoved) return i.isTouched = !1, void (i.isMoved = !1);
                        i.isTouched = !1, i.isMoved = !1;
                        var o = 300, r = 300, a = n.x * o, s = i.currentX + a, c = n.y * r, l = i.currentY + c;
                        0 !== n.x && (o = Math.abs((s - i.currentX) / n.x)), 0 !== n.y && (r = Math.abs((l - i.currentY) / n.y));
                        var u = Math.max(o, r);
                        i.currentX = s, i.currentY = l;
                        var d = i.width * t.scale, h = i.height * t.scale;
                        i.minX = Math.min(e.slideWidth / 2 - d / 2, 0), i.maxX = -i.minX, i.minY = Math.min(e.slideHeight / 2 - h / 2, 0), i.maxY = -i.minY, i.currentX = Math.max(Math.min(i.currentX, i.maxX), i.minX), i.currentY = Math.max(Math.min(i.currentY, i.maxY), i.minY), e.$imageWrapEl.transition(u).transform("translate3d(" + i.currentX + "px, " + i.currentY + "px,0)")
                    }
                }, onTransitionEnd: function () {
                    var t = this.zoom, e = t.gesture;
                    e.$slideEl && this.previousIndex !== this.activeIndex && (e.$imageEl.transform("translate3d(0,0,0) scale(1)"), e.$imageWrapEl.transform("translate3d(0,0,0)"), t.scale = 1, t.currentScale = 1, e.$slideEl = void 0, e.$imageEl = void 0, e.$imageWrapEl = void 0)
                }, toggle: function (t) {
                    var e = this.zoom;
                    e.scale && 1 !== e.scale ? e.out() : e.in(t)
                }, in: function (t) {
                    var e, i, o, r, a, s, c, l, u, d, h, f, p, m, v, g, y = this.zoom, b = this.params.zoom, _ = y.gesture,
                        w = y.image;
                    _.$slideEl || (_.$slideEl = this.clickedSlide ? n(this.clickedSlide) : this.slides.eq(this.activeIndex), _.$imageEl = _.$slideEl.find("img, svg, canvas"), _.$imageWrapEl = _.$imageEl.parent("." + b.containerClass)), _.$imageEl && 0 !== _.$imageEl.length && (_.$slideEl.addClass("" + b.zoomedSlideClass), void 0 === w.touchesStart.x && t ? (e = "touchend" === t.type ? t.changedTouches[0].pageX : t.pageX, i = "touchend" === t.type ? t.changedTouches[0].pageY : t.pageY) : (e = w.touchesStart.x, i = w.touchesStart.y), y.scale = _.$imageWrapEl.attr("data-swiper-zoom") || b.maxRatio, y.currentScale = _.$imageWrapEl.attr("data-swiper-zoom") || b.maxRatio, t ? (v = _.$slideEl[0].offsetWidth, g = _.$slideEl[0].offsetHeight, o = _.$slideEl.offset().left + v / 2 - e, r = _.$slideEl.offset().top + g / 2 - i, c = _.$imageEl[0].offsetWidth, l = _.$imageEl[0].offsetHeight, u = c * y.scale, d = l * y.scale, p = -(h = Math.min(v / 2 - u / 2, 0)), m = -(f = Math.min(g / 2 - d / 2, 0)), (a = o * y.scale) < h && (a = h), a > p && (a = p), (s = r * y.scale) < f && (s = f), s > m && (s = m)) : (a = 0, s = 0), _.$imageWrapEl.transition(300).transform("translate3d(" + a + "px, " + s + "px,0)"), _.$imageEl.transition(300).transform("translate3d(0,0,0) scale(" + y.scale + ")"))
                }, out: function () {
                    var t = this.zoom, e = this.params.zoom, i = t.gesture;
                    i.$slideEl || (i.$slideEl = this.clickedSlide ? n(this.clickedSlide) : this.slides.eq(this.activeIndex), i.$imageEl = i.$slideEl.find("img, svg, canvas"), i.$imageWrapEl = i.$imageEl.parent("." + e.containerClass)), i.$imageEl && 0 !== i.$imageEl.length && (t.scale = 1, t.currentScale = 1, i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"), i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"), i.$slideEl.removeClass("" + e.zoomedSlideClass), i.$slideEl = void 0)
                }, enable: function () {
                    var t = this.zoom;
                    if (!t.enabled) {
                        t.enabled = !0;
                        var e = !("touchstart" !== this.touchEvents.start || !u.passiveListener || !this.params.passiveListeners) && {
                            passive: !0,
                            capture: !1
                        };
                        u.gestures ? (this.$wrapperEl.on("gesturestart", ".swiper-slide", t.onGestureStart, e), this.$wrapperEl.on("gesturechange", ".swiper-slide", t.onGestureChange, e), this.$wrapperEl.on("gestureend", ".swiper-slide", t.onGestureEnd, e)) : "touchstart" === this.touchEvents.start && (this.$wrapperEl.on(this.touchEvents.start, ".swiper-slide", t.onGestureStart, e), this.$wrapperEl.on(this.touchEvents.move, ".swiper-slide", t.onGestureChange, e), this.$wrapperEl.on(this.touchEvents.end, ".swiper-slide", t.onGestureEnd, e)), this.$wrapperEl.on(this.touchEvents.move, "." + this.params.zoom.containerClass, t.onTouchMove)
                    }
                }, disable: function () {
                    var t = this.zoom;
                    if (t.enabled) {
                        this.zoom.enabled = !1;
                        var e = !("touchstart" !== this.touchEvents.start || !u.passiveListener || !this.params.passiveListeners) && {
                            passive: !0,
                            capture: !1
                        };
                        u.gestures ? (this.$wrapperEl.off("gesturestart", ".swiper-slide", t.onGestureStart, e), this.$wrapperEl.off("gesturechange", ".swiper-slide", t.onGestureChange, e), this.$wrapperEl.off("gestureend", ".swiper-slide", t.onGestureEnd, e)) : "touchstart" === this.touchEvents.start && (this.$wrapperEl.off(this.touchEvents.start, ".swiper-slide", t.onGestureStart, e), this.$wrapperEl.off(this.touchEvents.move, ".swiper-slide", t.onGestureChange, e), this.$wrapperEl.off(this.touchEvents.end, ".swiper-slide", t.onGestureEnd, e)), this.$wrapperEl.off(this.touchEvents.move, "." + this.params.zoom.containerClass, t.onTouchMove)
                    }
                }
            }, q = {
                loadInSlide: function (t, e) {
                    void 0 === e && (e = !0);
                    var i = this, o = i.params.lazy;
                    if (void 0 !== t && 0 !== i.slides.length) {
                        var r = i.virtual && i.params.virtual.enabled ? i.$wrapperEl.children("." + i.params.slideClass + '[data-swiper-slide-index="' + t + '"]') : i.slides.eq(t),
                            a = r.find("." + o.elementClass + ":not(." + o.loadedClass + "):not(." + o.loadingClass + ")");
                        !r.hasClass(o.elementClass) || r.hasClass(o.loadedClass) || r.hasClass(o.loadingClass) || (a = a.add(r[0])), 0 !== a.length && a.each((function (t, a) {
                            var s = n(a);
                            s.addClass(o.loadingClass);
                            var c = s.attr("data-background"), l = s.attr("data-src"), u = s.attr("data-srcset"),
                                d = s.attr("data-sizes");
                            i.loadImage(s[0], l || c, u, d, !1, (function () {
                                if (null != i && i && (!i || i.params) && !i.destroyed) {
                                    if (c ? (s.css("background-image", 'url("' + c + '")'), s.removeAttr("data-background")) : (u && (s.attr("srcset", u), s.removeAttr("data-srcset")), d && (s.attr("sizes", d), s.removeAttr("data-sizes")), l && (s.attr("src", l), s.removeAttr("data-src"))), s.addClass(o.loadedClass).removeClass(o.loadingClass), r.find("." + o.preloaderClass).remove(), i.params.loop && e) {
                                        var t = r.attr("data-swiper-slide-index");
                                        if (r.hasClass(i.params.slideDuplicateClass)) {
                                            var n = i.$wrapperEl.children('[data-swiper-slide-index="' + t + '"]:not(.' + i.params.slideDuplicateClass + ")");
                                            i.lazy.loadInSlide(n.index(), !1)
                                        } else {
                                            var a = i.$wrapperEl.children("." + i.params.slideDuplicateClass + '[data-swiper-slide-index="' + t + '"]');
                                            i.lazy.loadInSlide(a.index(), !1)
                                        }
                                    }
                                    i.emit("lazyImageReady", r[0], s[0])
                                }
                            })), i.emit("lazyImageLoad", r[0], s[0])
                        }))
                    }
                }, load: function () {
                    var t = this, e = t.$wrapperEl, i = t.params, o = t.slides, r = t.activeIndex,
                        a = t.virtual && i.virtual.enabled, s = i.lazy, c = i.slidesPerView;

                    function l(t) {
                        if (a) {
                            if (e.children("." + i.slideClass + '[data-swiper-slide-index="' + t + '"]').length) return !0
                        } else if (o[t]) return !0;
                        return !1
                    }

                    function u(t) {
                        return a ? n(t).attr("data-swiper-slide-index") : n(t).index()
                    }

                    if ("auto" === c && (c = 0), t.lazy.initialImageLoaded || (t.lazy.initialImageLoaded = !0), t.params.watchSlidesVisibility) e.children("." + i.slideVisibleClass).each((function (e, i) {
                        var o = a ? n(i).attr("data-swiper-slide-index") : n(i).index();
                        t.lazy.loadInSlide(o)
                    })); else if (c > 1) for (var d = r; d < r + c; d += 1) l(d) && t.lazy.loadInSlide(d); else t.lazy.loadInSlide(r);
                    if (s.loadPrevNext) if (c > 1 || s.loadPrevNextAmount && s.loadPrevNextAmount > 1) {
                        for (var h = s.loadPrevNextAmount, f = c, p = Math.min(r + f + Math.max(h, f), o.length), m = Math.max(r - Math.max(f, h), 0), v = r + c; v < p; v += 1) l(v) && t.lazy.loadInSlide(v);
                        for (var g = m; g < r; g += 1) l(g) && t.lazy.loadInSlide(g)
                    } else {
                        var y = e.children("." + i.slideNextClass);
                        y.length > 0 && t.lazy.loadInSlide(u(y));
                        var b = e.children("." + i.slidePrevClass);
                        b.length > 0 && t.lazy.loadInSlide(u(b))
                    }
                }
            }, J = {
                LinearSpline: function (t, e) {
                    var i, n, o, r, a, s = function (t, e) {
                        for (n = -1, i = t.length; i - n > 1;) t[o = i + n >> 1] <= e ? n = o : i = o;
                        return i
                    };
                    return this.x = t, this.y = e, this.lastIndex = t.length - 1, this.interpolate = function (t) {
                        return t ? (a = s(this.x, t), r = a - 1, (t - this.x[r]) * (this.y[a] - this.y[r]) / (this.x[a] - this.x[r]) + this.y[r]) : 0
                    }, this
                }, getInterpolateFunction: function (t) {
                    this.controller.spline || (this.controller.spline = this.params.loop ? new J.LinearSpline(this.slidesGrid, t.slidesGrid) : new J.LinearSpline(this.snapGrid, t.snapGrid))
                }, setTranslate: function (t, e) {
                    var i, n, o = this, r = o.controller.control;

                    function a(t) {
                        var e = o.rtlTranslate ? -o.translate : o.translate;
                        "slide" === o.params.controller.by && (o.controller.getInterpolateFunction(t), n = -o.controller.spline.interpolate(-e)), n && "container" !== o.params.controller.by || (i = (t.maxTranslate() - t.minTranslate()) / (o.maxTranslate() - o.minTranslate()), n = (e - o.minTranslate()) * i + t.minTranslate()), o.params.controller.inverse && (n = t.maxTranslate() - n), t.updateProgress(n), t.setTranslate(n, o), t.updateActiveIndex(), t.updateSlidesClasses()
                    }

                    if (Array.isArray(r)) for (var s = 0; s < r.length; s += 1) r[s] !== e && r[s] instanceof P && a(r[s]); else r instanceof P && e !== r && a(r)
                }, setTransition: function (t, e) {
                    var i, n = this, o = n.controller.control;

                    function r(e) {
                        e.setTransition(t, n), 0 !== t && (e.transitionStart(), e.params.autoHeight && l.nextTick((function () {
                            e.updateAutoHeight()
                        })), e.$wrapperEl.transitionEnd((function () {
                            o && (e.params.loop && "slide" === n.params.controller.by && e.loopFix(), e.transitionEnd())
                        })))
                    }

                    if (Array.isArray(o)) for (i = 0; i < o.length; i += 1) o[i] !== e && o[i] instanceof P && r(o[i]); else o instanceof P && e !== o && r(o)
                }
            }, Y = {
                name: "controller",
                params: {controller: {control: void 0, inverse: !1, by: "slide"}},
                create: function () {
                    l.extend(this, {
                        controller: {
                            control: this.params.controller.control,
                            getInterpolateFunction: J.getInterpolateFunction.bind(this),
                            setTranslate: J.setTranslate.bind(this),
                            setTransition: J.setTransition.bind(this)
                        }
                    })
                },
                on: {
                    update: function () {
                        this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
                    }, resize: function () {
                        this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
                    }, observerUpdate: function () {
                        this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
                    }, setTranslate: function (t, e) {
                        this.controller.control && this.controller.setTranslate(t, e)
                    }, setTransition: function (t, e) {
                        this.controller.control && this.controller.setTransition(t, e)
                    }
                }
            }, K = {
                makeElFocusable: function (t) {
                    return t.attr("tabIndex", "0"), t
                }, addElRole: function (t, e) {
                    return t.attr("role", e), t
                }, addElLabel: function (t, e) {
                    return t.attr("aria-label", e), t
                }, disableEl: function (t) {
                    return t.attr("aria-disabled", !0), t
                }, enableEl: function (t) {
                    return t.attr("aria-disabled", !1), t
                }, onEnterKey: function (t) {
                    var e = this.params.a11y;
                    if (13 === t.keyCode) {
                        var i = n(t.target);
                        this.navigation && this.navigation.$nextEl && i.is(this.navigation.$nextEl) && (this.isEnd && !this.params.loop || this.slideNext(), this.isEnd ? this.a11y.notify(e.lastSlideMessage) : this.a11y.notify(e.nextSlideMessage)), this.navigation && this.navigation.$prevEl && i.is(this.navigation.$prevEl) && (this.isBeginning && !this.params.loop || this.slidePrev(), this.isBeginning ? this.a11y.notify(e.firstSlideMessage) : this.a11y.notify(e.prevSlideMessage)), this.pagination && i.is("." + this.params.pagination.bulletClass) && i[0].click()
                    }
                }, notify: function (t) {
                    var e = this.a11y.liveRegion;
                    0 !== e.length && (e.html(""), e.html(t))
                }, updateNavigation: function () {
                    if (!this.params.loop) {
                        var t = this.navigation, e = t.$nextEl, i = t.$prevEl;
                        i && i.length > 0 && (this.isBeginning ? this.a11y.disableEl(i) : this.a11y.enableEl(i)), e && e.length > 0 && (this.isEnd ? this.a11y.disableEl(e) : this.a11y.enableEl(e))
                    }
                }, updatePagination: function () {
                    var t = this, e = t.params.a11y;
                    t.pagination && t.params.pagination.clickable && t.pagination.bullets && t.pagination.bullets.length && t.pagination.bullets.each((function (i, o) {
                        var r = n(o);
                        t.a11y.makeElFocusable(r), t.a11y.addElRole(r, "button"), t.a11y.addElLabel(r, e.paginationBulletMessage.replace(/{{index}}/, r.index() + 1))
                    }))
                }, init: function () {
                    this.$el.append(this.a11y.liveRegion);
                    var t, e, i = this.params.a11y;
                    this.navigation && this.navigation.$nextEl && (t = this.navigation.$nextEl), this.navigation && this.navigation.$prevEl && (e = this.navigation.$prevEl), t && (this.a11y.makeElFocusable(t), this.a11y.addElRole(t, "button"), this.a11y.addElLabel(t, i.nextSlideMessage), t.on("keydown", this.a11y.onEnterKey)), e && (this.a11y.makeElFocusable(e), this.a11y.addElRole(e, "button"), this.a11y.addElLabel(e, i.prevSlideMessage), e.on("keydown", this.a11y.onEnterKey)), this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.on("keydown", "." + this.params.pagination.bulletClass, this.a11y.onEnterKey)
                }, destroy: function () {
                    var t, e;
                    this.a11y.liveRegion && this.a11y.liveRegion.length > 0 && this.a11y.liveRegion.remove(), this.navigation && this.navigation.$nextEl && (t = this.navigation.$nextEl), this.navigation && this.navigation.$prevEl && (e = this.navigation.$prevEl), t && t.off("keydown", this.a11y.onEnterKey), e && e.off("keydown", this.a11y.onEnterKey), this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.off("keydown", "." + this.params.pagination.bulletClass, this.a11y.onEnterKey)
                }
            }, Z = {
                init: function () {
                    if (this.params.history) {
                        if (!e.history || !e.history.pushState) return this.params.history.enabled = !1, void (this.params.hashNavigation.enabled = !0);
                        var t = this.history;
                        t.initialized = !0, t.paths = Z.getPathValues(), (t.paths.key || t.paths.value) && (t.scrollToSlide(0, t.paths.value, this.params.runCallbacksOnInit), this.params.history.replaceState || e.addEventListener("popstate", this.history.setHistoryPopState))
                    }
                }, destroy: function () {
                    this.params.history.replaceState || e.removeEventListener("popstate", this.history.setHistoryPopState)
                }, setHistoryPopState: function () {
                    this.history.paths = Z.getPathValues(), this.history.scrollToSlide(this.params.speed, this.history.paths.value, !1)
                }, getPathValues: function () {
                    var t = e.location.pathname.slice(1).split("/").filter((function (t) {
                        return "" !== t
                    })), i = t.length;
                    return {key: t[i - 2], value: t[i - 1]}
                }, setHistory: function (t, i) {
                    if (this.history.initialized && this.params.history.enabled) {
                        var n = this.slides.eq(i), o = Z.slugify(n.attr("data-history"));
                        e.location.pathname.includes(t) || (o = t + "/" + o);
                        var r = e.history.state;
                        r && r.value === o || (this.params.history.replaceState ? e.history.replaceState({value: o}, null, o) : e.history.pushState({value: o}, null, o))
                    }
                }, slugify: function (t) {
                    return t.toString().replace(/\s+/g, "-").replace(/[^\w-]+/g, "").replace(/--+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
                }, scrollToSlide: function (t, e, i) {
                    if (e) for (var n = 0, o = this.slides.length; n < o; n += 1) {
                        var r = this.slides.eq(n);
                        if (Z.slugify(r.attr("data-history")) === e && !r.hasClass(this.params.slideDuplicateClass)) {
                            var a = r.index();
                            this.slideTo(a, t, i)
                        }
                    } else this.slideTo(0, t, i)
                }
            }, X = {
                onHashCange: function () {
                    var e = t.location.hash.replace("#", "");
                    if (e !== this.slides.eq(this.activeIndex).attr("data-hash")) {
                        var i = this.$wrapperEl.children("." + this.params.slideClass + '[data-hash="' + e + '"]').index();
                        if (void 0 === i) return;
                        this.slideTo(i)
                    }
                }, setHash: function () {
                    if (this.hashNavigation.initialized && this.params.hashNavigation.enabled) if (this.params.hashNavigation.replaceState && e.history && e.history.replaceState) e.history.replaceState(null, null, "#" + this.slides.eq(this.activeIndex).attr("data-hash") || !1); else {
                        var i = this.slides.eq(this.activeIndex), n = i.attr("data-hash") || i.attr("data-history");
                        t.location.hash = n || ""
                    }
                }, init: function () {
                    if (!(!this.params.hashNavigation.enabled || this.params.history && this.params.history.enabled)) {
                        this.hashNavigation.initialized = !0;
                        var i = t.location.hash.replace("#", "");
                        if (i) for (var o = 0, r = this.slides.length; o < r; o += 1) {
                            var a = this.slides.eq(o);
                            if ((a.attr("data-hash") || a.attr("data-history")) === i && !a.hasClass(this.params.slideDuplicateClass)) {
                                var s = a.index();
                                this.slideTo(s, 0, this.params.runCallbacksOnInit, !0)
                            }
                        }
                        this.params.hashNavigation.watchState && n(e).on("hashchange", this.hashNavigation.onHashCange)
                    }
                }, destroy: function () {
                    this.params.hashNavigation.watchState && n(e).off("hashchange", this.hashNavigation.onHashCange)
                }
            }, Q = {
                run: function () {
                    var t = this, e = t.slides.eq(t.activeIndex), i = t.params.autoplay.delay;
                    e.attr("data-swiper-autoplay") && (i = e.attr("data-swiper-autoplay") || t.params.autoplay.delay), clearTimeout(t.autoplay.timeout), t.autoplay.timeout = l.nextTick((function () {
                        t.params.autoplay.reverseDirection ? t.params.loop ? (t.loopFix(), t.slidePrev(t.params.speed, !0, !0), t.emit("autoplay")) : t.isBeginning ? t.params.autoplay.stopOnLastSlide ? t.autoplay.stop() : (t.slideTo(t.slides.length - 1, t.params.speed, !0, !0), t.emit("autoplay")) : (t.slidePrev(t.params.speed, !0, !0), t.emit("autoplay")) : t.params.loop ? (t.loopFix(), t.slideNext(t.params.speed, !0, !0), t.emit("autoplay")) : t.isEnd ? t.params.autoplay.stopOnLastSlide ? t.autoplay.stop() : (t.slideTo(0, t.params.speed, !0, !0), t.emit("autoplay")) : (t.slideNext(t.params.speed, !0, !0), t.emit("autoplay"))
                    }), i)
                }, start: function () {
                    return void 0 === this.autoplay.timeout && !this.autoplay.running && (this.autoplay.running = !0, this.emit("autoplayStart"), this.autoplay.run(), !0)
                }, stop: function () {
                    return !!this.autoplay.running && void 0 !== this.autoplay.timeout && (this.autoplay.timeout && (clearTimeout(this.autoplay.timeout), this.autoplay.timeout = void 0), this.autoplay.running = !1, this.emit("autoplayStop"), !0)
                }, pause: function (t) {
                    this.autoplay.running && (this.autoplay.paused || (this.autoplay.timeout && clearTimeout(this.autoplay.timeout), this.autoplay.paused = !0, 0 !== t && this.params.autoplay.waitForTransition ? (this.$wrapperEl[0].addEventListener("transitionend", this.autoplay.onTransitionEnd), this.$wrapperEl[0].addEventListener("webkitTransitionEnd", this.autoplay.onTransitionEnd)) : (this.autoplay.paused = !1, this.autoplay.run())))
                }
            }, tt = {
                setTranslate: function () {
                    for (var t = this.slides, e = 0; e < t.length; e += 1) {
                        var i = this.slides.eq(e), n = -i[0].swiperSlideOffset;
                        this.params.virtualTranslate || (n -= this.translate);
                        var o = 0;
                        this.isHorizontal() || (o = n, n = 0);
                        var r = this.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(i[0].progress), 0) : 1 + Math.min(Math.max(i[0].progress, -1), 0);
                        i.css({opacity: r}).transform("translate3d(" + n + "px, " + o + "px, 0px)")
                    }
                }, setTransition: function (t) {
                    var e = this, i = e.slides, n = e.$wrapperEl;
                    if (i.transition(t), e.params.virtualTranslate && 0 !== t) {
                        var o = !1;
                        i.transitionEnd((function () {
                            if (!o && e && !e.destroyed) {
                                o = !0, e.animating = !1;
                                for (var t = ["webkitTransitionEnd", "transitionend"], i = 0; i < t.length; i += 1) n.trigger(t[i])
                            }
                        }))
                    }
                }
            }, et = {
                setTranslate: function () {
                    var t, e = this.$el, i = this.$wrapperEl, o = this.slides, r = this.width, a = this.height,
                        s = this.rtlTranslate, c = this.size, l = this.params.cubeEffect, u = this.isHorizontal(),
                        h = this.virtual && this.params.virtual.enabled, f = 0;
                    l.shadow && (u ? (0 === (t = i.find(".swiper-cube-shadow")).length && (t = n('<div class="swiper-cube-shadow"></div>'), i.append(t)), t.css({height: r + "px"})) : 0 === (t = e.find(".swiper-cube-shadow")).length && (t = n('<div class="swiper-cube-shadow"></div>'), e.append(t)));
                    for (var p = 0; p < o.length; p += 1) {
                        var m = o.eq(p), v = p;
                        h && (v = parseInt(m.attr("data-swiper-slide-index"), 10));
                        var g = 90 * v, y = Math.floor(g / 360);
                        s && (g = -g, y = Math.floor(-g / 360));
                        var b = Math.max(Math.min(m[0].progress, 1), -1), _ = 0, w = 0, C = 0;
                        v % 4 == 0 ? (_ = 4 * -y * c, C = 0) : (v - 1) % 4 == 0 ? (_ = 0, C = 4 * -y * c) : (v - 2) % 4 == 0 ? (_ = c + 4 * y * c, C = c) : (v - 3) % 4 == 0 && (_ = -c, C = 3 * c + 4 * c * y), s && (_ = -_), u || (w = _, _ = 0);
                        var x = "rotateX(" + (u ? 0 : -g) + "deg) rotateY(" + (u ? g : 0) + "deg) translate3d(" + _ + "px, " + w + "px, " + C + "px)";
                        if (b <= 1 && b > -1 && (f = 90 * v + 90 * b, s && (f = 90 * -v - 90 * b)), m.transform(x), l.slideShadows) {
                            var k = u ? m.find(".swiper-slide-shadow-left") : m.find(".swiper-slide-shadow-top"),
                                I = u ? m.find(".swiper-slide-shadow-right") : m.find(".swiper-slide-shadow-bottom");
                            0 === k.length && (k = n('<div class="swiper-slide-shadow-' + (u ? "left" : "top") + '"></div>'), m.append(k)), 0 === I.length && (I = n('<div class="swiper-slide-shadow-' + (u ? "right" : "bottom") + '"></div>'), m.append(I)), k.length && (k[0].style.opacity = Math.max(-b, 0)), I.length && (I[0].style.opacity = Math.max(b, 0))
                        }
                    }
                    if (i.css({
                        "-webkit-transform-origin": "50% 50% -" + c / 2 + "px",
                        "-moz-transform-origin": "50% 50% -" + c / 2 + "px",
                        "-ms-transform-origin": "50% 50% -" + c / 2 + "px",
                        "transform-origin": "50% 50% -" + c / 2 + "px"
                    }), l.shadow) if (u) t.transform("translate3d(0px, " + (r / 2 + l.shadowOffset) + "px, " + -r / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + l.shadowScale + ")"); else {
                        var S = Math.abs(f) - 90 * Math.floor(Math.abs(f) / 90),
                            O = 1.5 - (Math.sin(2 * S * Math.PI / 360) / 2 + Math.cos(2 * S * Math.PI / 360) / 2),
                            T = l.shadowScale, E = l.shadowScale / O, P = l.shadowOffset;
                        t.transform("scale3d(" + T + ", 1, " + E + ") translate3d(0px, " + (a / 2 + P) + "px, " + -a / 2 / E + "px) rotateX(-90deg)")
                    }
                    var L = d.isSafari || d.isUiWebView ? -c / 2 : 0;
                    i.transform("translate3d(0px,0," + L + "px) rotateX(" + (this.isHorizontal() ? 0 : f) + "deg) rotateY(" + (this.isHorizontal() ? -f : 0) + "deg)")
                }, setTransition: function (t) {
                    var e = this.$el;
                    this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t), this.params.cubeEffect.shadow && !this.isHorizontal() && e.find(".swiper-cube-shadow").transition(t)
                }
            }, it = {
                setTranslate: function () {
                    for (var t = this.slides, e = this.rtlTranslate, i = 0; i < t.length; i += 1) {
                        var o = t.eq(i), r = o[0].progress;
                        this.params.flipEffect.limitRotation && (r = Math.max(Math.min(o[0].progress, 1), -1));
                        var a = -180 * r, s = 0, c = -o[0].swiperSlideOffset, l = 0;
                        if (this.isHorizontal() ? e && (a = -a) : (l = c, c = 0, s = -a, a = 0), o[0].style.zIndex = -Math.abs(Math.round(r)) + t.length, this.params.flipEffect.slideShadows) {
                            var u = this.isHorizontal() ? o.find(".swiper-slide-shadow-left") : o.find(".swiper-slide-shadow-top"),
                                d = this.isHorizontal() ? o.find(".swiper-slide-shadow-right") : o.find(".swiper-slide-shadow-bottom");
                            0 === u.length && (u = n('<div class="swiper-slide-shadow-' + (this.isHorizontal() ? "left" : "top") + '"></div>'), o.append(u)), 0 === d.length && (d = n('<div class="swiper-slide-shadow-' + (this.isHorizontal() ? "right" : "bottom") + '"></div>'), o.append(d)), u.length && (u[0].style.opacity = Math.max(-r, 0)), d.length && (d[0].style.opacity = Math.max(r, 0))
                        }
                        o.transform("translate3d(" + c + "px, " + l + "px, 0px) rotateX(" + s + "deg) rotateY(" + a + "deg)")
                    }
                }, setTransition: function (t) {
                    var e = this, i = e.slides, n = e.activeIndex, o = e.$wrapperEl;
                    if (i.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t), e.params.virtualTranslate && 0 !== t) {
                        var r = !1;
                        i.eq(n).transitionEnd((function () {
                            if (!r && e && !e.destroyed) {
                                r = !0, e.animating = !1;
                                for (var t = ["webkitTransitionEnd", "transitionend"], i = 0; i < t.length; i += 1) o.trigger(t[i])
                            }
                        }))
                    }
                }
            }, nt = {
                setTranslate: function () {
                    for (var t = this.width, e = this.height, i = this.slides, o = this.$wrapperEl, r = this.slidesSizesGrid, a = this.params.coverflowEffect, s = this.isHorizontal(), c = this.translate, l = s ? t / 2 - c : e / 2 - c, d = s ? a.rotate : -a.rotate, h = a.depth, f = 0, p = i.length; f < p; f += 1) {
                        var m = i.eq(f), v = r[f], g = (l - m[0].swiperSlideOffset - v / 2) / v * a.modifier,
                            y = s ? d * g : 0, b = s ? 0 : d * g, _ = -h * Math.abs(g), w = s ? 0 : a.stretch * g,
                            C = s ? a.stretch * g : 0;
                        Math.abs(C) < .001 && (C = 0), Math.abs(w) < .001 && (w = 0), Math.abs(_) < .001 && (_ = 0), Math.abs(y) < .001 && (y = 0), Math.abs(b) < .001 && (b = 0);
                        var x = "translate3d(" + C + "px," + w + "px," + _ + "px)  rotateX(" + b + "deg) rotateY(" + y + "deg)";
                        if (m.transform(x), m[0].style.zIndex = 1 - Math.abs(Math.round(g)), a.slideShadows) {
                            var k = s ? m.find(".swiper-slide-shadow-left") : m.find(".swiper-slide-shadow-top"),
                                I = s ? m.find(".swiper-slide-shadow-right") : m.find(".swiper-slide-shadow-bottom");
                            0 === k.length && (k = n('<div class="swiper-slide-shadow-' + (s ? "left" : "top") + '"></div>'), m.append(k)), 0 === I.length && (I = n('<div class="swiper-slide-shadow-' + (s ? "right" : "bottom") + '"></div>'), m.append(I)), k.length && (k[0].style.opacity = g > 0 ? g : 0), I.length && (I[0].style.opacity = -g > 0 ? -g : 0)
                        }
                    }
                    (u.pointerEvents || u.prefixedPointerEvents) && (o[0].style.perspectiveOrigin = l + "px 50%")
                }, setTransition: function (t) {
                    this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)
                }
            }, ot = {
                init: function () {
                    var t = this.params.thumbs, e = this.constructor;
                    t.swiper instanceof e ? (this.thumbs.swiper = t.swiper, l.extend(this.thumbs.swiper.originalParams, {
                        watchSlidesProgress: !0,
                        slideToClickedSlide: !1
                    }), l.extend(this.thumbs.swiper.params, {
                        watchSlidesProgress: !0,
                        slideToClickedSlide: !1
                    })) : l.isObject(t.swiper) && (this.thumbs.swiper = new e(l.extend({}, t.swiper, {
                        watchSlidesVisibility: !0,
                        watchSlidesProgress: !0,
                        slideToClickedSlide: !1
                    })), this.thumbs.swiperCreated = !0), this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass), this.thumbs.swiper.on("tap", this.thumbs.onThumbClick)
                }, onThumbClick: function () {
                    var t = this.thumbs.swiper;
                    if (t) {
                        var e = t.clickedIndex, i = t.clickedSlide;
                        if (!(i && n(i).hasClass(this.params.thumbs.slideThumbActiveClass) || null == e)) {
                            var o;
                            if (o = t.params.loop ? parseInt(n(t.clickedSlide).attr("data-swiper-slide-index"), 10) : e, this.params.loop) {
                                var r = this.activeIndex;
                                this.slides.eq(r).hasClass(this.params.slideDuplicateClass) && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, r = this.activeIndex);
                                var a = this.slides.eq(r).prevAll('[data-swiper-slide-index="' + o + '"]').eq(0).index(),
                                    s = this.slides.eq(r).nextAll('[data-swiper-slide-index="' + o + '"]').eq(0).index();
                                o = void 0 === a ? s : void 0 === s ? a : s - r < r - a ? s : a
                            }
                            this.slideTo(o)
                        }
                    }
                }, update: function (t) {
                    var e = this.thumbs.swiper;
                    if (e) {
                        var i = "auto" === e.params.slidesPerView ? e.slidesPerViewDynamic() : e.params.slidesPerView;
                        if (this.realIndex !== e.realIndex) {
                            var n, o = e.activeIndex;
                            if (e.params.loop) {
                                e.slides.eq(o).hasClass(e.params.slideDuplicateClass) && (e.loopFix(), e._clientLeft = e.$wrapperEl[0].clientLeft, o = e.activeIndex);
                                var r = e.slides.eq(o).prevAll('[data-swiper-slide-index="' + this.realIndex + '"]').eq(0).index(),
                                    a = e.slides.eq(o).nextAll('[data-swiper-slide-index="' + this.realIndex + '"]').eq(0).index();
                                n = void 0 === r ? a : void 0 === a ? r : a - o == o - r ? o : a - o < o - r ? a : r
                            } else n = this.realIndex;
                            e.visibleSlidesIndexes && e.visibleSlidesIndexes.indexOf(n) < 0 && (e.params.centeredSlides ? n = n > o ? n - Math.floor(i / 2) + 1 : n + Math.floor(i / 2) - 1 : n > o && (n = n - i + 1), e.slideTo(n, t ? 0 : void 0))
                        }
                        var s = 1, c = this.params.thumbs.slideThumbActiveClass;
                        if (this.params.slidesPerView > 1 && !this.params.centeredSlides && (s = this.params.slidesPerView), e.slides.removeClass(c), e.params.loop || e.params.virtual) for (var l = 0; l < s; l += 1) e.$wrapperEl.children('[data-swiper-slide-index="' + (this.realIndex + l) + '"]').addClass(c); else for (var u = 0; u < s; u += 1) e.slides.eq(this.realIndex + u).addClass(c)
                    }
                }
            }, rt = [L, j, A, M, B, R, H, {
                name: "mousewheel",
                params: {
                    mousewheel: {
                        enabled: !1,
                        releaseOnEdges: !1,
                        invert: !1,
                        forceToAxis: !1,
                        sensitivity: 1,
                        eventsTarged: "container"
                    }
                },
                create: function () {
                    l.extend(this, {
                        mousewheel: {
                            enabled: !1,
                            enable: z.enable.bind(this),
                            disable: z.disable.bind(this),
                            handle: z.handle.bind(this),
                            handleMouseEnter: z.handleMouseEnter.bind(this),
                            handleMouseLeave: z.handleMouseLeave.bind(this),
                            lastScrollTime: l.now()
                        }
                    })
                },
                on: {
                    init: function () {
                        this.params.mousewheel.enabled && this.mousewheel.enable()
                    }, destroy: function () {
                        this.mousewheel.enabled && this.mousewheel.disable()
                    }
                }
            }, {
                name: "navigation",
                params: {
                    navigation: {
                        nextEl: null,
                        prevEl: null,
                        hideOnClick: !1,
                        disabledClass: "swiper-button-disabled",
                        hiddenClass: "swiper-button-hidden",
                        lockClass: "swiper-button-lock"
                    }
                },
                create: function () {
                    l.extend(this, {
                        navigation: {
                            init: U.init.bind(this),
                            update: U.update.bind(this),
                            destroy: U.destroy.bind(this),
                            onNextClick: U.onNextClick.bind(this),
                            onPrevClick: U.onPrevClick.bind(this)
                        }
                    })
                },
                on: {
                    init: function () {
                        this.navigation.init(), this.navigation.update()
                    }, toEdge: function () {
                        this.navigation.update()
                    }, fromEdge: function () {
                        this.navigation.update()
                    }, destroy: function () {
                        this.navigation.destroy()
                    }, click: function (t) {
                        var e, i = this.navigation, o = i.$nextEl, r = i.$prevEl;
                        !this.params.navigation.hideOnClick || n(t.target).is(r) || n(t.target).is(o) || (o ? e = o.hasClass(this.params.navigation.hiddenClass) : r && (e = r.hasClass(this.params.navigation.hiddenClass)), !0 === e ? this.emit("navigationShow", this) : this.emit("navigationHide", this), o && o.toggleClass(this.params.navigation.hiddenClass), r && r.toggleClass(this.params.navigation.hiddenClass))
                    }
                }
            }, {
                name: "pagination",
                params: {
                    pagination: {
                        el: null,
                        bulletElement: "span",
                        clickable: !1,
                        hideOnClick: !1,
                        renderBullet: null,
                        renderProgressbar: null,
                        renderFraction: null,
                        renderCustom: null,
                        progressbarOpposite: !1,
                        type: "bullets",
                        dynamicBullets: !1,
                        dynamicMainBullets: 1,
                        formatFractionCurrent: function (t) {
                            return t
                        },
                        formatFractionTotal: function (t) {
                            return t
                        },
                        bulletClass: "swiper-pagination-bullet",
                        bulletActiveClass: "swiper-pagination-bullet-active",
                        modifierClass: "swiper-pagination-",
                        currentClass: "swiper-pagination-current",
                        totalClass: "swiper-pagination-total",
                        hiddenClass: "swiper-pagination-hidden",
                        progressbarFillClass: "swiper-pagination-progressbar-fill",
                        progressbarOppositeClass: "swiper-pagination-progressbar-opposite",
                        clickableClass: "swiper-pagination-clickable",
                        lockClass: "swiper-pagination-lock"
                    }
                },
                create: function () {
                    l.extend(this, {
                        pagination: {
                            init: F.init.bind(this),
                            render: F.render.bind(this),
                            update: F.update.bind(this),
                            destroy: F.destroy.bind(this),
                            dynamicBulletIndex: 0
                        }
                    })
                },
                on: {
                    init: function () {
                        this.pagination.init(), this.pagination.render(), this.pagination.update()
                    }, activeIndexChange: function () {
                        (this.params.loop || void 0 === this.snapIndex) && this.pagination.update()
                    }, snapIndexChange: function () {
                        this.params.loop || this.pagination.update()
                    }, slidesLengthChange: function () {
                        this.params.loop && (this.pagination.render(), this.pagination.update())
                    }, snapGridLengthChange: function () {
                        this.params.loop || (this.pagination.render(), this.pagination.update())
                    }, destroy: function () {
                        this.pagination.destroy()
                    }, click: function (t) {
                        this.params.pagination.el && this.params.pagination.hideOnClick && this.pagination.$el.length > 0 && !n(t.target).hasClass(this.params.pagination.bulletClass) && (!0 === this.pagination.$el.hasClass(this.params.pagination.hiddenClass) ? this.emit("paginationShow", this) : this.emit("paginationHide", this), this.pagination.$el.toggleClass(this.params.pagination.hiddenClass))
                    }
                }
            }, {
                name: "scrollbar",
                params: {
                    scrollbar: {
                        el: null,
                        dragSize: "auto",
                        hide: !1,
                        draggable: !1,
                        snapOnRelease: !0,
                        lockClass: "swiper-scrollbar-lock",
                        dragClass: "swiper-scrollbar-drag"
                    }
                },
                create: function () {
                    l.extend(this, {
                        scrollbar: {
                            init: V.init.bind(this),
                            destroy: V.destroy.bind(this),
                            updateSize: V.updateSize.bind(this),
                            setTranslate: V.setTranslate.bind(this),
                            setTransition: V.setTransition.bind(this),
                            enableDraggable: V.enableDraggable.bind(this),
                            disableDraggable: V.disableDraggable.bind(this),
                            setDragPosition: V.setDragPosition.bind(this),
                            getPointerPosition: V.getPointerPosition.bind(this),
                            onDragStart: V.onDragStart.bind(this),
                            onDragMove: V.onDragMove.bind(this),
                            onDragEnd: V.onDragEnd.bind(this),
                            isTouched: !1,
                            timeout: null,
                            dragTimeout: null
                        }
                    })
                },
                on: {
                    init: function () {
                        this.scrollbar.init(), this.scrollbar.updateSize(), this.scrollbar.setTranslate()
                    }, update: function () {
                        this.scrollbar.updateSize()
                    }, resize: function () {
                        this.scrollbar.updateSize()
                    }, observerUpdate: function () {
                        this.scrollbar.updateSize()
                    }, setTranslate: function () {
                        this.scrollbar.setTranslate()
                    }, setTransition: function (t) {
                        this.scrollbar.setTransition(t)
                    }, destroy: function () {
                        this.scrollbar.destroy()
                    }
                }
            }, {
                name: "parallax", params: {parallax: {enabled: !1}}, create: function () {
                    l.extend(this, {
                        parallax: {
                            setTransform: G.setTransform.bind(this),
                            setTranslate: G.setTranslate.bind(this),
                            setTransition: G.setTransition.bind(this)
                        }
                    })
                }, on: {
                    beforeInit: function () {
                        this.params.parallax.enabled && (this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0)
                    }, init: function () {
                        this.params.parallax.enabled && this.parallax.setTranslate()
                    }, setTranslate: function () {
                        this.params.parallax.enabled && this.parallax.setTranslate()
                    }, setTransition: function (t) {
                        this.params.parallax.enabled && this.parallax.setTransition(t)
                    }
                }
            }, {
                name: "zoom",
                params: {
                    zoom: {
                        enabled: !1,
                        maxRatio: 3,
                        minRatio: 1,
                        toggle: !0,
                        containerClass: "swiper-zoom-container",
                        zoomedSlideClass: "swiper-slide-zoomed"
                    }
                },
                create: function () {
                    var t = this, e = {
                        enabled: !1,
                        scale: 1,
                        currentScale: 1,
                        isScaling: !1,
                        gesture: {
                            $slideEl: void 0,
                            slideWidth: void 0,
                            slideHeight: void 0,
                            $imageEl: void 0,
                            $imageWrapEl: void 0,
                            maxRatio: 3
                        },
                        image: {
                            isTouched: void 0,
                            isMoved: void 0,
                            currentX: void 0,
                            currentY: void 0,
                            minX: void 0,
                            minY: void 0,
                            maxX: void 0,
                            maxY: void 0,
                            width: void 0,
                            height: void 0,
                            startX: void 0,
                            startY: void 0,
                            touchesStart: {},
                            touchesCurrent: {}
                        },
                        velocity: {x: void 0, y: void 0, prevPositionX: void 0, prevPositionY: void 0, prevTime: void 0}
                    };
                    "onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach((function (i) {
                        e[i] = W[i].bind(t)
                    })), l.extend(t, {zoom: e});
                    var i = 1;
                    Object.defineProperty(t.zoom, "scale", {
                        get: function () {
                            return i
                        }, set: function (e) {
                            if (i !== e) {
                                var n = t.zoom.gesture.$imageEl ? t.zoom.gesture.$imageEl[0] : void 0,
                                    o = t.zoom.gesture.$slideEl ? t.zoom.gesture.$slideEl[0] : void 0;
                                t.emit("zoomChange", e, n, o)
                            }
                            i = e
                        }
                    })
                },
                on: {
                    init: function () {
                        this.params.zoom.enabled && this.zoom.enable()
                    }, destroy: function () {
                        this.zoom.disable()
                    }, touchStart: function (t) {
                        this.zoom.enabled && this.zoom.onTouchStart(t)
                    }, touchEnd: function (t) {
                        this.zoom.enabled && this.zoom.onTouchEnd(t)
                    }, doubleTap: function (t) {
                        this.params.zoom.enabled && this.zoom.enabled && this.params.zoom.toggle && this.zoom.toggle(t)
                    }, transitionEnd: function () {
                        this.zoom.enabled && this.params.zoom.enabled && this.zoom.onTransitionEnd()
                    }
                }
            }, {
                name: "lazy",
                params: {
                    lazy: {
                        enabled: !1,
                        loadPrevNext: !1,
                        loadPrevNextAmount: 1,
                        loadOnTransitionStart: !1,
                        elementClass: "swiper-lazy",
                        loadingClass: "swiper-lazy-loading",
                        loadedClass: "swiper-lazy-loaded",
                        preloaderClass: "swiper-lazy-preloader"
                    }
                },
                create: function () {
                    l.extend(this, {
                        lazy: {
                            initialImageLoaded: !1,
                            load: q.load.bind(this),
                            loadInSlide: q.loadInSlide.bind(this)
                        }
                    })
                },
                on: {
                    beforeInit: function () {
                        this.params.lazy.enabled && this.params.preloadImages && (this.params.preloadImages = !1)
                    }, init: function () {
                        this.params.lazy.enabled && !this.params.loop && 0 === this.params.initialSlide && this.lazy.load()
                    }, scroll: function () {
                        this.params.freeMode && !this.params.freeModeSticky && this.lazy.load()
                    }, resize: function () {
                        this.params.lazy.enabled && this.lazy.load()
                    }, scrollbarDragMove: function () {
                        this.params.lazy.enabled && this.lazy.load()
                    }, transitionStart: function () {
                        this.params.lazy.enabled && (this.params.lazy.loadOnTransitionStart || !this.params.lazy.loadOnTransitionStart && !this.lazy.initialImageLoaded) && this.lazy.load()
                    }, transitionEnd: function () {
                        this.params.lazy.enabled && !this.params.lazy.loadOnTransitionStart && this.lazy.load()
                    }
                }
            }, Y, {
                name: "a11y",
                params: {
                    a11y: {
                        enabled: !0,
                        notificationClass: "swiper-notification",
                        prevSlideMessage: "Previous slide",
                        nextSlideMessage: "Next slide",
                        firstSlideMessage: "This is the first slide",
                        lastSlideMessage: "This is the last slide",
                        paginationBulletMessage: "Go to slide {{index}}"
                    }
                },
                create: function () {
                    var t = this;
                    l.extend(t, {a11y: {liveRegion: n('<span class="' + t.params.a11y.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>')}}), Object.keys(K).forEach((function (e) {
                        t.a11y[e] = K[e].bind(t)
                    }))
                },
                on: {
                    init: function () {
                        this.params.a11y.enabled && (this.a11y.init(), this.a11y.updateNavigation())
                    }, toEdge: function () {
                        this.params.a11y.enabled && this.a11y.updateNavigation()
                    }, fromEdge: function () {
                        this.params.a11y.enabled && this.a11y.updateNavigation()
                    }, paginationUpdate: function () {
                        this.params.a11y.enabled && this.a11y.updatePagination()
                    }, destroy: function () {
                        this.params.a11y.enabled && this.a11y.destroy()
                    }
                }
            }, {
                name: "history", params: {history: {enabled: !1, replaceState: !1, key: "slides"}}, create: function () {
                    l.extend(this, {
                        history: {
                            init: Z.init.bind(this),
                            setHistory: Z.setHistory.bind(this),
                            setHistoryPopState: Z.setHistoryPopState.bind(this),
                            scrollToSlide: Z.scrollToSlide.bind(this),
                            destroy: Z.destroy.bind(this)
                        }
                    })
                }, on: {
                    init: function () {
                        this.params.history.enabled && this.history.init()
                    }, destroy: function () {
                        this.params.history.enabled && this.history.destroy()
                    }, transitionEnd: function () {
                        this.history.initialized && this.history.setHistory(this.params.history.key, this.activeIndex)
                    }
                }
            }, {
                name: "hash-navigation",
                params: {hashNavigation: {enabled: !1, replaceState: !1, watchState: !1}},
                create: function () {
                    l.extend(this, {
                        hashNavigation: {
                            initialized: !1,
                            init: X.init.bind(this),
                            destroy: X.destroy.bind(this),
                            setHash: X.setHash.bind(this),
                            onHashCange: X.onHashCange.bind(this)
                        }
                    })
                },
                on: {
                    init: function () {
                        this.params.hashNavigation.enabled && this.hashNavigation.init()
                    }, destroy: function () {
                        this.params.hashNavigation.enabled && this.hashNavigation.destroy()
                    }, transitionEnd: function () {
                        this.hashNavigation.initialized && this.hashNavigation.setHash()
                    }
                }
            }, {
                name: "autoplay",
                params: {
                    autoplay: {
                        enabled: !1,
                        delay: 3e3,
                        waitForTransition: !0,
                        disableOnInteraction: !0,
                        stopOnLastSlide: !1,
                        reverseDirection: !1
                    }
                },
                create: function () {
                    var t = this;
                    l.extend(t, {
                        autoplay: {
                            running: !1,
                            paused: !1,
                            run: Q.run.bind(t),
                            start: Q.start.bind(t),
                            stop: Q.stop.bind(t),
                            pause: Q.pause.bind(t),
                            onTransitionEnd: function (e) {
                                t && !t.destroyed && t.$wrapperEl && e.target === this && (t.$wrapperEl[0].removeEventListener("transitionend", t.autoplay.onTransitionEnd), t.$wrapperEl[0].removeEventListener("webkitTransitionEnd", t.autoplay.onTransitionEnd), t.autoplay.paused = !1, t.autoplay.running ? t.autoplay.run() : t.autoplay.stop())
                            }
                        }
                    })
                },
                on: {
                    init: function () {
                        this.params.autoplay.enabled && this.autoplay.start()
                    }, beforeTransitionStart: function (t, e) {
                        this.autoplay.running && (e || !this.params.autoplay.disableOnInteraction ? this.autoplay.pause(t) : this.autoplay.stop())
                    }, sliderFirstMove: function () {
                        this.autoplay.running && (this.params.autoplay.disableOnInteraction ? this.autoplay.stop() : this.autoplay.pause())
                    }, destroy: function () {
                        this.autoplay.running && this.autoplay.stop()
                    }
                }
            }, {
                name: "effect-fade", params: {fadeEffect: {crossFade: !1}}, create: function () {
                    l.extend(this, {
                        fadeEffect: {
                            setTranslate: tt.setTranslate.bind(this),
                            setTransition: tt.setTransition.bind(this)
                        }
                    })
                }, on: {
                    beforeInit: function () {
                        if ("fade" === this.params.effect) {
                            this.classNames.push(this.params.containerModifierClass + "fade");
                            var t = {
                                slidesPerView: 1,
                                slidesPerColumn: 1,
                                slidesPerGroup: 1,
                                watchSlidesProgress: !0,
                                spaceBetween: 0,
                                virtualTranslate: !0
                            };
                            l.extend(this.params, t), l.extend(this.originalParams, t)
                        }
                    }, setTranslate: function () {
                        "fade" === this.params.effect && this.fadeEffect.setTranslate()
                    }, setTransition: function (t) {
                        "fade" === this.params.effect && this.fadeEffect.setTransition(t)
                    }
                }
            }, {
                name: "effect-cube",
                params: {cubeEffect: {slideShadows: !0, shadow: !0, shadowOffset: 20, shadowScale: .94}},
                create: function () {
                    l.extend(this, {
                        cubeEffect: {
                            setTranslate: et.setTranslate.bind(this),
                            setTransition: et.setTransition.bind(this)
                        }
                    })
                },
                on: {
                    beforeInit: function () {
                        if ("cube" === this.params.effect) {
                            this.classNames.push(this.params.containerModifierClass + "cube"), this.classNames.push(this.params.containerModifierClass + "3d");
                            var t = {
                                slidesPerView: 1,
                                slidesPerColumn: 1,
                                slidesPerGroup: 1,
                                watchSlidesProgress: !0,
                                resistanceRatio: 0,
                                spaceBetween: 0,
                                centeredSlides: !1,
                                virtualTranslate: !0
                            };
                            l.extend(this.params, t), l.extend(this.originalParams, t)
                        }
                    }, setTranslate: function () {
                        "cube" === this.params.effect && this.cubeEffect.setTranslate()
                    }, setTransition: function (t) {
                        "cube" === this.params.effect && this.cubeEffect.setTransition(t)
                    }
                }
            }, {
                name: "effect-flip", params: {flipEffect: {slideShadows: !0, limitRotation: !0}}, create: function () {
                    l.extend(this, {
                        flipEffect: {
                            setTranslate: it.setTranslate.bind(this),
                            setTransition: it.setTransition.bind(this)
                        }
                    })
                }, on: {
                    beforeInit: function () {
                        if ("flip" === this.params.effect) {
                            this.classNames.push(this.params.containerModifierClass + "flip"), this.classNames.push(this.params.containerModifierClass + "3d");
                            var t = {
                                slidesPerView: 1,
                                slidesPerColumn: 1,
                                slidesPerGroup: 1,
                                watchSlidesProgress: !0,
                                spaceBetween: 0,
                                virtualTranslate: !0
                            };
                            l.extend(this.params, t), l.extend(this.originalParams, t)
                        }
                    }, setTranslate: function () {
                        "flip" === this.params.effect && this.flipEffect.setTranslate()
                    }, setTransition: function (t) {
                        "flip" === this.params.effect && this.flipEffect.setTransition(t)
                    }
                }
            }, {
                name: "effect-coverflow",
                params: {coverflowEffect: {rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: !0}},
                create: function () {
                    l.extend(this, {
                        coverflowEffect: {
                            setTranslate: nt.setTranslate.bind(this),
                            setTransition: nt.setTransition.bind(this)
                        }
                    })
                },
                on: {
                    beforeInit: function () {
                        "coverflow" === this.params.effect && (this.classNames.push(this.params.containerModifierClass + "coverflow"), this.classNames.push(this.params.containerModifierClass + "3d"), this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0)
                    }, setTranslate: function () {
                        "coverflow" === this.params.effect && this.coverflowEffect.setTranslate()
                    }, setTransition: function (t) {
                        "coverflow" === this.params.effect && this.coverflowEffect.setTransition(t)
                    }
                }
            }, {
                name: "thumbs",
                params: {
                    thumbs: {
                        swiper: null,
                        slideThumbActiveClass: "swiper-slide-thumb-active",
                        thumbsContainerClass: "swiper-container-thumbs"
                    }
                },
                create: function () {
                    l.extend(this, {
                        thumbs: {
                            swiper: null,
                            init: ot.init.bind(this),
                            update: ot.update.bind(this),
                            onThumbClick: ot.onThumbClick.bind(this)
                        }
                    })
                },
                on: {
                    beforeInit: function () {
                        var t = this.params.thumbs;
                        t && t.swiper && (this.thumbs.init(), this.thumbs.update(!0))
                    }, slideChange: function () {
                        this.thumbs.swiper && this.thumbs.update()
                    }, update: function () {
                        this.thumbs.swiper && this.thumbs.update()
                    }, resize: function () {
                        this.thumbs.swiper && this.thumbs.update()
                    }, observerUpdate: function () {
                        this.thumbs.swiper && this.thumbs.update()
                    }, setTransition: function (t) {
                        var e = this.thumbs.swiper;
                        e && e.setTransition(t)
                    }, beforeDestroy: function () {
                        var t = this.thumbs.swiper;
                        t && this.thumbs.swiperCreated && t && t.destroy()
                    }
                }
            }];
        return void 0 === P.use && (P.use = P.Class.use, P.installModule = P.Class.installModule), P.use(rt), P
    }()
}, function (t, e, i) {
}, function (t, e, i) {
    "use strict";
    var n = i(311);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(312);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(313);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(314);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(315);
    i.n(n).a
}, function (t, e, i) {
    "use strict";
    var n = i(316);
    i.n(n).a
}, , , , , , , , , , , , , , , , , , , function (t, e, i) {
    "use strict";
    i.r(e);
    i(27), i(44);
    var n = i(15), o = i(6), r = i(223), a = i(9), s = i.n(a), c = i(77), l = i.n(c), u = i(43), d = i(33), h = i(60),
        f = i.n(h), p = (i(52), i(53), i(28), i(65), i(8)), m = i(4), v = i(7), g = i(229),
        y = (i(12), i(20), i(36), i(17), i(14), i(19), i(24), i(21), i(0)), b = {
            data: function () {
                return {tabList: y.e, selectedIndex: this.defaultIndex}
            }, methods: {
                onTabClick: function (t, e) {
                    this.canClick && (this.selectedIndex = e, this.tabClickHandler(t))
                }
            }, computed: {
                transformX: function () {
                    return 20 + 76 * this.selectedIndex + "px"
                }
            }, props: {
                tabClickHandler: {
                    type: Function, default: function () {
                    }
                }, defaultIndex: {type: Number, default: 0}, canClick: null
            }, watch: {
                defaultIndex: function (t) {
                    this.selectedIndex = t
                }
            }
        }, _ = (i(560), i(1)), w = Object(_.a)(b, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "tab-bar"}, [t._l(t.tabList, (function (e, n) {
                return i("div", {staticClass: "tab"}, [i("a", {
                    staticClass: "tab-text tc-slate",
                    class: {selected: t.selectedIndex === n},
                    on: {
                        click: function (i) {
                            return t.onTabClick(e, n)
                        }
                    }
                }, [t._v(t._s(e.title))])])
            })), i("div", {staticClass: "line", style: {transform: "translateX(" + t.transformX + ")"}})], 2)
        }), [], !1, null, "58304b2a", null).exports,
        C = {props: {loading: {type: Boolean, default: !1}, loadHandler: {type: Function, required: !0}}},
        x = (i(561), Object(_.a)(C, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return this.loading ? e("div", {staticClass: "new-notice-bar"}, [e("p", {staticClass: "message"}, [this._v("正在加载中 …")])]) : e("div", {
                staticClass: "new-notice-bar c-pointer",
                on: {click: this.loadHandler}
            }, [e("p", {staticClass: "message"}, [this._v("有新动态，点击查看")])])
        }), [], !1, null, "fcbb045e", null).exports), k = {
            data: function () {
                return {isLoading: !1}
            },
            mounted: function () {
                var t = this;
                this.domScrollHandlerDebounce = Object(o.b)(this.domScrollHandler, 100), this.scrollDom.addEventListener("scroll", this.domScrollHandlerDebounce, {passive: !0}), m.b.$on(y.b.REMOVE_SCROLL, (function () {
                    t.scrollDom.removeEventListener("scroll", t.domScrollHandlerDebounce, {passive: !0})
                }))
            },
            beforeDestroy: function () {
                this.scrollDom.removeEventListener("scroll", this.domScrollHandlerDebounce, {passive: !0})
            },
            methods: {
                startLoad: function () {
                    var t = this;
                    this.isLoading || (this.isLoading = !0, this.loadMoreHandler((function () {
                        t.isLoading = !1, t.hasMore || t.scrollDom.removeEventListener("scroll", t.domScrollHandlerDebounce, {passive: !0})
                    })))
                }, domScrollHandler: function () {
                    var t = this.scrollDom.scrollTop;
                    this.isReachBottom(t, this.scrollDom) && this.hasMore && this.startLoad()
                }, isReachBottom: function (t, e) {
                    var i = t, n = e, o = n.offsetHeight;
                    e !== window && e !== window.document || (i = Math.max(document.documentElement.scrollTop, document.body.scrollTop), n = document.documentElement || document.body, o = window.innerHeight), i = Math.ceil(i);
                    var r = Math.max(n.scrollHeight, i), a = window.innerHeight;
                    return 0 !== i && i + o >= r - a || 0 === i && r <= o + a
                }
            },
            computed: {
                text: function () {
                    return this.isLoading ? "正在加载..." : "加载更多"
                }
            },
            props: {
                loadMoreHandler: {type: Function, required: !0},
                hasMore: {type: Boolean, required: !0},
                scrollDom: {
                    type: null, default: function () {
                        return window
                    }
                }
            }
        }, I = (i(562), Object(_.a)(k, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return i("div", {staticClass: "div-load-more tc-slate"}, [t.hasMore ? i("div", {
                staticClass: "load-more",
                on: {click: t.startLoad}
            }, [i("span", [t._v(t._s(t.text))])]) : t._e(), t.hasMore ? t._e() : i("div", {staticClass: "no-more"}, [i("img", {
                staticClass: "end-img",
                attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/end.png"}
            }), i("p", {staticClass: "end-text"}, [t._v("你已经到达了世界的尽头")])])])
        }), [], !1, null, "b6994470", null).exports), S = (i(18), function (t, e, i) {
            i = void 0 !== i ? i : 365;
            var n = new Date;
            n.setTime(n.getTime() + 24 * i * 60 * 60 * 1e3), document.cookie = t + "=" + escape(e) + ";expires=" + n.toGMTString() + "; path=/; domain=.bilibili.com"
        }), O = i(2), T = i(32), E = i.n(T);

    function P(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function L(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? P(Object(i), !0).forEach((function (e) {
                j(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : P(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function j(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    function A(t) {
        return function (t) {
            if (Array.isArray(t)) return M(t)
        }(t) || function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t)
        }(t) || function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return M(t, e);
            var i = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === i && t.constructor && (i = t.constructor.name);
            if ("Map" === i || "Set" === i) return Array.from(t);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return M(t, e)
        }(t) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function M(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
        return n
    }

    var D, B, N = {}, R = {}, $ = {}, H = [], z = Math.random().toString().slice(2, 8), U = {
        data: function () {
            return {
                isLoading: !0,
                isShowRefresh: !1,
                currentType: 0,
                showNewNotice: !1,
                noticeLoading: !1,
                cardInfoList: [],
                tempInfoList: [],
                latestId: 0,
                oldestId: 0,
                mostViewedOffset: 0,
                hasMore: !0,
                isInit: !1,
                hasHiddenCard: !1,
                pageNum: 1,
                redirectIndex: -1,
                HOST: O.a,
                isShowLog: !1,
                liveCardInfoList: [],
                foldItems: $,
                limitedFoldInfo: [],
                regString: ""
            }
        },
        props: {
            pageType: {type: String, default: y.c.MAIN},
            loginUid: {type: Number, default: 0},
            uid: {type: Number, default: 0},
            scrollDom: {
                type: null, default: function () {
                    return window
                }
            },
            tab: {type: [Number, String], default: y.a.ALL},
            tabSwitchHandler: {
                type: Function, default: function () {
                }
            },
            isNeedCardPopup: {type: Boolean, default: !0},
            maxShowAmount: {type: Number},
            popupDom: {}
        },
        mounted: function () {
            this.scrollHandlerDebounce = Object(o.b)(this.scrollHandler, 100), this.getWhiteList(), this.isMainPage ? this.currentType = this.getDefaultType() : this.isSpacePage ? Object(v.c)("333.49", "000391", "000502", {}) : this.isLivePage && Object(v.c)("444.46", "000391", "000502", {}), this.startLoadingTimer(), this.init(), this.initEvents()
        },
        beforeDestroy: function () {
            this.removeTimer(), this.stopLoadingTimer(), this.removeEvents()
        },
        components: {Card: g.a, TabBar: w, NewNoticeBar: x, LoadMore: I},
        methods: {
            handleExpandCards: function (t) {
                for (var e = this.limitedFoldInfo.splice(t, 1)[0], i = 0; i < this.cardInfoList.length; i++) {
                    var n;
                    if (this.cardInfoList[i].foldKey === e.foldKey) return void (n = this.cardInfoList).splice.apply(n, [i, 1].concat(A(e.saveList)))
                }
            }, startLoadingTimer: function () {
                var t = this;
                B = setTimeout((function () {
                    t.isLoading && (t.isShowRefresh = !0)
                }), 1e4)
            }, stopLoadingTimer: function () {
                B && (clearTimeout(B), B = null)
            }, getWhiteList: function () {
                var t = this;
                this.bpapi({
                    method: "get",
                    url: "".concat(O.a.API_MAIN, "/x/web-interface/param"),
                    data: {key: "web_scheme_whitelist"}
                }).then((function (e) {
                    t.regString = e.data.value
                }))
            }, getDefaultType: function () {
                var t = this, e = y.a.ALL;
                return y.e.forEach((function (i) {
                    String(i.type) === String(t.tab) && (e = i.type)
                })), e
            }, init: function () {
                var t = this;
                !this.uid && !this.isGuest || this.isInit || (this.loginUid ? this.getLoginInfo().then(this.getMyUserInfo).then(this.getAttentionList).then(this.getFeedListInfo) : this.isGuest ? (y.e.forEach((function (e, i) {
                    String(e.type) === String(y.a.HOT) && (t.redirectIndex = i)
                })), this.currentType = y.a.HOT, this.tabSwitchHandler(this.currentType), this.getFeedListInfo()) : this.getFeedListInfo(), this.isInit = !0)
            }, getLoginInfo: function () {
                return m.r.isInitMyLoginInfo ? Promise.resolve(0) : E.a.get().then((function (t) {
                    m.r.setMyLoginInfo(t.data)
                }), (function () {
                    return m.r.resetMyLoginInfo(), 0
                }))
            }, getMyUserInfo: function () {
                return m.r.isInitMyUserInfo ? Promise.resolve(0) : this.bpapi({
                    url: O.a.API_MAIN + "/x/web-interface/card",
                    method: "get",
                    data: {mid: m.r.getUid(), photo: !0}
                }).then((function (t) {
                    m.r.setMyUserInfo(t.data)
                }), (function () {
                    return m.r.resetMyUserInfo(), 0
                }))
            }, getAttentionList: function () {
                return m.r.isInitMyAttentionList ? Promise.resolve(0) : this.bpapi({
                    method: "get",
                    url: "".concat(O.a.API_VC, "/feed/v1/feed/get_attention_list"),
                    data: {uid: m.r.getUid()}
                }).then((function (t) {
                    m.r.setMyAttentionList(t.data.list)
                }), (function () {
                    return m.r.resetMyAttentionList(), 0
                }))
            }, onUnfold: function (t) {
                var e, i = t.index, n = t.ids;
                if (n.length) {
                    var o = [];
                    n.forEach((function (t) {
                        o.push($[t])
                    })), (e = this.cardInfoList).splice.apply(e, [i, 1].concat(o))
                }
            }, concatFeedList: function (t, e) {
                var i = t.fold_mgr, n = t.cards || [], o = [];
                if (i && i.length > 0) {
                    var r = 1;
                    i.forEach((function (t) {
                        r = t.fold_type, t.folds.forEach((function (t) {
                            var e = t.dynamic_ids || [], i = e[0];
                            N[i] = {allIds: e, type: r}, e.forEach((function (t) {
                                R[t] = i
                            }))
                        }))
                    })), n.forEach((function (t) {
                        var e = t.desc.dynamic_id || "0";
                        e in N ? (o.push(L(L({}, t), {}, {
                            allIds: N[e].allIds,
                            foldType: N[e].type
                        })), $[e] = t) : e in R ? $[e] = t : o.push(t)
                    }))
                } else o = n;
                e ? (this.cardInfoList = o.concat(this.cardInfoList), H = n.concat(H)) : (this.cardInfoList = this.cardInfoList.concat(o), H = H.concat(n))
            }, getFeedListInfo: function () {
                this.isGuest ? this.getUnloginList() : this.isMainPage ? this.uid !== this.loginUid ? this.getPersonalFeedList() : this.isHotTab ? (0 === this.cardInfoList.length && Object(v.d)(y.d.PAGE_HOTSHOW, {tab_type: "hot"}), this.getHotList()) : this.getFirstList() : this.getSpaceList()
            }, getHotList: function () {
                var t = this;
                if (!(this.isLoading && this.pageNum > 1)) return this.isLoading = !0, this.bpapi({
                    method: "get",
                    url: "".concat(O.a.API_VC, "/dynamic_svr/v1/dynamic_svr/recommend"),
                    data: {uid: this.uid, page: this.pageNum}
                }).then((function (e) {
                    t.isLoading = !1, Array.isArray(e.data.cards) && e.data.cards.length > 0 ? (t.concatFeedList(e.data), t.pageNum++, t.hasMore = e.data.has_more > 0) : t.hasMore = !1
                }), (function () {
                    return t.isLoading = !1, t.hasMore = !1, 0
                }))
            }, getUnloginList: function () {
                var t = this;
                return this.isLoading = !0, this.bpapi({
                    method: "get",
                    url: "".concat(O.a.API_VC, "/dynamic_svr/v1/dynamic_svr/unlogin_dynamics"),
                    data: {fake_uid: z, hot_offset: this.oldestId}
                }).then((function (e) {
                    t.isLoading = !1, Array.isArray(e.data.cards) && e.data.cards.length > 0 ? (t.concatFeedList(e.data), t.pageNum++, t.hasMore = e.data.has_more > 0, t.updateList(!0)) : t.hasMore = !1
                }), (function () {
                    return t.isLoading = !1, t.hasMore = !1, 0
                }))
            }, getFirstList: function () {
                var t = this;
                this.isLoading = !0;
                var e = this.currentType;
                this.bpapi({
                    method: "get",
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/dynamic_new",
                    data: {uid: this.uid, type_list: e, from: e === y.a.ALL ? "weball" : "", platform: "web"}
                }).then((function (i) {
                    if (t.uid === t.loginUid) {
                        t.isLoading = !1;
                        var n = i.data, o = n.inplace_fold;
                        (null == o ? void 0 : o.length) && o.forEach((function (e) {
                            for (var i = n.cards, o = function (n) {
                                if (i[n].desc.dynamic_id_str === e.dynamic_ids[0]) {
                                    var o = Math.random().toString(),
                                        r = i.splice(n, e.dynamic_ids.length, L(L({}, (a = JSON.parse(JSON.stringify(i[n])), (s = JSON.parse(a.card)).user.face = "", a.card = JSON.stringify(s), a.desc.user_profile.info.face = "", a)), {}, {foldKey: o}));
                                    t.limitedFoldInfo.push({foldKey: o, saveList: r, index: n, foldMsg: e.statement})
                                }
                                var a, s
                            }, r = 0; r < i.length; r++) o(r)
                        })), m.q.set("dynamic_cards_".concat(t.uid, "_").concat(e), n.cards), t.concatFeedList(n), t.latestId = n.max_dynamic_id, t.oldestId = n.history_offset, t.updateList(), t.hasMore = n.exist_gap > 0, t.initTimer(), t.computedCardInfoList.length < 5 && n.exist_gap > 0 && t.getHistoryList(), S("bp_t_offset_" + t.uid, t.latestId, 30)
                    }
                }), (function (i) {
                    if (t.isLoading = !1, -6 !== i.code && 500002 !== i.code) {
                        var n = m.q.get("dynamic_cards_".concat(t.uid, "_").concat(e));
                        t.cardInfoList = Object(o.e)(n) || [], t.updateList(!0), t.computedCardInfoList.length >= 5 ? (t.initTimer(), t.hasMore = !0) : t.computedCardInfoList.length > 0 && t.computedCardInfoList.length < 5 && (t.initTimer(), t.getHistoryList())
                    }
                }))
            }, getHistoryList: function () {
                var t = this;
                if (!this.isLoading) return this.isLoading = !0, this.bpapi({
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/dynamic_history",
                    method: "get",
                    data: {
                        uid: this.uid,
                        offset_dynamic_id: this.oldestId,
                        type: this.currentType,
                        from: this.currentType === y.a.ALL ? "weball" : "",
                        platform: "web"
                    }
                }).then((function (e) {
                    t.isLoading = !1, t.concatFeedList(e.data), t.oldestId = e.data.next_offset, t.updateList(), t.hasMore = e.data.has_more > 0
                }), (function () {
                    return t.isLoading = !1, t.hasMore = !1, 0
                }))
            }, getSpaceList: function () {
                var t = this;
                if (!this.isLoading || !this.oldestId) return this.isLoading = !0, this.bpapi({
                    method: "get",
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/space_history",
                    data: {
                        visitor_uid: this.loginUid,
                        host_uid: this.uid,
                        offset_dynamic_id: this.oldestId,
                        need_top: 1,
                        platform: "web"
                    }
                }).then((function (e) {
                    t.isLoading = !1;
                    var i = e.data, n = i.inplace_fold;
                    if ((null == n ? void 0 : n.length) && n.forEach((function (e) {
                        for (var n = i.cards, o = function (i) {
                            if (n[i].desc.dynamic_id_str === e.dynamic_ids[0]) {
                                var o = Math.random().toString(),
                                    r = n.splice(i, e.dynamic_ids.length, L(L({}, (a = JSON.parse(JSON.stringify(n[i])), (s = JSON.parse(a.card)).user.face = "", a.card = JSON.stringify(s), a.desc.user_profile.info.face = "", a)), {}, {foldKey: o}));
                                t.limitedFoldInfo.push({foldKey: o, saveList: r, index: i, foldMsg: e.statement})
                            }
                            var a, s
                        }, r = 0; r < n.length; r++) o(r)
                    })), t.concatFeedList(i), t.maxShowAmount && (t.hasHiddenCard = t.cardInfoList.length > t.maxShowAmount, t.cardInfoList = t.cardInfoList.slice(0, t.maxShowAmount)), t.oldestId = e.data.next_offset, t.updateList(), t.hasMore = i.has_more > 0, t.computedCardInfoList.length < 5 && i.has_more > 0) return t.getSpaceList()
                }), (function () {
                    return t.isLoading = !1, 0
                }))
            }, getPersonalFeedList: function () {
                var t = this;
                if (!this.isLoading || !this.mostViewedOffset) return this.isLoading = !0, this.removeTimer(), this.tempPersonalFeedUid = this.uid, this.bpapi({
                    method: "get",
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/w_dyn_personal",
                    data: {host_uid: this.uid, offset: this.mostViewedOffset || ""}
                }).then((function (e) {
                    if (t.tempPersonalFeedUid === t.uid) {
                        t.stopLoadingTimer(), t.isLoading = !1;
                        var i = e.data;
                        t.concatFeedList(i), t.oldestId = e.data.offset, t.updateList(), t.mostViewedOffset = i.offset, t.hasMore = i.has_more > 0
                    }
                }), (function () {
                    return t.isLoading = !1, 0
                }))
            }, initEvents: function () {
                this.isMainPage ? m.b.$on(y.b.ADD, this.addHandler) : this.isLivePage && window.addEventListener("scroll", this.scrollHandlerDebounce, {passive: !0})
            }, removeEvents: function () {
                this.isMainPage ? m.b.$off(y.b.ADD, this.addHandler) : window.removeEventListener("scroll", this.scrollHandlerDebounce, {passive: !0})
            }, initTimer: function () {
                this.removeTimer(), D = setInterval(this.noticeTick, 3e4)
            }, removeTimer: function () {
                D && (clearInterval(D), D = null)
            }, noticeTick: function () {
                var t = ["hidden", "mozHidden", "msHidden", "webkitHidden"].filter((function (t) {
                    return void 0 !== document[t]
                }))[0];
                document[t] || this.checkNewNotice()
            }, checkNewNotice: function () {
                var t = this;
                this.bpapi({
                    method: "get",
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/web_cyclic_num",
                    data: {type_list: this.currentType, offset: this.latestId}
                }).then((function (e) {
                    e.data.update_num > t.tempInfoList.length && (t.showNewNotice = !0, t.removeTimer())
                }), (function () {
                }))
            }, updateList: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                if (t) if (this.computedCardInfoList.length > 0) {
                    if (H.length < 1) return;
                    this.latestId = H[0].desc.dynamic_id || 0, this.oldestId = H[H.length - 1].desc.dynamic_id || 0
                } else this.latestId = 0, this.oldestId = 0;
                this.$nextTick((function () {
                    m.b.$emit(y.b.SCROLL)
                }))
            }, loadMoreHandler: function (t) {
                this.isGuest ? this.getUnloginList().then(t) : this.isMainPage ? this.uid !== this.loginUid ? this.getPersonalFeedList().then(t) : this.isHotTab ? this.getHotList().then(t) : this.getHistoryList().then(t) : this.getSpaceList().then(t)
            }, noticeLoadHandler: function () {
                var t = this;
                this.noticeLoading = !0;
                var e = this.currentType;
                this.bpapi({
                    method: "get",
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/dynamic_new",
                    data: {
                        uid: this.uid,
                        type_list: e,
                        current_dynamic_id: this.latestId,
                        from: e === y.a.ALL ? "weball" : "",
                        platform: "web"
                    }
                }).then((function (i) {
                    var n = i.data, o = n.inplace_fold;
                    (null == o ? void 0 : o.length) && o.forEach((function (e) {
                        for (var i = n.cards, o = function (n) {
                            if (i[n].desc.dynamic_id_str === e.dynamic_ids[0]) {
                                var o = Math.random().toString(),
                                    r = i.splice(n, e.dynamic_ids.length, L(L({}, (a = JSON.parse(JSON.stringify(i[n])), (s = JSON.parse(a.card)).user.face = "", a.card = JSON.stringify(s), a.desc.user_profile.info.face = "", a)), {}, {foldKey: o}));
                                t.limitedFoldInfo.push({foldKey: o, saveList: r, index: n, foldMsg: e.statement})
                            }
                            var a, s
                        }, r = 0; r < i.length; r++) o(r)
                    })), t.noticeLoading = !1;
                    var r = n.cards || [];
                    t.showNewNotice = !1, t.tempInfoList.forEach((function (e) {
                        m.q.delete("dynamic_cards_".concat(t.uid, "_").concat(y.a.ALL), e)
                    })), t.tempInfoList = [], m.q.addList("dynamic_cards_".concat(t.uid, "_").concat(e), r), t.concatFeedList(n, !0), t.initTimer(), t.latestId = i.data.max_dynamic_id, t.updateList(), m.b.$emit(y.b.LOAD_NOTICE)
                }), (function () {
                    t.noticeLoading = !1
                }))
            }, scrollHandler: function () {
                if (this.isShowLog) window.removeEventListener("scroll", this.scrollHandlerDebounce, {passive: !0}); else {
                    var t = this.$refs.feedCard;
                    if (t) t.getBoundingClientRect().top < window.innerHeight + 10 && (Object(v.d)(y.d.LIVEVIEW), this.isShowLog = !0)
                }
            }, addHandler: function (t) {
                var e = this;
                y.e.forEach((function (i) {
                    String(i.type) !== String(y.a.ALL) && String(i.type) !== String(t.desc.type) || m.q.add("dynamic_cards_".concat(e.uid, "_").concat(i.type), t)
                })), t.desc.type !== this.currentType && this.currentType !== y.a.ALL || this.loginUid !== this.uid || (this.tempInfoList.unshift(t), this.updateList(!0))
            }, deleteHandler: function (t) {
                var e = this, i = function () {
                    var i = [];
                    e.cardInfoList.forEach((function (e) {
                        var n = e.desc.dynamic_id;
                        if (n === t.desc.dynamic_id) {
                            if (n in N && N[n].allIds.length > 1) {
                                var o = N[n].allIds, r = o.slice(1 - o.length), a = r[0];
                                N[a] = L(L({}, N[n]), {}, {allIds: r}), i.push(L(L({}, $[a]), {}, {
                                    allIds: r,
                                    foldType: N[n].type
                                })), delete N[n], delete R[n], delete $[n], r.forEach((function (t) {
                                    R[t] = a
                                }))
                            }
                        } else i.push(e)
                    })), e.cardInfoList = i
                };
                if (this.isMainPage) {
                    if (t.desc.type !== this.currentType && this.currentType !== y.a.ALL) return;
                    i(), this.tempInfoList = this.tempInfoList.filter((function (e) {
                        return e.desc.dynamic_id !== t.desc.dynamic_id
                    })), this.updateList(!0)
                } else i(), this.liveCardInfoList = this.liveCardInfoList.filter((function (e) {
                    return e.desc.dynamic_id !== t.desc.dynamic_id
                })), this.updateList(!0)
            }, tabClickHandler: function (t) {
                this.currentType !== t.type && (this.removeTimer(), this.showNewNotice = !1, this.cardInfoList = [], this.tempInfoList = [], this.latestId = 0, this.oldestId = 0, this.mostViewedOffset = 0, this.hasMore = !0, this.pageNum = 1, this.isShowRefresh = !1, this.currentType = t.type, this.tabSwitchHandler(this.currentType), Object(v.d)(y.d.TAB_CLICK, t.spmType), this.getFeedListInfo())
            }, generateUniqueKey: function (t) {
                return t.desc.dynamic_id ? t.desc.dynamic_id : t.desc.timestamp + "" + t.desc.uid
            }, checkIsSelf: function (t) {
                return !(!t.desc || !t.desc.uid) && t.desc.uid === this.loginUid
            }, checkAmount: function (t) {
                return !this.maxShowAmount || t < this.maxShowAmount
            }, refresh: function () {
                window.location.reload()
            }, getCardCurrentType: function (t) {
                return this.isMainPage ? this.uid !== this.loginUid ? y.a.QUICK : t.desc.type : this.isGuest ? y.a.HOT : 0
            }, getLivePlaybackType: function (t) {
                try {
                    return 2 === t.desc.stype ? 0 : 1
                } catch (t) {
                    return 1
                }
            }, isLivePlayback: function (t) {
                return this.currentType === y.a.ALL || (2 !== t.desc.stype || 8 !== t.desc.type)
            }
        },
        computed: {
            isHotTab: function () {
                return this.currentType === y.a.HOT
            }, isMainPage: function () {
                return this.pageType === y.c.MAIN
            }, isGuest: function () {
                return this.pageType === y.c.GUEST
            }, isSpacePage: function () {
                return this.pageType === y.c.SPACE
            }, isLivePage: function () {
                return this.pageType === y.c.LIVE
            }, defaultIndex: function () {
                var t = this;
                if (this.redirectIndex > -1) return this.redirectIndex;
                var e = 0;
                return y.e.forEach((function (i, n) {
                    String(i.type) === String(t.tab) && (e = n)
                })), e
            }, isEmpty: function () {
                return 0 === this.allInfoList.length && !this.hasHiddenCard
            }, emptyText: function () {
                return this.isMainPage ? "好像没有东西诶，点击全部去逛逛吧" : "哦呀，TA还没有动态呢~"
            }, computedCardInfoList: function () {
                var t = this;
                return this.cardInfoList.filter((function (e) {
                    return t.isMainPage ? e.desc.type !== y.a.DRAMA && t.isLivePlayback(e) : e.desc.type !== y.a.DRAMA
                }))
            }, hasTopCard: function () {
                return 1 == ((this.allInfoList[0] || {}).extra || {}).is_space_top
            }, allInfoList: function () {
                return this.tempInfoList.concat(this.computedCardInfoList)
            }, hotHref: function () {
                return "".concat(O.a.T, "/?tab=").concat(y.a.ALL)
            }, showLoading: function () {
                return this.isLoading && this.isEmpty
            }
        },
        watch: {
            uid: function (t) {
                this.isInit = !1, this.isLoading = !0, this.showNewNotice = !1, this.cardInfoList = [], this.tempInfoList = [], this.latestId = 0, this.oldestId = 0, this.mostViewedOffset = 0, this.hasMore = !0, this.isShowRefresh = !1, this.init()
            }
        }
    }, F = (i(563), Object(_.a)(U, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            ref: "feedCard",
            staticClass: "feed-card"
        }, [t.isMainPage && this.uid === this.loginUid ? i("tab-bar", {
            attrs: {
                "default-index": t.defaultIndex,
                "tab-click-handler": t.tabClickHandler,
                "can-click": !t.isLoading
            }
        }) : t._e(), t.showLoading ? i("div", {staticClass: "loading-content bg-white"}, [t.isShowRefresh ? i("div", {staticClass: "loading-text tc-slate"}, [i("span", [t._v("加载超时，")]), i("a", {
            staticClass: "tc-blue-hover c-pointer",
            on: {click: t.refresh}
        }, [t._v("点击这里")]), i("span", [t._v("试试刷新？")])]) : i("div", {staticClass: "loading-text tc-slate"}, [i("img", {
            staticClass: "loading-img",
            attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/loading.png"}
        }), i("span", [t._v("loading...")])])]) : t.isEmpty ? i("div", {
            staticClass: "empty-content",
            style: {"border-radius": t.isSpacePage ? "4px" : "8px"}
        }, [i("img", {
            staticClass: "empty-img",
            attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/empty.png"}
        }), t.isMainPage ? i("div", {staticClass: "empty-text"}, [i("span", {staticClass: "tc-slate c-default"}, [t._v("好像没有东西诶，点击")]), i("a", {
            staticClass: "tc-blue-hover c-pointer",
            attrs: {href: t.hotHref}
        }, [t._v("全部")]), i("span", {staticClass: "tc-slate c-default"}, [t._v("去逛逛吧")])]) : i("p", {staticClass: "empty-text tc-slate"}, [t._v("哦呀，TA还没有动态呢~")])]) : i("div", {staticClass: "content"}, [this.uid === this.loginUid && t.showNewNotice ? i("new-notice-bar", {
            attrs: {
                "load-handler": t.noticeLoadHandler,
                loading: t.noticeLoading
            }
        }) : t._e(), t.isGuest ? i("div", {staticClass: "feed-title"}, [t._v("热门动态")]) : t._e(), t.hasTopCard ? i("div", {staticClass: "feed-title"}, [t._v("置顶")]) : t._e(), t._l(t.allInfoList, (function (e, n) {
            return i("card", {
                key: t.generateUniqueKey(e),
                class: {"first-card-with-title": 0 === n && (t.hasTopCard || t.isGuest)},
                attrs: {
                    "card-info": e,
                    "is-self": t.checkIsSelf(e),
                    "page-type": t.pageType,
                    "scroll-dom": t.scrollDom,
                    idx: n,
                    "current-type": t.getCardCurrentType(e) * t.getLivePlaybackType(e),
                    "is-need-card-popup": t.isNeedCardPopup,
                    "popup-dom": t.popupDom,
                    "fold-items": t.foldItems,
                    regString: t.regString,
                    "limited-fold-info": t.limitedFoldInfo
                },
                on: {unfold: t.onUnfold, delete: t.deleteHandler, expandCards: t.handleExpandCards}
            })
        })), t.maxShowAmount ? [i("div", {staticClass: "bottom p-rel w-100 t-center fs-14"}, [i("img", {
            staticClass: "bp-v-middle",
            attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/end.png"}
        }), t.hasHiddenCard ? i("a", {
            staticClass: "p-abs tc-slate",
            attrs: {href: t.HOST.SPACE + "/" + t.uid + "/dynamic", target: "_blank"}
        }, [t._v("更多动态去TA的个人空间看看吧~")]) : i("p", {staticClass: "p-abs tc-slate"}, [t._v("没有更多动态啦~")])])] : i("load-more", {
            attrs: {
                "load-more-handler": t.loadMoreHandler,
                "has-more": t.hasMore,
                "max-show-amount": t.maxShowAmount,
                "scroll-dom": t.scrollDom
            }
        })], 2)], 1)
    }), [], !1, null, "d3869974", null).exports);
    i(54);
    s.a.use(n.b);
    var V = F, G = i(282), W = i(283), q = i(222), J = (i(70), {
        data: function () {
            return {noticeContent: "", noticeUrl: "", noticeImg: ""}
        }, computed: {
            hasImg: function () {
                return "" !== this.noticeImg
            }, showUrl: function () {
                return "" !== this.noticeUrl
            }, hasContent: function () {
                return "" !== this.noticeContent
            }, noticeImgStyle: function () {
                return "background-image: url(".concat(this.noticeImg, ")")
            }
        }, methods: {
            openNoticeUrl: function () {
                Object(v.d)(y.d.NEWS_BANNER, "")
            }, getBanner: function () {
                var t = this;
                this.bpapi({
                    method: "get",
                    url: "".concat(O.a.API_VC, "/banner_svr/v1/banner_svr/show"),
                    data: {platform: 1, position: "web动态"}
                }).then((function (e) {
                    var i = e.data.banners;
                    if (i && i.length > 0) {
                        var n = i[0];
                        t.noticeContent = n.title || "", t.noticeUrl = n.link || "", t.noticeImg = n.img_url || "", t.noticeImg && t.$emit("hasBanner")
                    }
                }))
            }
        }, mounted: function () {
            this.getBanner()
        }
    }), Y = (i(573), Object(_.a)(J, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return t.hasImg ? i("div", {staticClass: "notice-panel"}, [i("p", {staticClass: "title tc-black fs-14 ls-0"}, [t._v("公告栏")]), t.showUrl ? i("a", {
            staticClass: "img-container",
            attrs: {href: t.noticeUrl, target: "_blank", title: t.noticeContent}
        }, [i("div", {
            staticClass: "notice-img c-pointer",
            style: t.noticeImgStyle,
            on: {click: t.openNoticeUrl}
        })]) : t._e(), t.showUrl ? t._e() : i("div", {
            staticClass: "img-container",
            attrs: {title: t.noticeContent}
        }, [i("div", {
            staticClass: "notice-img c-pointer",
            style: t.noticeImgStyle,
            on: {click: t.openNoticeUrl}
        })])]) : t._e()
    }), [], !1, null, "64440e39", null).exports), K = (i(31), i(41)), Z = {
        props: {userInfo: Object, index: Number, testGroup: {type: String, default: "default"}},
        mounted: function () {
            Object(v.d)(y.d.LIVE_GROUP_TEST_VIEW, {
                test: this.testGroup,
                uid: this.userInfo.user_uid,
                index: this.index
            }), Object(K.a)(this.userInfo.user_uid, document.body, this.$refs.username), Object(K.a)(this.userInfo.user_uid, document.body, this.$refs.userhead)
        },
        methods: {
            onHeadClick: function (t) {
                Object(v.d)(y.d.LIVE_HEAD, {uid: t, profile_picture_serial_num: this.index + 1}), this.onItemClick()
            }, getBfsUserHead: function (t) {
                return Object(o.g)(Object(p.bfsImgLink)(t.user_head || "//static.hdslb.com/images/member/noface.gif", 50, 50))
            }, onNameClick: function (t) {
                Object(v.d)(y.d.LIVE_NICKNAME, {uid: t, profile_picture_serial_num: this.index + 1}), this.onItemClick()
            }, onLiveNameClick: function (t) {
                Object(v.d)(y.d.LIVE_TITLE, t), this.onItemClick()
            }, onItemClick: function () {
                Object(v.d)(y.d.LIVE_GROUP_TEST_CLICK, {
                    test: this.testGroup,
                    uid: this.userInfo.user_uid,
                    index: this.index
                })
            }
        }
    }, X = (i(575), {
        data: function () {
            return {liveList: [], isLoading: !0, HOST: O.a, liveCount: 0, testGroup: "default"}
        }, components: {
            LivePanelItem: Object(_.a)(Z, (function () {
                var t = this, e = t.$createElement, i = t._self._c || e;
                return i("div", {
                    ref: "panel",
                    staticClass: "live-panel-item live-up",
                    style: {"margin-bottom": t.userInfo.room_title ? "20px" : "8px"}
                }, [i("a", {
                    ref: "userhead",
                    staticClass: "live-up-img",
                    style: {"background-image": "url(" + t.getBfsUserHead(t.userInfo) + ")"},
                    attrs: {href: t.userInfo.room_link, target: "_blank"},
                    on: {
                        click: function (e) {
                            return t.onHeadClick(t.userInfo.user_uid)
                        }
                    }
                }), i("a", {
                    staticClass: "live-detail ls-0",
                    attrs: {href: t.userInfo.room_link, target: "_blank"}
                }, [i("div", {
                    ref: "username", staticClass: "up-name line-clamp-1", on: {
                        click: function (e) {
                            return t.onNameClick(t.userInfo.user_uid)
                        }
                    }
                }, [t._v(t._s(t.userInfo.user_name))]), t.userInfo.room_title ? i("div", {
                    staticClass: "live-name line-clamp-2",
                    on: {
                        click: function (e) {
                            return t.onLiveNameClick(t.userInfo.user_uid)
                        }
                    }
                }, [t._v(t._s(t.userInfo.room_title))]) : t._e()])])
            }), [], !1, null, "2284ddc9", null).exports
        }, mounted: function () {
            this.getLiveList()
        }, computed: {
            isEmpty: function () {
                return 0 === this.liveList.length
            }
        }, methods: {
            getLiveList: function () {
                var t = this;
                this.bpapi({
                    method: "get",
                    url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/w_live_users",
                    data: {size: 10}
                }).then((function (e) {
                    t.liveCount = e.data.count, t.testGroup = e.data.group, t.liveList = (e.data.items || []).slice(0, 10).map((function (t) {
                        return {
                            user_name: t.uname,
                            user_head: t.face,
                            room_link: t.link,
                            room_title: t.title,
                            user_uid: t.uid
                        }
                    })), t.isLoading = !1, t.liveList.length > 0 && Object(v.d)(y.d.LIVE_SHOW, {live_num: t.liveList.length})
                })).catch((function () {
                    t.liveList = [], t.isLoading = !1
                }))
            }, onShowMoreClick: function () {
                Object(v.d)(y.d.LIVE_MORE, "")
            }
        }
    }), Q = (i(576), Object(_.a)(X, (function () {
        var t = this, e = t.$createElement, n = t._self._c || e;
        return t.liveList.length > 0 ? n("div", {staticClass: "live-panel"}, [n("p", {staticClass: "title"}, [n("span", {staticClass: "tc-black ls-0"}, [t._v("正在直播")]), n("span", {
            staticClass: "count fs-14 ls-0",
            domProps: {textContent: t._s(t.liveCount ? "（" + t.liveCount + "）" : "")}
        })]), n("div", {staticClass: "more-button c-pointer"}, [n("a", {
            staticClass: "more tc-slate",
            attrs: {href: t.HOST.LINK + "/p/center/index#/user-center/follow/1", target: "_blank"},
            on: {click: t.onShowMoreClick}
        }, [t._v("更多")])]), t.isLoading ? n("div", {staticClass: "loading-content"}, [t._m(0)]) : t.isEmpty ? n("div", {staticClass: "empty-content"}, [n("img", {
            staticClass: "empty-img",
            attrs: {src: i(574)}
        }), n("p", {staticClass: "empty-text tc-slate"}, [t._v("当前没有主播在直播哦~")])]) : n("div", {staticClass: "live-up-list"}, t._l(t.liveList, (function (e, i) {
            return n("live-panel-item", {key: e.user_uid, attrs: {index: i, "user-info": e, testGroup: t.testGroup}})
        })), 1)]) : t._e()
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "loading-text tc-slate"}, [e("img", {
            staticClass: "loading-img",
            attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/loading.png"}
        }), e("span", [this._v("loading...")])])
    }], !1, null, "420e12aa", null).exports), tt = i(461), et = (i(578), {
        components: {Swiper: tt.swiper, SwiperSlide: tt.swiperSlide}, data: function () {
            return {hidden: !1, list: [], currentIndex: 0, locId: 4358}
        }, computed: {
            SwiperOptions: function () {
                return {
                    watchOverflow: !0,
                    pagination: {el: ".swiper-pagination", clickable: !0},
                    direction: "horizontal",
                    autoplay: {delay: 5e3, disableOnInteraction: !1},
                    autoplayDisableOnInteraction: !1,
                    loop: this.list.length > 1,
                    slidesPerView: 1,
                    initialSlide: 0,
                    spaceBetween: 24,
                    mousewheel: !0,
                    on: {}
                }
            }
        }, created: function () {
            this.getAd()
        }, methods: {
            getAd: function () {
                var t = this;
                this.bpapi({
                    method: "get",
                    url: "//api.bilibili.com/x/web-show/res/locs",
                    data: {pf: 0, ids: this.locId}
                }).then((function (e) {
                    t.list = (e.data[t.locId] || []).filter((function (t) {
                        return !1 === t.null_frame || t.is_ad_loc && t.ad_cb
                    })), t.hidden = 0 === t.list.length, t.hidden || setTimeout((function () {
                        t.onReport()
                    }), 0)
                })).catch((function (e) {
                    t.hidden = !0
                }))
            }, handleChange: function () {
                this.currentIndex = this.$refs.swiper.swiper.activeIndex, this.onReport()
            }, handleClose: function () {
                var t, e;
                this.hidden = !0, null === (t = window.BiliCm) || void 0 === t || null === (e = t.Base) || void 0 === e || e.sendCloseData(this.list[this.currentIndex], this.locId)
            }, onReport: function () {
                m.b.$emit("slide-show", {el: this.$refs.panel, data: this.list[this.currentIndex], locId: this.locId})
            }
        }
    }), it = (i(579), Object(_.a)(et, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {
            directives: [{name: "show", rawName: "v-show", value: !t.hidden, expression: "!hidden"}],
            ref: "panel",
            staticClass: "ad-panel"
        }, [i("Swiper", {
            ref: "swiper",
            staticClass: "ad-swiper",
            attrs: {options: t.SwiperOptions},
            on: {slideChange: t.handleChange}
        }, [t._l(t.list, (function (e, n) {
            return [i("SwiperSlide", {key: n, staticClass: "ad-slide"}, [i("a", {
                directives: [{
                    name: "adReport",
                    rawName: "v-adReport",
                    value: {data: e, locId: t.locId, noExposure: !0},
                    expression: "{data: item, locId: locId, noExposure: true}"
                }], staticClass: "ad-item", attrs: {target: "_blank"}
            }, [i("img", {attrs: {src: e.pic, alt: ""}})])])]
        })), i("div", {
            staticClass: "swiper-pagination",
            attrs: {slot: "pagination"},
            slot: "pagination"
        })], 2), i("div", {
            staticClass: "ad-close", on: {
                click: function (e) {
                    return e.stopPropagation(), t.handleClose(e)
                }
            }
        }), i("div", {staticClass: "ad-tag"})], 1)
    }), [], !1, null, "0f3ac0cc", null).exports), nt = i(10), ot = i.n(nt);
    i(29);

    function rt(t, e, i, n, o, r, a) {
        try {
            var s = t[r](a), c = s.value
        } catch (t) {
            return void i(t)
        }
        s.done ? e(c) : Promise.resolve(c).then(n, o)
    }

    var at = {
        data: function () {
            return {HOST: O.a, isLoading: !1, tagList: [], title: "话题"}
        }, mounted: function () {
            this.fetchTopicList()
        }, methods: {
            fetchTopicList: function () {
                var t, e = this;
                return (t = ot.a.mark((function t() {
                    var i;
                    return ot.a.wrap((function (t) {
                        for (; ;) switch (t.prev = t.next) {
                            case 0:
                                return e.isLoading = !0, t.prev = 1, t.next = 4, e.bpapi({
                                    type: "get",
                                    url: "//api.vc.bilibili.com/topic_svr/v1/topic_svr/hot_entry_web"
                                });
                            case 4:
                                i = t.sent, e.tagList = i.data.list || [], e.title = i.data.title || "话题", t.next = 12;
                                break;
                            case 9:
                                t.prev = 9, t.t0 = t.catch(1), console.error(t.t0);
                            case 12:
                                e.isLoading = !1;
                            case 13:
                            case"end":
                                return t.stop()
                        }
                    }), t, null, [[1, 9]])
                })), function () {
                    var e = this, i = arguments;
                    return new Promise((function (n, o) {
                        var r = t.apply(e, i);

                        function a(t) {
                            rt(r, n, o, a, s, "next", t)
                        }

                        function s(t) {
                            rt(r, n, o, a, s, "throw", t)
                        }

                        a(void 0)
                    }))
                })()
            }, getIconStyle: function (t) {
                return {"background-image": "url(".concat(Object(p.bfsImgLink)(t, 16, 16), ")")}
            }, getTopicLink: function (t) {
                return t.topic_link || "".concat(O.a.T, "/topic/").concat(t.topic_id, "/feed")
            }, handleShowMoreClick: function () {
            }, handleClickTopic: function () {
                Object(v.d)(y.d.TOPIC)
            }
        }
    }, st = (i(580), Object(_.a)(at, (function () {
        var t = this, e = t.$createElement, i = t._self._c || e;
        return i("div", {staticClass: "new-topic-panel"}, [i("div", {
            staticClass: "title tc-black fs-16",
            domProps: {textContent: t._s(t.title)}
        }), i("div", {staticClass: "more-button c-pointer"}, [i("a", {
            staticClass: "more tc-slate",
            attrs: {href: t.HOST.T + "/tag/#/hot", target: "_blank"},
            on: {click: t.handleShowMoreClick}
        }, [t._v("更多")])]), t.isLoading ? i("div", {staticClass: "loading-content"}, [t._m(0)]) : t._e(), t.isLoading ? t._e() : i("div", {staticClass: "tag-list"}, t._l(t.tagList, (function (e) {
            return i("div", {
                key: e.topic_id,
                staticClass: "tag-item"
            }, [i("div", {staticClass: "label"}, [i("div", {
                staticClass: "label-icon",
                style: t.getIconStyle(e.icon_url)
            }), i("div", {
                staticClass: "label-name",
                domProps: {textContent: t._s(e.icon_desc)}
            })]), i("a", {
                staticClass: "content",
                attrs: {href: t.getTopicLink(e), target: "_blank"},
                domProps: {textContent: t._s("#" + e.topic_name + "#")},
                on: {click: t.handleClickTopic}
            })])
        })), 0)])
    }), [function () {
        var t = this.$createElement, e = this._self._c || t;
        return e("div", {staticClass: "loading-text tc-slate"}, [e("img", {
            staticClass: "loading-img",
            attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/loading.png"}
        }), e("span", [this._v("loading...")])])
    }], !1, null, "58cf9fb5", null).exports), ct = i(116);

    function lt(t, e) {
        var i = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(t);
            e && (n = n.filter((function (e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }))), i.push.apply(i, n)
        }
        return i
    }

    function ut(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = null != arguments[e] ? arguments[e] : {};
            e % 2 ? lt(Object(i), !0).forEach((function (e) {
                dt(t, e, i[e])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : lt(Object(i)).forEach((function (e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
            }))
        }
        return t
    }

    function dt(t, e, i) {
        return e in t ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = i, t
    }

    var ht = {
            components: {SvgIcon: i(231).a}, data: function () {
                return {mostViewedUps: [], currentPage: 1, currentView: 0}
            }, mounted: function () {
                this.fetchMostViewedUps()
            }, methods: {
                fetchMostViewedUps: function () {
                    var t = this;
                    this.bpapi({
                        url: O.a.API_VC + "/dynamic_svr/v1/dynamic_svr/w_dyn_uplist",
                        method: "get",
                        data: {teenagers_mode: Number(0)}
                    }).then((function (e) {
                        t.mostViewedUps = e.data.items || [], t.$nextTick((function () {
                            var e = t.$refs.panel;
                            t.$emit("heightChange", e ? e.clientHeight : 0)
                        })), t.mostViewedUps.length && Object(v.d)(y.d.TOP_PROFILE_PICTURE, t.mostViewedUps.length)
                    }))
                }, handleClick: function (t, e) {
                    void 0 !== t ? (this.$set(this.mostViewedUps, e, ut(ut({}, this.mostViewedUps[e]), {}, {has_update: 0})), Object(v.d)(y.d.TOP_PROFILE_PICTURE_CLICK, e), this.$emit("openFeed", t), this.currentView = e + 2) : (this.$emit("openFeed"), this.currentView = 0)
                }, changePage: function (t) {
                    var e = this.currentPage + t;
                    e <= 0 || e - 1 >= (this.mostViewedUps.length + 1) / 8 || (Object(v.d)(y.d.TOP_PROFILE_PICTURE_PAGE_CLICK, Number(t > 0)), this.currentPage = e)
                }, avatarStyle: function (t) {
                    return {"background-image": "url(".concat(Object(p.bfsImgLink)(t, 36, 36), ")")}
                }
            }
        }, ft = (i(581), Object(_.a)(ht, (function () {
            var t = this, e = t.$createElement, i = t._self._c || e;
            return t.mostViewedUps.length ? i("div", {
                ref: "panel",
                staticClass: "most-viewed-panel"
            }, [i("SvgIcon", {
                staticClass: "icon",
                class: {active: t.currentPage > 1},
                attrs: {name: "before"},
                nativeOn: {
                    click: function (e) {
                        return t.changePage(-1)
                    }
                }
            }), i("div", {staticClass: "list-container"}, [i("div", {
                staticClass: "list-content",
                style: {left: "-" + 8 * (t.currentPage - 1) * 72 + "px"}
            }, [i("div", {
                staticClass: "most-viewed-item", on: {
                    click: function (e) {
                        return t.handleClick()
                    }
                }
            }, [i("div", {staticClass: "section"}, [i("div", {
                staticClass: "icon-all",
                class: {active: 0 === t.currentView}
            }, [i("SvgIcon", {staticClass: "icon", attrs: {name: "windmill"}})], 1)]), i("div", {
                staticClass: "name",
                class: {active: 0 === t.currentView}
            }, [t._v("全部动态")])]), t._l(t.mostViewedUps, (function (e, n) {
                return i("div", {
                    key: n, staticClass: "most-viewed-item", on: {
                        click: function (i) {
                            return t.handleClick(e.user_profile.info.uid, n)
                        }
                    }
                }, [i("div", {staticClass: "section"}, [i("div", {
                    staticClass: "avatar",
                    class: {active: t.currentView === n + 2},
                    style: t.avatarStyle(e.user_profile.info.face)
                }, [e.has_update ? i("div", {staticClass: "red-dot"}) : t._e()])]), i("div", {
                    staticClass: "name",
                    class: {active: t.currentView === n + 2},
                    domProps: {textContent: t._s(e.user_profile.info.uname)}
                })])
            }))], 2)]), i("SvgIcon", {
                staticClass: "icon",
                class: {active: t.mostViewedUps.length > 8 * t.currentPage - 1},
                attrs: {name: "next"},
                nativeOn: {
                    click: function (e) {
                        return t.changePage(1)
                    }
                }
            })], 1) : t._e()
        }), [], !1, null, "28eb68ea", null).exports), pt = i(230), mt = i(218), vt = {
            data: function () {
                return {
                    myLoginInfo: void 0,
                    myUserInfo: void 0,
                    showStickyBar: !1,
                    showDraft: !1,
                    draftLoading: !1,
                    draftError: !1,
                    draftList: [],
                    draftCount: 0,
                    pageType: y.c.MAIN,
                    scrollDom: window,
                    tab: this.getTab(),
                    editDraftVisible: !1,
                    editingDraft: void 0,
                    canLottery: !1,
                    canPickComment: !1,
                    canCloseComment: !1,
                    canReserve: !1,
                    reserveTypes: [],
                    currentFeedUid: void 0,
                    mostViewedPanelHeight: 0,
                    hasBanner: !1
                }
            },
            components: {
                Card: g.a,
                UserPanel: W.a,
                NoticePanel: Y,
                LivePanel: Q,
                AdPanel: it,
                NewTagPanel: st,
                FeedCard: V,
                PublishPanel: G.a,
                BackTop: ct.a,
                CheckLogin: q.a,
                MostViewedPanel: ft,
                AdaptiveScroll: pt.a
            },
            mounted: function () {
                var t = this;
                Object(v.c)("444.41", "000391", "000502", {}), this.getLoginInfo().then((function () {
                    t.getMyUserInfo(), t.getDraftCount(), t.initEventListeners(), t.fetchLotteryRight()
                })), m.b.$on("PUBLISH_SUCCEED", this.handlePublishSucceed), m.b.$on("refresh-draft-feed", this.switchDraft)
            },
            beforeDestroy: function () {
                this.removeEventListeners()
            },
            methods: {
                getLoginInfo: function () {
                    var t = this;
                    return E.a.get().then((function (e) {
                        m.r.setMyLoginInfo(e.data), t.myLoginInfo = m.r.getMyLoginInfo()
                    }), (function (t) {
                        -8889 !== t.code && (window.location.href = "".concat(O.a.PASSPORT, "/login"))
                    }))
                }, getMyUserInfo: function () {
                    var t = this;
                    this.bpapi({
                        url: O.a.API_MAIN + "/x/web-interface/card",
                        method: "get",
                        data: {mid: m.r.getUid(), photo: !0}
                    }).then((function (e) {
                        m.r.setMyUserInfo(e.data), t.myUserInfo = m.r.getMyUserInfo()
                    }), (function () {
                        m.r.resetMyUserInfo()
                    }))
                }, fetchLotteryRight: function () {
                    var t = this;
                    this.bpapi({
                        url: "".concat(O.a.API_VC, "/dynamic_repost/v1/dynamic_repost/pre_judge"),
                        method: "get",
                        data: {uid: this.uid}
                    }).then((function (e) {
                        if (t.canLottery = !!e.data.lottery_right, e.data.up_permission) {
                            var i = e.data.up_permission, n = i.up_choose_comment, o = i.up_control_comment,
                                r = i.up_control_reserve;
                            n && 1 === n.permission && (t.canPickComment = !0), o && 1 === o.permission && (t.canCloseComment = !0), r && r.length && (t.reserveTypes = r.filter((function (t) {
                                return 1 === t.permission
                            })), t.canReserve = t.reserveTypes.length > 0)
                        }
                    }))
                }, getDraftCount: function () {
                    var t = this;
                    this.bpapi({
                        url: O.a.API_VC + "/dynamic_draft/v1/dynamic_draft/get_draft_cnt",
                        method: "get",
                        data: {}
                    }).then((function (e) {
                        t.draftCount = e.data.draft_count || 0
                    }))
                }, initEventListeners: function () {
                    window.addEventListener("scroll", this.scrollHandler)
                }, removeEventListeners: function () {
                    window.removeEventListener("scroll", this.scrollHandler)
                }, scrollHandler: function () {
                    var t = Math.max(document.documentElement.scrollTop, document.body.scrollTop), e = t > 64;
                    e !== this.showStickyBar && (this.showStickyBar = e), m.b.$emit(y.b.SCROLL, t)
                }, switchDraft: function (t) {
                    var e = this;
                    t || this.showDraft || Object(v.d)(y.d.TIMER_VISIT, ""), t || !this.showDraft ? (this.draftError = !1, this.draftLoading = !0, this.showDraft = !0, this.bpapi({
                        url: O.a.API_VC + "/dynamic_draft/v1/dynamic_draft/get_drafts",
                        method: "get",
                        data: {}
                    }).then((function (t) {
                        e.draftList = t.data.drafts || [], e.draftCount = e.draftList.length, e.draftLoading = !1
                    }), (function () {
                        e.draftError = !0
                    }))) : this.showDraft = !1
                }, fakeCard: function (t) {
                    try {
                        var e = m.r.getMyUserInfo().card, i = JSON.parse(t.request);
                        "string" == typeof i.pictures && (i.pictures = Object(o.e)(i.pictures));
                        var n = {
                            at_uids: i.at_uids,
                            at_control: i.at_control,
                            ctrl: i.ctrl,
                            category: "daily",
                            content: i.content,
                            description: i.description,
                            pictures: i.pictures,
                            pictures_count: i.pictures ? i.pictures.length : 0,
                            reply: 0,
                            role: "",
                            source: "",
                            title: "",
                            uid: e.mid
                        }, r = {head_url: e.face, uid: e.mid, name: e.name}, a = {
                            type: i.pictures ? y.a.PIC : y.a.WORD,
                            uid: ~~e.mid,
                            draft_id: t.draft_id,
                            dynamic_id: "-".concat(t.draft_id),
                            draft_status: t.publish_status,
                            error_msg: t.error_msg,
                            user_profile: {
                                card: {},
                                info: {
                                    face: e.face,
                                    uid: e.mid,
                                    uname: e.name,
                                    platform_user_level: (e.level_info || {}).current_level
                                }
                            },
                            timestamp: t.publish_time
                        };
                        if (t.attach_cards) {
                            var s = t.attach_cards[0], c = [{add_on_card_show_type: 2, attach_card: t.attach_cards[0]}];
                            return {
                                card: JSON.stringify({item: n, user: r}),
                                desc: a,
                                display: {add_on_card_info: c, attach_card: s},
                                extend_json: JSON.stringify({from: {emoji_type: 1}})
                            }
                        }
                        return {
                            card: JSON.stringify({item: n, user: r}),
                            desc: a,
                            extend_json: JSON.stringify({from: {emoji_type: 1}})
                        }
                    } catch (t) {
                        return console.error(t), {}
                    }
                }, getTab: function () {
                    var t = Object(o.h)(window.location);
                    return t.params && t.params.tab || y.a.ALL
                }, tabSwitchHandler: function (t) {
                    this.tab = t, window.history.replaceState && window.history.replaceState(null, null, "/?tab=".concat(t))
                }, handlePublishSucceed: function (t) {
                    t.isScheduled && (this.draftList.unshift(t.draft), this.draftCount++)
                }, removeDraft: function (t) {
                    this.draftList.splice(t, 1), this.draftCount--
                }, handleEditDraft: function (t) {
                    this.editingDraft = t, this.editDraftVisible = !0
                }, handleDraftChanged: function (t) {
                    var e = this;
                    this.draftList = this.draftList.filter((function (t) {
                        return t.draft_id !== e.editingDraft.draft_id
                    })), this.$nextTick((function () {
                        t.isScheduled && e.draftList.unshift(t.draft), e.draftCount = e.draftList.length, e.editDraftVisible = !1
                    }))
                }, handleEditFailed: function () {
                    this.switchDraft(!0), this.editDraftVisible = !1
                }, handleOpenFeed: function (t) {
                    this.currentFeedUid = t, document.documentElement.scrollTop = 0
                }
            },
            computed: {
                stickBarTop: function () {
                    return p.isOldBrowser ? "30px" : 0
                }, uid: function () {
                    return this.myLoginInfo && ~~this.myLoginInfo.mid
                }, attachQuery: function () {
                    return {attachType: this.attachType, attachId: this.attachId}
                }, getAttachCardQuery: function () {
                    var t = Object(mt.a)("biz_type"), e = Object(mt.a)("biz_id");
                    return /^\d+$/.test(t) && "" !== t && /^\d+$/.test(e) && "" !== e ? {
                        attachType: parseInt(t),
                        attachId: parseInt(e)
                    } : null
                }
            }
        }, gt = (i(582), Object(_.a)(vt, (function () {
            var t = this, e = this, i = e.$createElement, n = e._self._c || i;
            return n("div", {
                ref: "homePage",
                staticClass: "home-page f-clear"
            }, [n("div", {staticClass: "fixed-bg"}), n("div", {staticClass: "home-container"}, [n("div", {staticClass: "home-content"}, [n("div", {staticClass: "left-panel"}, [n("user-panel", {attrs: {"user-info": e.myUserInfo}}), n("AdaptiveScroll", {attrs: {distanceFromTop: 0}}, [n("live-panel")], 1)], 1), n("div", {staticClass: "center-panel"}, [n("div", {
                ref: "sectionBlock",
                staticClass: "section-block"
            }, [n("publish-panel", {
                attrs: {
                    "login-uid": e.uid,
                    "reserve-types": e.reserveTypes,
                    "can-reserve": e.canReserve,
                    "can-vote": !0,
                    "can-lottery": e.canLottery,
                    "can-pick-comment": e.canPickComment,
                    "can-close-comment": e.canCloseComment,
                    "store-input": !0,
                    "can-be-scheduled": !0,
                    scheduledCount: e.draftCount,
                    isLockedAsScheduled: e.showDraft,
                    cheeseAttachQuery: e.getAttachCardQuery
                }, on: {succeed: e.handlePublishSucceed}
            })], 1), n("div", {staticClass: "card-list"}, [e.draftCount || e.showDraft ? n("div", {staticClass: "draft-tab fs-14 ls-0 bg-white"}, [e._v("当前" + e._s(e.draftCount) + "条定时发布动态（" + e._s(e.draftCount) + "/20）"), n("a", {
                staticClass: "switch c-pointer",
                on: {
                    click: function (t) {
                        return e.switchDraft()
                    }
                }
            }, [e._v(e._s(e.showDraft ? "退出到动态首页" : "管理定时发布"))])]) : e._e(), e.showDraft ? e._e() : n("most-viewed-panel", {
                on: {
                    openFeed: e.handleOpenFeed,
                    heightChange: function (e) {
                        return t.mostViewedPanelHeight = e
                    }
                }
            }), e.showDraft && e.draftLoading ? n("div", {staticClass: "loading-content bg-white t-center tc-slate"}, [e.draftError ? n("div", [e._v("加载超时，"), n("a", {
                staticClass: "tc-blue-hover c-pointer",
                on: {
                    click: function (t) {
                        return e.switchDraft(!0)
                    }
                }
            }, [e._v("点击这里")]), e._v("试试刷新？")]) : n("div", [n("img", {
                staticClass: "loading-img",
                attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/loading.png"}
            }), e._v("loading...")])]) : e.showDraft && !e.draftCount ? n("div", {staticClass: "empty-content bg-white t-center"}, [n("img", {
                staticClass: "empty-img",
                attrs: {src: "//s1.hdslb.com/bfs/seed/bplus-common/dynamic-assets/empty2.png"}
            }), n("p", {staticClass: "fs-14 ls-0 tc-slate"}, [e._v("还没有定时动态呢～")])]) : e._e(), e._l(e.draftList, (function (t, i) {
                return t ? n("card", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.showDraft && !e.draftLoading,
                        expression: "showDraft && !draftLoading"
                    }],
                    key: t.draft_id,
                    attrs: {"card-info": e.fakeCard(t), idx: i, "is-self": !0, "is-draft": !0, "is-need-card-popup": !1},
                    on: {
                        "edit-draft": function (i) {
                            return e.handleEditDraft(t)
                        }, delete: function (t) {
                            return e.removeDraft(i)
                        }
                    }
                }) : e._e()
            })), e.showDraft ? e._e() : [e.currentFeedUid ? e._e() : n("feed-card", {
                attrs: {
                    "login-uid": e.uid,
                    uid: e.uid,
                    "scroll-dom": e.scrollDom,
                    tab: e.tab,
                    "tab-switch-handler": e.tabSwitchHandler
                }
            }), e.currentFeedUid ? n("feed-card", {
                attrs: {
                    "login-uid": e.uid,
                    uid: e.currentFeedUid,
                    "scroll-dom": e.scrollDom
                }
            }) : e._e()]], 2)]), n("div", {
                ref: "right",
                staticClass: "right-panel",
                attrs: {topOffset: 42, innerTopOffset: e.hasBanner ? 165 : 0}
            }, [n("notice-panel", {
                on: {
                    hasBanner: function (t) {
                        e.hasBanner = !0
                    }
                }
            }), n("ad-panel"), n("AdaptiveScroll", [n("new-tag-panel")], 1)], 1)])]), n("back-top"), n("check-login"), e.editDraftVisible ? n("div", {staticClass: "edit-draft-wrapper"}, [n("div", {staticClass: "edit-draft"}, [n("div", {staticClass: "header"}, [n("span", [e._v("编辑定时动态")]), n("i", {
                staticClass: "bp-icon-font icon-group-dynamic",
                on: {
                    click: function (t) {
                        e.editDraftVisible = !1
                    }
                }
            })]), n("publish-panel", {
                attrs: {
                    "login-uid": e.uid,
                    "can-pick-comment": e.canPickComment,
                    "can-close-comment": e.canCloseComment,
                    "can-be-scheduled": !0,
                    "edit-draft": e.editingDraft,
                    "is-locked-as-scheduled": !0
                }, on: {succeed: e.handleDraftChanged, failed: e.handleEditFailed}
            })], 1)]) : e._e()], 1)
        }), [], !1, null, "3532d7bf", null).exports), yt = {
            methods: {
                onRegistClick: function () {
                    Object(v.d)(y.d.NOLOGIN_REGISTER), window.location.href = "https://passport.bilibili.com/register/phone.html#/phone"
                }, onLoginClick: function () {
                    Object(v.d)(y.d.NOLOGIN_LOGIN), Object(p.quickLogin)((function () {
                        Object(v.d)(y.d.LOGIN_SUCCESS, {nologin: 1}), window.location.reload()
                    }))
                }
            }
        }, bt = (i(583), Object(_.a)(yt, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "login-panel"}, [e("div", {staticClass: "image"}), this._m(0), e("div", {staticClass: "button-box"}, [e("button", {
                staticClass: "regist",
                on: {click: this.onRegistClick}
            }, [this._v("注册\n    ")]), e("button", {
                staticClass: "login",
                on: {click: this.onLoginClick}
            }, [this._v("登录\n    ")])])])
        }), [function () {
            var t = this.$createElement, e = this._self._c || t;
            return e("div", {staticClass: "title"}, [e("h1", [this._v("属于你的新世界")]), e("h2", [this._v("赶快探索登录吧！")])])
        }], !1, null, "5b5f424f", null).exports), _t = {
            props: [],
            data: function () {
                return {scrollDom: window}
            },
            computed: {},
            watch: {},
            components: {FeedCard: V, BackTop: ct.a, NoticePanel: Y, LoginPanel: bt},
            beforeCreate: function () {
            },
            created: function () {
            },
            beforeMount: function () {
            },
            mounted: function () {
                Object(v.c)("444.41", "000391", "000502", {nologin: 1})
            },
            beforeDestroy: function () {
            },
            destroyed: function () {
            },
            methods: {}
        }, wt = (i(584), {
            props: [], data: function () {
                return {initing: !0, isLogin: !1}
            }, computed: {}, watch: {}, components: {
                LoginHome: gt, GuestHome: Object(_.a)(_t, (function () {
                    var t = this.$createElement, e = this._self._c || t;
                    return e("div", {staticClass: "guest-home"}, [e("div", {staticClass: "main-panel"}, [e("feed-card", {
                        attrs: {
                            "scroll-dom": this.scrollDom,
                            "page-type": "GUEST"
                        }
                    })], 1), e("div", {staticClass: "right-panel"}, [e("login-panel"), e("notice-panel")], 1), e("back-top")], 1)
                }), [], !1, null, "a745e8d4", null).exports
            }, beforeCreate: function () {
            }, created: function () {
                var t = this, e = "https://s1.hdslb.com/bfs/seed/jinkela/header-v2/header.js";
                E.a.get().then((function (i) {
                    var n;
                    t.isLogin = null == i || null === (n = i.data) || void 0 === n ? void 0 : n.isLogin, t.initing = !1, f()(e)
                })).catch((function () {
                    t.initing = !1, f()(e)
                }))
            }, beforeMount: function () {
            }, mounted: function () {
            }, beforeDestroy: function () {
            }, destroyed: function () {
            }, methods: {}
        }), Ct = Object(_.a)(wt, (function () {
            var t = this.$createElement, e = this._self._c || t;
            return this.initing ? this._e() : e("div", [e("div", {
                staticClass: "z-top-container",
                staticStyle: {"min-height": "42px"}
            }), this.isLogin ? e("login-home") : this._e(), this.isLogin ? this._e() : e("guest-home")], 1)
        }), [], !1, null, "e423ce9a", null).exports,
        xt = (i(237), i(275), i(99), i(50), i(276), i(59), i(11), i(16), function (t) {
            return t ? t.replace(/^http:/, "") : ""
        });

    function kt(t, e) {
        if (t) {
            var i = t.getBoundingClientRect(), n = e || 0;
            return i.top < window.innerHeight + n && i.bottom >= 0
        }
    }

    function It(t, e, i) {
        var n;
        return function () {
            var o = this, r = arguments;
            if (n && clearTimeout(n), i) {
                var a = !n;
                n = setTimeout((function () {
                    n = null
                }), e), a && t.apply(o, r)
            } else n = setTimeout((function () {
                t.apply(o, r)
            }), e)
        }
    }

    function St(t, e) {
        var i, n;
        t.setAttribute("href", xt((i = e.data, n = e.locId, (window.BiliCm && window.BiliCm.Base && "function" == typeof window.BiliCm.Base.getSyncUrl ? window.BiliCm.Base.getSyncUrl(i, n, null, window.__BILI_CONFIG__ && window.__BILI_CONFIG__.show_bv) : (console.log("ad", "getSyncUrl not found"), "")) || ""))), t.setAttribute("data-target-url", e.data.url)
    }

    var Ot = ["scroll", "resize", "load"], Tt = {
        install: function (t, e) {
            var i = {}, n = {}, o = {};

            function r(t, e) {
                var r = e.value;
                if (r.data && r.locId && !r.noReport) {
                    var a = r.data.id || r.data.src_id, s = {el: t, data: r.data, locId: r.locId, showNow: !1};
                    r.noExposure ? n[a] = s : i[a] = s, o[a] = s, r.data.is_ad_loc ? St(t, r) : t.setAttribute("href", xt(r.data.url))
                }
            }

            function a(t, e) {
                for (var i = Object.keys(t), n = function (n) {
                    var o = t[i[n]], r = o.el, a = r.offsetHeight, s = o.data.id || o.data.src_id, c = !e || e === s;
                    kt(r, a / 2 * -1) && c && (o.showNow || (o.showNow = !0, function (t, e) {
                        window.BiliCm && window.BiliCm.Base && "function" == typeof window.BiliCm.Base.sendShowData ? window.BiliCm.Base.sendShowData(t, e) : console.log("ad", "sendShowData not found")
                    }(o.data, o.locId)), o.timer || (o.timer = setTimeout((function () {
                        clearTimeout(o.timer), kt(r, a / 2 * -1) && (!function (t, e) {
                            window.BiliCm && window.BiliCm.Base && "function" == typeof window.BiliCm.Base.sendStrictShowData ? window.BiliCm.Base.sendStrictShowData(t, e) : console.log("ad", "sendStrictShowData not found")
                        }(o.data, o.locId), delete t[i[n]]), delete o.timer
                    }), 1e3)))
                }, o = 0; o < i.length; o++) n(o)
            }

            t.directive("adReport", {
                bind: function (t, e) {
                    var i = e.value;
                    if (i.data && i.locId && !i.noReport) {
                        var n = i.data.id || i.data.src_id;
                        t.addEventListener("click", (function () {
                            !function (t, e) {
                                window.BiliCm && window.BiliCm.Base && "function" == typeof window.BiliCm.Base.sendClickData ? window.BiliCm.Base.sendClickData(t, e) : console.log("ad", "sendClickData not found")
                            }(o[n].data, i.locId)
                        }))
                    }
                    r(t, e)
                }, update: function (t, e) {
                    r(t, e)
                }
            });
            for (var s = 0; s < Ot.length; s++) window.addEventListener(Ot[s], It((function () {
                a(i)
            }), 200));
            m.b.$on("slide-show", (function (t) {
                if (t.data && t.locId && t.el) {
                    var e = t.data.id || t.data.src_id;
                    a(n, e)
                }
            }))
        }
    };
    s.a.use(u.a), s.a.use(Tt), s.a.use(Object(d.a)()), s.a.use(n.b), s.a.component(l.a.FlowLoader.name, l.a.FlowLoader), new s.a({
        el: "#app",
        store: r.a,
        components: {Home: Ct},
        computed: {
            appMarginTop: function () {
                return "IE 9" === Object(o.d)() ? "30px" : 0
            }
        },
        mounted: function () {
            window.spmReportData = {}, window.reportConfig = {
                sample: 1,
                scrollTracker: !0,
                msgObjects: "spmReportData"
            };
            var t = document.createElement("script");
            t.src = "https://s1.hdslb.com/bfs/seed/log/report/log-reporter.js", document.getElementsByTagName("body")[0].appendChild(t)
        }
    })
}]);
//# sourceMappingURL=index.d9d3f225.js.map